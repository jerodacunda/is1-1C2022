

----STARTUP---- (2 June 2022 19:55:38) as /home/clinux01/Escritorio/inge1/tuslibros1/linux64/CuisUniversity-5096.image!


Object subclass: #Cart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cart category: 'TusLibros' stamp: 'JDR 6/2/2022 20:38:51'!
Object subclass: #Cart
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartTest category: 'TusLibros' stamp: 'JDR 6/2/2022 20:39:07'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartTest methodsFor: 'no messages' stamp: 'JDR 6/2/2022 20:40:00'!
test01

	| cart |
	cart _ Cart new.
	
	self assert: cart isEmpty! !

!testRun: #CartTest #test01 stamp: 'JDR 6/2/2022 20:40:05'!
ERROR!

!testRun: #CartTest #test01 stamp: 'JDR 6/2/2022 20:40:05'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:40:09'!
isEmpty
	self shouldBeImplemented.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:40:14' prior: 50474124!
isEmpty
	
	^true! !

!testRun: #CartTest #test01 stamp: 'JDR 6/2/2022 20:40:16'!
PASSED!

!testRun: #CartTest #test01 stamp: 'JDR 6/2/2022 20:40:22'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:41:02'!
test01ANewCartShouldBeEmpty

	| cart |
	cart _ Cart new.
	
	self assert: cart isEmpty! !

!methodRemoval: CartTest #test01 stamp: 'JDR 6/2/2022 20:41:02'!
test01

	| cart |
	cart _ Cart new.
	
	self assert: cart isEmpty!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:46:39'!
test02

	| cart amount bookISBN |
	cart _ Cart new.
	bookISBN _ 1.
	amount _ 1.
	
	cart add: bookISBN amount: amount.
	
	self deny: cart isEmpty! !

!testRun: #CartTest #test02 stamp: 'JDR 6/2/2022 20:46:54'!
ERROR!

!testRun: #CartTest #test02 stamp: 'JDR 6/2/2022 20:46:54'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:47:12'!
add: aSmallInteger amount: aSmallInteger2 
	self shouldBeImplemented.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:48:56' prior: 50474146!
test02

	| cart bookISBN |
	cart _ Cart new.
	bookISBN _ 1.
	
	cart add: bookISBN.
	
	self deny: cart isEmpty! !

!testRun: #CartTest #test02 stamp: 'JDR 6/2/2022 20:49:01'!
ERROR!

!testRun: #CartTest #test02 stamp: 'JDR 6/2/2022 20:49:01'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:49:06'!
add: aSmallInteger 
	self shouldBeImplemented.! !

!classDefinition: #Cart category: 'TusLibros' stamp: 'JDR 6/2/2022 20:49:27'!
Object subclass: #Cart
	instanceVariableNames: 'content'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:49:25' prior: 50474175!
add: aBookISBN 
	
	content _ aBookISBN ! !

!testRun: #CartTest #test02 stamp: 'JDR 6/2/2022 20:49:28'!
FAILURE!

!methodRemoval: Cart #add:amount: stamp: 'JDR 6/2/2022 20:49:34'!
add: aSmallInteger amount: aSmallInteger2 
	self shouldBeImplemented.!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:50:06' prior: 50474186!
add: aBookISBN 
	
	content add: aBookISBN.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:51:29' prior: 50474164!
test02

	| cart bookISBN |
	cart _ Cart new.
	bookISBN _ 1.
	
	cart add: bookISBN.
	
	self deny: cart isEmpty.! !

!testRun: #CartTest #test02 stamp: 'JDR 6/2/2022 20:51:30'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:51:53' overrides: 16920235!
initialize

	content _ OrderedCollection new.! !

!testRun: #CartTest #test02 stamp: 'JDR 6/2/2022 20:51:56'!
FAILURE!

!testRun: #CartTest #test02 stamp: 'JDR 6/2/2022 20:51:56'!
FAILURE!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:54:21' prior: 50474128!
isEmpty
	
	^content isEmpty! !

!testRun: #CartTest #test02 stamp: 'JDR 6/2/2022 20:54:25'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:55:16'!
test02ACartShouldNotBeEmptyAfterAddingToCart

	| cart bookISBN |
	cart _ Cart new.
	bookISBN _ 1.
	
	cart add: bookISBN.
	
	self deny: cart isEmpty.! !

!methodRemoval: CartTest #test02 stamp: 'JDR 6/2/2022 20:55:16'!
test02

	| cart bookISBN |
	cart _ Cart new.
	bookISBN _ 1.
	
	cart add: bookISBN.
	
	self deny: cart isEmpty.!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:57:26'!
test03AnUnregistered

	| cart bookISBN |
	cart _ Cart new.
	bookISBN _ 1.
	
	cart add: bookISBN.
	
	self deny: cart isEmpty.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:57:49' prior: 50474226!
test02ACartShouldNotBeEmptyAfterAddingToCart

	| cart book |
	cart _ Cart new.
	book _ self book.
	
	cart add: book.
	
	self deny: cart isEmpty.! !

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 20:57:55'!
ERROR!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 20:57:55'!
ERROR!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 20:58:29'!
book

	^1! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/2/2022 20:58:33'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 20:58:35'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:10:15'!
test03OnlyCanAddToCartBooksInCatalog

	| cart book |
	cart _ Cart new.
	book _ self book.				
	
	cart add: book.
	
	self assert: cart isEmpty.
	! !

Object subclass: #BookCatalog
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #BookCatalog category: 'TusLibros' stamp: 'JDR 6/2/2022 21:10:38'!
Object subclass: #BookCatalog
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #BookCatalog category: 'TusLibros' stamp: 'JDR 6/2/2022 21:11:39'!
Object subclass: #BookCatalog
	instanceVariableNames: 'catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!BookCatalog methodsFor: 'no messages' stamp: 'JDR 6/2/2022 21:11:36'!
hasBook: aBook

	^catalog includes: aBook.! !

!classDefinition: #Cart category: 'TusLibros' stamp: 'JDR 6/2/2022 21:13:56'!
Object subclass: #Cart
	instanceVariableNames: 'content catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:13:53' prior: 50474197!
add: aBook 
	
	(catalog includes: aBook) ifFalse: [ self error: Cart cannotAddBooksNotInCatalog ].
	content add: aBook.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/2/2022 21:14:29'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:14:31'!
ERROR!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:14:31'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:15:05' prior: 50474211 overrides: 16920235!
initialize

	content _ OrderedCollection new.
	catalog _ BookCatalog new.! !

!classDefinition: #BookCatalog category: 'TusLibros' stamp: 'JDR 6/2/2022 21:15:31'!
Object subclass: #BookCatalog
	instanceVariableNames: 'bookList'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!BookCatalog methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:15:31' prior: 50474294!
hasBook: aBook

	^bookList includes: aBook.! !
!BookCatalog methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:15:58' overrides: 16920235!
initialize

	bookList _ Set new.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/2/2022 21:16:02'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:16:03'!
ERROR!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:16:03'!
ERROR!
!BookCatalog methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:16:58'!
addBookToCatalog: aBook

	bookList add: aBook.! !

!methodRemoval: CartTest #test03AnUnregistered stamp: 'JDR 6/2/2022 21:17:35'!
test03AnUnregistered

	| cart bookISBN |
	cart _ Cart new.
	bookISBN _ 1.
	
	cart add: bookISBN.
	
	self deny: cart isEmpty.!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:21:07'!
ERROR!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:21:07'!
ERROR!

!methodRemoval: BookCatalog #addBookToCatalog: stamp: 'JDR 6/2/2022 21:22:32'!
addBookToCatalog: aBook

	bookList add: aBook.!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:23:57' prior: 50474322 overrides: 16920235!
initialize

	content _ OrderedCollection new.
	catalog _ BookCatalog with: 1.! !

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:24:01'!
ERROR!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:24:01'!
ERROR!
!BookCatalog class methodsFor: 'no messages' stamp: 'JDR 6/2/2022 21:25:21'!
with: aaa

	^self new initializeWith: aaa! !
!BookCatalog methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:25:34'!
initializeWith: aaa

	bookList _ Set with: aaa! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/2/2022 21:25:38'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:25:39'!
ERROR!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:25:39'!
ERROR!

!methodRemoval: BookCatalog #initialize stamp: 'JDR 6/2/2022 21:26:18'!
initialize

	bookList _ Set new.!

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/2/2022 21:27:06'!
ERROR!

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/2/2022 21:27:06'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:27:23' prior: 50474305!
add: aBook 
	
	(catalog hasBook: aBook) ifFalse: [ self error: Cart cannotAddBooksNotInCatalog ].
	content add: aBook.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/2/2022 21:27:26'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:27:27'!
PASSED!

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/2/2022 21:27:28'!
FAILURE!

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/2/2022 21:27:28'!
FAILURE!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:30:20' prior: 50474269!
test03OnlyCanAddToCartBooksInCatalog

	| cart book |
	cart _ Cart new.
	book _ 2.				
	
	self 
		should: [ cart add: book ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart.
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/2/2022 21:30:22'!
ERROR!

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/2/2022 21:30:22'!
ERROR!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:30:43' prior: 50474436!
test03OnlyCanAddToCartBooksInCatalog

	| cart book |
	cart _ Cart new.
	book _ 2.				
	
	self 
		should: [ cart add: book ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalog.
			self assert: cart isEmpty.
		]
	

	! !
!Cart class methodsFor: 'no messages' stamp: 'JDR 6/2/2022 21:31:11'!
cannotAddBooksNotInCatalog

	^'Book is not edited by TusLibros.com'! !

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/2/2022 21:31:16'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:31:17'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/2/2022 21:31:18'!
PASSED!
!BookCatalog methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:31:33' prior: 50474392!
initializeWith: aBook

	bookList _ Set with: aBook! !
!BookCatalog class methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:31:38' prior: 50474388!
with: aBook

	^self new initializeWith: aBook! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:32:05' prior: 50474454!
test03OnlyCanAddToCartBooksInCatalog

	| cart book |
	cart _ Cart new.
	book _ 0.				
	
	self 
		should: [ cart add: book ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalog.
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/2/2022 21:32:06'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:33:28'!
test04

	| cart book |
	cart _ Cart new.
	book _ self book.
	
					
	

	

	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:33:54'!
test02ACartShouldNotBeEmptyAfterAddingBookToCart

	| cart book |
	cart _ Cart new.
	book _ self book.
	
	cart add: book.
	
	self deny: cart isEmpty.! !

!methodRemoval: CartTest #test02ACartShouldNotBeEmptyAfterAddingToCart stamp: 'JDR 6/2/2022 21:33:54'!
test02ACartShouldNotBeEmptyAfterAddingToCart

	| cart book |
	cart _ Cart new.
	book _ self book.
	
	cart add: book.
	
	self deny: cart isEmpty.!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:39:48' prior: 50474376 overrides: 16920235!
initialize

	content _ OrderedCollection new.
	catalog _ Set with: 1.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/2/2022 21:40:04'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/2/2022 21:40:04'!
ERROR!

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/2/2022 21:40:04'!
ERROR!

!testRun: #CartTest #test04 stamp: 'JDR 6/2/2022 21:40:04'!
PASSED!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:40:38' prior: 50474416!
add: aBook 
	
	(catalog includes: aBook) ifFalse: [ self error: Cart cannotAddBooksNotInCatalog ].
	content add: aBook.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/2/2022 21:40:38'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/2/2022 21:40:38'!
PASSED!

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/2/2022 21:40:38'!
PASSED!

!testRun: #CartTest #test04 stamp: 'JDR 6/2/2022 21:40:38'!
PASSED!

!classRemoval: #BookCatalog stamp: 'JDR 6/2/2022 21:40:45'!
Object subclass: #BookCatalog
	instanceVariableNames: 'bookList'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/2/2022 21:40:51'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/2/2022 21:40:51'!
PASSED!

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/2/2022 21:40:51'!
PASSED!

!testRun: #CartTest #test04 stamp: 'JDR 6/2/2022 21:40:51'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:42:34'!
test04CanAddToCartMany

	| cart book |
	cart _ Cart new.
	book _ self book.
	
					
	

	

	! !

!methodRemoval: CartTest #test04 stamp: 'JDR 6/2/2022 21:42:34'!
test04

	| cart book |
	cart _ Cart new.
	book _ self book.
	
					
	

	

	!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:43:49'!
test04CanAddToCartAnAmountOfABook

	| cart book |
	cart _ Cart new.
	book _ self book.
	
					
	

	

	! !

!methodRemoval: CartTest #test04CanAddToCartMany stamp: 'JDR 6/2/2022 21:43:49'!
test04CanAddToCartMany

	| cart book |
	cart _ Cart new.
	book _ self book.
	
					
	

	

	!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:43:58'!
test04CanAddToCartAnAmountOfACertainBook

	| cart book |
	cart _ Cart new.
	book _ self book.
	
					
	

	

	! !

!methodRemoval: CartTest #test04CanAddToCartAnAmountOfABook stamp: 'JDR 6/2/2022 21:43:58'!
test04CanAddToCartAnAmountOfABook

	| cart book |
	cart _ Cart new.
	book _ self book.
	
					
	

	

	!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:45:22' prior: 50474604!
test04CanAddToCartAnAmountOfACertainBook

	| cart book amount |
	cart _ Cart new.
	book _ self book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	
	
					
	

	

	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:46:05' prior: 50474617!
test04CanAddToCartAnAmountOfACertainBook

	| cart book amount |
	cart _ Cart new.
	book _ self book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: cart
	
	
	
					
	

	

	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/2/2022 21:47:48' prior: 50474626!
test04CanAddToCartAnAmountOfACertainBook

	| cart book amount |
	cart _ Cart new.
	book _ self book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: cart content size = 3.
	self assert: cart content includes: book
	
	
	
					
	

	

	! !

----STARTUP---- (3 June 2022 03:17:21) as /home/jerodacunda/Escritorio/8-TusLibros1/linux64/CuisUniversity-5096.image!


----End fileIn of /home/jerodacunda/Documentos/GitHub/is1-1C2022/08-TusLibros1/TusLibros.st----!

----End fileIn of /home/jerodacunda/Escritorio/8-TusLibros1/linux64/Packages/TerseGuide.pck.st----!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:22:10' prior: 50474135!
test04CanAddToCartAnAmountOfACertainBook

	| cart book amount |
	cart _ Cart new.
	book _ self book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: 3 equals: (cart content occurrencesOf: book)
	
	
	
					
	

	

	! !

!testRun: #CartTest #test04CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 03:22:11'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:22:16'!
add: aSmallInteger amount: aSmallInteger2 
	self shouldBeImplemented.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:22:37' prior: 50477122!
add: aBook amount: aSmallInteger2 
	self shouldBeImplemented.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:22:42' prior: 50477128!
add: aBook amount: anAmount 
	self shouldBeImplemented.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:23:16' prior: 50477133!
add: aBook amount: anAmount 
	
	content add: aBook withOccurrences: anAmount! !

!testRun: #CartTest #test04CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 03:23:17'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:24:45'!
content
	
	^content ! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:25:11' prior: 50474164 overrides: 16920235!
initialize

	content _ Bag new.
	catalog _ Set with: 1.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/3/2022 03:25:13'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/3/2022 03:25:13'!
PASSED!

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 03:25:13'!
PASSED!

!testRun: #CartTest #test04CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 03:25:13'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:37:34'!
test05CanConsultCartContents

	| cart book expectedCartContent |
	cart _ Cart new.
	book _ self book.
	
	cart add: book amount: 1.
	expectedCartContent _ Bag with: book.
	
	self assert: expectedCartContent equals: cart content
	
	
	
					
	

	

	! !

!testRun: #CartTest #test05CanConsultCartContents stamp: 'JDR 6/3/2022 03:37:39'!
PASSED!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:37:46' prior: 50477146!
content
	
	^content copy! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/3/2022 03:37:47'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/3/2022 03:37:47'!
PASSED!

!testRun: #CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 03:37:47'!
PASSED!

!testRun: #CartTest #test04CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 03:37:47'!
PASSED!

!testRun: #CartTest #test05CanConsultCartContents stamp: 'JDR 6/3/2022 03:37:47'!
PASSED!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:40:25'!
assertBookIncludedInCatalog: aBook

	^ (catalog includes: aBook) ifFalse: [ self error: Cart cannotAddBooksNotInCatalog ]! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:40:25' prior: 50474157!
add: aBook 
	
	self assertBookIncludedInCatalog: aBook.
	content add: aBook.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:40:35' prior: 50477138!
add: aBook amount: anAmount 
	
	self assertBookIncludedInCatalog: aBook.
	content add: aBook withOccurrences: anAmount! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:47:49'!
test03CanAddToCartAnAmountOfACertainBook

	| cart book amount |
	cart _ Cart new.
	book _ self book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: 3 equals: (cart content occurrencesOf: book)
	
	
	
					
	

	

	! !

!methodRemoval: CartTest #test04CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 03:47:49'!
test04CanAddToCartAnAmountOfACertainBook

	| cart book amount |
	cart _ Cart new.
	book _ self book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: 3 equals: (cart content occurrencesOf: book)
	
	
	
					
	

	

	!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:47:58'!
test04OnlyCanAddToCartBooksInCatalog

	| cart book |
	cart _ Cart new.
	book _ 0.				
	
	self 
		should: [ cart add: book ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalog.
			self assert: cart isEmpty.
		]
	

	! !

!methodRemoval: CartTest #test03OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 03:48:03'!
test03OnlyCanAddToCartBooksInCatalog

	| cart book |
	cart _ Cart new.
	book _ 0.				
	
	self 
		should: [ cart add: book ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalog.
			self assert: cart isEmpty.
		]
	

	!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:48:35' prior: 50477241!
test04OnlyCanAddToCartBooksInCatalog

	| cart book |
	cart _ Cart new.
	book _ 0.				
	
	self 
		should: [ cart add: book amount: 1 ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalog.
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 03:48:37'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/3/2022 03:48:37'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/3/2022 03:48:37'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 03:48:37'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 03:48:37'!
PASSED!

!testRun: #CartTest #test05CanConsultCartContents stamp: 'JDR 6/3/2022 03:48:37'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:48:59' prior: 50477267!
test04OnlyCanAddToCartBooksInCatalog

	| cart unregisteredBook |
	cart _ Cart new.
	unregisteredBook _ 0.				
	
	self 
		should: [ cart add: unregisteredBook amount: 1 ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalog.
			self assert: cart isEmpty.
		]
	

	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:51:22' prior: 50477299!
test04OnlyCanAddToCartBooksInCatalog

	| cart unregisteredBook |
	cart _ Cart new.
	unregisteredBook _ 0.				
	cart add: 1 amount: 0.
	self 
		should: [ cart add: unregisteredBook amount: 1 ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalog.
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 03:51:22'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/3/2022 03:51:22'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/3/2022 03:51:22'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 03:51:22'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 03:51:22'!
PASSED!

!testRun: #CartTest #test05CanConsultCartContents stamp: 'JDR 6/3/2022 03:51:22'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:51:34' prior: 50477314!
test04OnlyCanAddToCartBooksInCatalog

	| cart unregisteredBook |
	cart _ Cart new.
	unregisteredBook _ 0.				
	
	self 
		should: [ cart add: unregisteredBook amount: 1 ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalog.
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 03:51:34'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/3/2022 03:51:34'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/3/2022 03:51:34'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 03:51:34'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 03:51:34'!
PASSED!

!testRun: #CartTest #test05CanConsultCartContents stamp: 'JDR 6/3/2022 03:51:34'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:53:29'!
test05OnlyCanAddToCartAPositiveAmountOfABook

	| cart book |
	cart _ Cart new.
	book _ self book.				
	
	self 
		should: [ cart add: book amount: 0 ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !
!Cart class methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:53:56'!
cannotAddBooksNotInCatalogErrorDescription

	^'Book is not edited by TusLibros.com'! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:53:56' prior: 50477348!
test04OnlyCanAddToCartBooksInCatalog

	| cart unregisteredBook |
	cart _ Cart new.
	unregisteredBook _ 0.				
	
	self 
		should: [ cart add: unregisteredBook amount: 1 ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalogErrorDescription.
			self assert: cart isEmpty.
		]
	

	! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:53:56' prior: 50477201!
assertBookIncludedInCatalog: aBook

	^ (catalog includes: aBook) ifFalse: [ self error: Cart cannotAddBooksNotInCatalogErrorDescription ]! !

!methodRemoval: Cart class #cannotAddBooksNotInCatalog stamp: 'JDR 6/3/2022 03:53:56'!
cannotAddBooksNotInCatalog

	^'Book is not edited by TusLibros.com'!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:54:07'!
test06CanConsultCartContents

	| cart book expectedCartContent |
	cart _ Cart new.
	book _ self book.
	
	cart add: book amount: 1.
	expectedCartContent _ Bag with: book.
	
	self assert: expectedCartContent equals: cart content
	
	
	
					
	

	

	! !

!methodRemoval: CartTest #test05CanConsultCartContents stamp: 'JDR 6/3/2022 03:54:07'!
test05CanConsultCartContents

	| cart book expectedCartContent |
	cart _ Cart new.
	book _ self book.
	
	cart add: book amount: 1.
	expectedCartContent _ Bag with: book.
	
	self assert: expectedCartContent equals: cart content
	
	
	
					
	

	

	!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/3/2022 03:54:14'!
FAILURE!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/3/2022 03:54:14'!
FAILURE!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:54:50' prior: 50477214!
add: aBook amount: anAmount 
	
	self assertPositiveAmount: anAmount.
	self assertBookIncludedInCatalog: aBook.
	content add: aBook withOccurrences: anAmount! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:56:31' prior: 50477456!
add: aBook amount: anAmount 
	
	anAmount positive ifFalse: [ self error: Cart ].
	self assertBookIncludedInCatalog: aBook.
	content add: aBook withOccurrences: anAmount! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:56:42' prior: 50477464!
add: aBook amount: anAmount 
	
	anAmount positive ifFalse: [ self error: Cart invalidBookAmountErrorDescription ].
	self assertBookIncludedInCatalog: aBook.
	content add: aBook withOccurrences: anAmount! !
!Cart class methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:57:03'!
invalidBookAmountErrorDescription

	^'Amount must be 1 or greater'! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/3/2022 03:57:14'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/3/2022 03:57:14'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 03:57:14'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 03:57:14'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/3/2022 03:57:14'!
FAILURE!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/3/2022 03:57:14'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/3/2022 03:57:14'!
FAILURE!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/3/2022 03:57:48'!
FAILURE!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/3/2022 03:57:48'!
FAILURE!
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:58:31' prior: 50477381!
test05OnlyCanAddToCartAPositiveAmountOfABook

	| cart book invalidAmount |
	cart _ Cart new.
	book _ self book.			
	invalidAmount _ 0.
	
	self 
		should: [ cart add: book amount: invalidAmount ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/3/2022 03:58:35'!
FAILURE!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/3/2022 03:58:35'!
FAILURE!

	0 positive!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:59:02' prior: 50477473!
add: aBook amount: anAmount 
	
	anAmount strictlyPositive ifFalse: [ self error: Cart invalidBookAmountErrorDescription ].
	self assertBookIncludedInCatalog: aBook.
	content add: aBook withOccurrences: anAmount! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/3/2022 03:59:02'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/3/2022 03:59:02'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 03:59:02'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 03:59:02'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/3/2022 03:59:02'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/3/2022 03:59:02'!
PASSED!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:59:33'!
assertPositiveAmount: anAmount

	^ anAmount strictlyPositive ifFalse: [ self error: Cart invalidBookAmountErrorDescription ]! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 03:59:33' prior: 50477539!
add: aBook amount: anAmount 
	
	self assertPositiveAmount: anAmount.
	self assertBookIncludedInCatalog: aBook.
	content add: aBook withOccurrences: anAmount! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/3/2022 04:04:09' prior: 50477221!
test03CanAddToCartAnAmountOfACertainBook

	| cart book amount |
	cart _ Cart new.
	book _ self book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: amount equals: (cart content occurrencesOf: book)
	
	
	
					
	

	

	! !

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 04:04:09'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/3/2022 04:04:09'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/3/2022 04:04:09'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/3/2022 04:04:09'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/3/2022 04:04:09'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/3/2022 04:04:09'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/3/2022 04:04:09'!
PASSED!

----QUIT----(3 June 2022 04:11:39) CuisUniversity-5096.image priorSource: 4557982!

----STARTUP---- (4 June 2022 11:09:26) as /home/agus/Documents/ing1 2022/linux64/CuisUniversity-5096.image!


----End fileIn of /home/agus/Documents/ing1 2022/linux64/TusLibros.st----!
!Cart methodsFor: 'as yet unclassified' stamp: 'AF 6/4/2022 11:19:41'!
occurrencesOf: aBook

	^ content occurrencesOf: aBook.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/4/2022 11:19:50' prior: 50474121!
test03CanAddToCartAnAmountOfACertainBook

	| cart book amount |
	cart _ Cart new.
	book _ self book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: amount equals: (cart occurrencesOf: book)
	
	
	
					
	

	

	! !

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:19:52'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:19:52'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:19:52'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:19:52'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:19:52'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:19:52'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:19:52'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/4/2022 11:21:56' prior: 50474107!
test01ANewCartShouldBeEmpty

	| cart |
	cart _ Cart with: self catalog.
	
	self assert: cart isEmpty! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:21:59'!
ERROR!
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/4/2022 11:22:12'!
catalog
	self shouldBeImplemented.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/4/2022 11:22:29' prior: 50474288!
catalog
	^Set with: 1! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:22:30'!
ERROR!
!Cart class methodsFor: 'instance creation' stamp: 'AF 6/4/2022 11:22:40'!
with: aSet 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aSet ! !
!Cart class methodsFor: 'instance creation' stamp: 'AF 6/4/2022 11:22:57' prior: 50474299!
with: aCatalog 

	^self new initializeWith: aCatalog ! !
!Cart class methodsFor: 'instance creation' stamp: 'AF 6/4/2022 11:23:06' prior: 50474307!
with: aCatalog 

	^self new initializeWith: aCatalog! !
!Cart class methodsFor: 'instance creation' stamp: 'AF 6/4/2022 11:23:08' prior: 50474312!
with: aCatalog 

	^self new initializeWith: aCatalog! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:23:08'!
ERROR!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:23:08'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:23:08'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:23:08'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:23:08'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:23:08'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:23:08'!
ERROR!
!Cart methodsFor: 'initialization' stamp: 'AF 6/4/2022 11:23:13'!
initializeWith: aCatalog 
	self shouldBeImplemented.
	catalog := aCatalog.! !
!Cart methodsFor: 'initialization' stamp: 'AF 6/4/2022 11:23:28' prior: 50474343!
initializeWith: aCatalog 
	
	catalog := aCatalog.! !
!Cart methodsFor: 'initialization' stamp: 'AF 6/4/2022 11:23:58' prior: 50474348!
initializeWith: aCatalog 
	
	catalog := aCatalog.
	content _ Bag new.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:23:59'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:23:59'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:23:59'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:23:59'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:23:59'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:23:59'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/4/2022 11:24:24' prior: 50474113!
test02ACartShouldNotBeEmptyAfterAddingBookToCart

	| cart book |
	cart _ Cart with: self catalog.
	book _ self book.
	
	cart add: book.
	
	self deny: cart isEmpty.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/4/2022 11:24:32' prior: 50474293!
catalog
	^Set with: self book! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:24:33'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:24:33'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:24:33'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:24:33'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:24:33'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:24:33'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/4/2022 11:24:47' prior: 50474247!
test03CanAddToCartAnAmountOfACertainBook

	| cart book amount |
	cart _ Cart with: self catalog.
	book _ self book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: amount equals: (cart occurrencesOf: book)
	
	
	
					
	

	

	! !

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:24:48'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:24:48'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:24:48'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:24:48'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:24:48'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:24:48'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:24:48'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/4/2022 11:24:55' prior: 50474131!
test04OnlyCanAddToCartBooksInCatalog

	| cart unregisteredBook |
	cart _ Cart with: self catalog.
	unregisteredBook _ 0.				
	
	self 
		should: [ cart add: unregisteredBook amount: 1 ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalogErrorDescription.
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:24:55'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:24:55'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:24:55'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:24:55'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:24:55'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:24:55'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:24:55'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/4/2022 11:25:31' prior: 50474146!
test05OnlyCanAddToCartAPositiveAmountOfABook

	| cart book invalidAmount |
	cart _ Cart with: self catalog.
	book _ self book.			
	invalidAmount _ 0.
	
	self 
		should: [ cart add: book amount: invalidAmount ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:25:37'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:25:37'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:25:37'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:25:37'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:25:37'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:25:37'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:25:37'!
PASSED!
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/4/2022 11:25:52' prior: 50474161!
test06CanConsultCartContents

	| cart book expectedCartContent |
	cart _ Cart with: self catalog.
	book _ self book.
	
	cart add: book amount: 1.
	expectedCartContent _ Bag with: book.
	
	self assert: expectedCartContent equals: cart content
	
	
	
					
	

	

	! !

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:25:52'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:25:52'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:25:52'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:25:52'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:25:52'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:25:52'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:25:52'!
PASSED!

!methodRemoval: Cart #initialize stamp: 'AF 6/4/2022 11:26:02'!
initialize

	content _ Bag new.
	catalog _ Set with: 1.!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:26:05'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:26:05'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:26:05'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:26:05'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:26:05'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:26:05'!
PASSED!
!CartTest methodsFor: 'test - adding' stamp: 'AF 6/4/2022 11:46:39' prior: 50474377!
test02ACartShouldNotBeEmptyAfterAddingBookToCart

	| cart book |
	cart _ Cart with: self catalog.
	book _ self book.
	
	cart add: book amount: 1.
	
	self deny: cart isEmpty.! !

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:46:40'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:46:40'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:46:40'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:46:40'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:46:40'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:46:40'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:46:40'!
PASSED!

!methodRemoval: Cart #add: stamp: 'AF 6/4/2022 11:46:46'!
add: aBook 
	
	self assertBookIncludedInCatalog: aBook.
	content add: aBook.!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/4/2022 11:46:48'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/4/2022 11:46:48'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/4/2022 11:46:48'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/4/2022 11:46:48'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/4/2022 11:46:48'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/4/2022 11:46:48'!
PASSED!

----STARTUP---- (6 June 2022 17:14:28) as /home/clinux01/Escritorio/inge1/tuslibros1/linux64/CuisUniversity-5096.image!


!classRemoval: #Cart stamp: 'JDR 6/6/2022 17:14:33'!
Object subclass: #Cart
	instanceVariableNames: 'content catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CartTest stamp: 'JDR 6/6/2022 17:14:33'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

----End fileIn of /home/clinux01/Escritorio/inge1/tuslibros1/is1-1C2022-main/08-TusLibros1/TusLibros.st----!
!CartTest methodsFor: 'test - exceptions' stamp: 'JDR 6/6/2022 17:37:38'!
test07OnlyCanAddToCartAnIntegerAmountOfABook

	| cart book invalidAmount |
	cart _ Cart with: self catalog.
	book _ self book.			
	invalidAmount _ 1.1.
	
	self 
		should: [ cart add: book amount: invalidAmount ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 17:37:38'!
FAILURE!
!Cart methodsFor: 'assertions' stamp: 'JDR 6/6/2022 17:38:28'!
assertValidAmount: anAmount

	^ anAmount strictlyPositive ifFalse: [ self error: Cart invalidBookAmountErrorDescription ]! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 17:38:28' prior: 50474766!
add: aBook amount: anAmount 
	
	self assertValidAmount: anAmount.
	self assertBookIncludedInCatalog: aBook.
	content add: aBook withOccurrences: anAmount! !

!methodRemoval: Cart #assertPositiveAmount: stamp: 'JDR 6/6/2022 17:38:28'!
assertPositiveAmount: anAmount

	^ anAmount strictlyPositive ifFalse: [ self error: Cart invalidBookAmountErrorDescription ]!
!Cart methodsFor: 'assertions' stamp: 'JDR 6/6/2022 17:39:26' prior: 50474838!
assertValidAmount: anAmount
	
	anAmount isInteger ifFalse: [ self error: Cart invalidBookAmountErrorDescription ].
	anAmount strictlyPositive ifFalse: [ self error: Cart invalidBookAmountErrorDescription ]! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 17:39:26'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 17:39:26'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 17:39:26'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 17:39:26'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 17:39:26'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 17:39:26'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 17:39:26'!
PASSED!

Object subclass: #Cashier
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'JDR 6/6/2022 18:44:48'!
Object subclass: #Cashier
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'JDR 6/6/2022 18:44:53'!
Object subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'no messages' stamp: 'JDR 6/6/2022 18:50:00'!
test01ANewCartShouldBeEmpty

	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: self creditCard] 
		raise: Error
		withExceptionDo: [ :anError | self assert: Cashier cantCheckoutEmptyCartErrorDescription equals: anError messageText] ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:50:40'!
test01checkoutAnEmptyCartShoudRiseError

	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: self creditCard] 
		raise: Error
		withExceptionDo: [ :anError | self assert: Cashier cantCheckoutEmptyCartErrorDescription equals: anError messageText] ! !

!methodRemoval: CashierTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 18:50:40'!
test01ANewCartShouldBeEmpty

	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: self creditCard] 
		raise: Error
		withExceptionDo: [ :anError | self assert: Cashier cantCheckoutEmptyCartErrorDescription equals: anError messageText] !

TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'JDR 6/6/2022 18:51:12'!
TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:51:41'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:51:55'!
catalog
	self shouldBeImplemented.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:52:07' prior: 50474963!
catalog
	^Set with: self book! !

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:52:09'!
ERROR!

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:52:09'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:52:14'!
book
	self shouldBeImplemented.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:52:25' prior: 50474978!
book

	^1! !

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:52:26'!
ERROR!

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:52:26'!
ERROR!
!Cashier class methodsFor: 'instance creation' stamp: 'JDR 6/6/2022 18:52:37'!
cantCheckoutEmptyCartErrorDescription
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeCantCheckoutEmptyCartErrorDescription! !
!Cashier class methodsFor: 'instance creation' stamp: 'JDR 6/6/2022 18:53:18' prior: 50474993!
cantCheckoutEmptyCartErrorDescription
	
	^'cant checkout an empty cart'! !

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:53:23'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:53:39' prior: 50474924!
test01checkoutAnEmptyCartShoudRiseError

	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: self creditCard] 
		raise: Error
		withExceptionDo: [ :anError | self assert: Cashier cantCheckoutEmptyCartErrorDescription equals: anError messageText].! !

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:53:41'!
FAILURE!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:53:56' prior: 50475012!
test01checkoutAnEmptyCartShoudRiseError

	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: self creditCard] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: Cashier cantCheckoutEmptyCartErrorDescription equals: anError messageText].! !

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:53:56'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:54:16'!
creditCard
	self shouldBeImplemented.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:54:51' prior: 50475046!
creditCard
	^4085142798514785! !

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:54:54'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:55:04'!
checkout: aCart with: aSmallInteger 
	self shouldBeImplemented.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:55:26' prior: 50475058!
checkout: aCart with: aSmallInteger 
	
	self error: Cashier cantCheckoutEmptyCartErrorDescription.! !

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:55:27'!
PASSED!

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:55:30'!
PASSED!

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 18:55:30'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 18:56:23'!
test02
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: self creditCard] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: Cashier cantCheckoutEmptyCartErrorDescription equals: anError messageText].! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:01:59' prior: 50475079!
test02
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	
	self assert: 100 equals: (cashier checkout: cart with: self creditCard).
	self cart isEmpty.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:02:19' prior: 50475093!
test02
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	
	self assert: 100 equals: (cashier checkout: cart with: self creditCard).
	self assert: cart isEmpty.! !

!testRun: #CashierTest #test02 stamp: 'JDR 6/6/2022 19:02:20'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:04:45' prior: 50475063!
checkout: aCart with: aSmallInteger 
	
	(aCart isEmpty) ifTrue:[self error: Cashier cantCheckoutEmptyCartErrorDescription].
	aCart emptyContents.
	^100! !

!testRun: #CashierTest #test02 stamp: 'JDR 6/6/2022 19:04:49'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:05:05' prior: 50475116!
checkout: aCart with: aSmallInteger 
	
	(aCart isEmpty) ifTrue:[self error: Cashier cantCheckoutEmptyCartErrorDescription].
	aCart clearContents.
	^100! !

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 19:05:12'!
PASSED!

!testRun: #CashierTest #test02 stamp: 'JDR 6/6/2022 19:05:12'!
ERROR!

!testRun: #CashierTest #test02 stamp: 'JDR 6/6/2022 19:05:12'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:05:19'!
clearContents
	self shouldBeImplemented.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:05:58' prior: 50475141!
clearContents
	content _ Bag new.! !

!testRun: #CashierTest #test02 stamp: 'JDR 6/6/2022 19:06:01'!
PASSED!

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 19:06:02'!
PASSED!

!testRun: #CashierTest #test02 stamp: 'JDR 6/6/2022 19:06:02'!
PASSED!

----End fileIn of /home/clinux01/Escritorio/inge1/tuslibros1/linux64/Packages/TerseGuide.pck.st----!
!CartTest methodsFor: 'test - exceptions' stamp: 'JDR 6/6/2022 19:15:21'!
test08
	
	| cart bookPrice |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	
	bookPrice _ self catalog at: self book.
	
	self assert: bookPrice equals: cart subtotal.

	! !

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:15:30'!
ERROR!
!CartTest methodsFor: 'utils' stamp: 'JDR 6/6/2022 19:17:17' prior: 50474742!
catalog
	
	| catalog |
	catalog _ Dictionary new.
	catalog at: self book put: 100.
	^catalog! !

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:17:28'!
ERROR!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:17:28'!
ERROR!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:17:34'!
ERROR!
!Cart methodsFor: 'assertions' stamp: 'JDR 6/6/2022 19:18:00' prior: 50474779!
assertBookIncludedInCatalog: aBook

	^ (catalog includesKey: aBook) ifFalse: [ self error: Cart cannotAddBooksNotInCatalogErrorDescription ]! !

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:18:01'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:18:12'!
subtotal
	self shouldBeImplemented.! !
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:21:28' prior: 50478109!
subtotal
	
	| sum |
	sum _ 0.
	^content do: [ :aBook | sum _ sum + (catalog at: aBook)]! !

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:21:32'!
FAILURE!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:21:55' prior: 50478113!
subtotal
	
	| sum |
	sum _ 0.
	content do: [ :aBook | sum _ sum + (catalog at: aBook)].
	
	^sum! !

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:21:55'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 19:21:55'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 19:21:55'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 19:21:55'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 19:21:55'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 19:21:55'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 19:21:55'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 19:21:55'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:21:55'!
PASSED!
!CartTest methodsFor: 'test - exceptions' stamp: 'JDR 6/6/2022 19:23:14'!
test09
	
	| cart bookPrice |
	cart _ Cart with: self catalog.
	cart add: self book amount: 3.
	
	bookPrice _ self catalog at: self book.
	
	self assert: 3 * bookPrice equals: cart subtotal.

	! !

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 19:23:15'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 19:23:15'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 19:23:15'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 19:23:15'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 19:23:15'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 19:23:15'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 19:23:15'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 19:23:15'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:23:15'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 19:23:15'!
PASSED!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:23:54'!
clearContent
	content _ Bag new.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:23:54' prior: 50475126!
checkout: aCart with: aSmallInteger 
	
	(aCart isEmpty) ifTrue:[self error: Cashier cantCheckoutEmptyCartErrorDescription].
	aCart clearContent.
	^100! !

!methodRemoval: Cart #clearContents stamp: 'JDR 6/6/2022 19:23:54'!
clearContents
	content _ Bag new.!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:23:56' prior: 50478190!
clearContent

	content _ Bag new.! !

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 19:26:13'!
PASSED!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:30:46' prior: 50478121!
subtotal
	
	| sum |
	sum _ 0.
	^content sum: [ :aBook | (catalog at: aBook)].
! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 19:30:48'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 19:30:48'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 19:30:48'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 19:30:48'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 19:30:48'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 19:30:48'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 19:30:48'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:30:48'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 19:30:48'!
PASSED!
!Cart methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:30:55' prior: 50478212!
subtotal
	
	^content sum: [ :aBook | (catalog at: aBook)].
! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 19:30:56'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 19:30:56'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 19:30:56'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 19:30:56'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 19:30:56'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 19:30:56'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 19:30:56'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:30:56'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 19:30:56'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:34:53'!
test03
	
	| cart cashier expectedPrice |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 3.
	cart add: self book2 amount: 1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: self creditCard).
	self assert: cart isEmpty.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:35:05'!
book2

	^2! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:35:16' prior: 50474968!
catalog
	^Set with: self book with: self book2! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:35:56' prior: 50478292!
catalog
	
	| catalog |
	catalog _ Dictionary new.
	catalog at: self book put: 100.
	catalog at: self book2 put: 50.
	^catalog! !

!testRun: #CashierTest #test03 stamp: 'JDR 6/6/2022 19:35:59'!
FAILURE!

!testRun: #CashierTest #test03 stamp: 'JDR 6/6/2022 19:35:59'!
FAILURE!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:36:41' prior: 50478194!
checkout: aCart with: aSmallInteger 
	
	| subtotal |
	(aCart isEmpty) ifTrue:[self error: Cashier cantCheckoutEmptyCartErrorDescription].
	
	subtotal _ aCart subtotal.
	aCart clearContent.
	^subtotal! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!

!testRun: #CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!

!testRun: #CashierTest #test02 stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!

!testRun: #CashierTest #test03 stamp: 'JDR 6/6/2022 19:36:44'!
PASSED!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:36:57' prior: 50478309!
checkout: aCart with: aCreditCard 
	
	| subtotal |
	(aCart isEmpty) ifTrue:[self error: Cashier cantCheckoutEmptyCartErrorDescription].
	
	subtotal _ aCart subtotal.
	aCart clearContent.
	^subtotal! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:37:52'!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: self creditCard] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: Cashier cantCheckoutEmptyCartErrorDescription equals: anError messageText].! !

!methodRemoval: CashierTest #test01checkoutAnEmptyCartShoudRiseError stamp: 'JDR 6/6/2022 19:37:52'!
test01checkoutAnEmptyCartShoudRiseError

	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: self creditCard] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: Cashier cantCheckoutEmptyCartErrorDescription equals: anError messageText].!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:38:30'!
test02ChekoutOfACartWithOneBookShouldBeBookPrice
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	
	self assert: 100 equals: (cashier checkout: cart with: self creditCard).
	self assert: cart isEmpty.! !

!methodRemoval: CashierTest #test02 stamp: 'JDR 6/6/2022 19:38:30'!
test02
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	
	self assert: 100 equals: (cashier checkout: cart with: self creditCard).
	self assert: cart isEmpty.!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:39:12'!
test03CheckoutOfACartShouldBeSumOfCartContentPrices
	
	| cart cashier expectedPrice |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 3.
	cart add: self book2 amount: 1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: self creditCard).
	self assert: cart isEmpty.! !

!methodRemoval: CashierTest #test03 stamp: 'JDR 6/6/2022 19:39:12'!
test03
	
	| cart cashier expectedPrice |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 3.
	cart add: self book2 amount: 1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: self creditCard).
	self assert: cart isEmpty.!

!testRun: #CashierTest #test03CheckoutOfACartShouldBeSumOfCartContentPrices stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartShouldBeSumOfCartContentPrices stamp: 'JDR 6/6/2022 19:39:17'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:44:35'!
validCreditCard
	^4085142798514785! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:44:35' prior: 50478362!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: self validCreditCard] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: Cashier cantCheckoutEmptyCartErrorDescription equals: anError messageText].! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:44:35' prior: 50478410!
test03CheckoutOfACartShouldBeSumOfCartContentPrices
	
	| cart cashier expectedPrice |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 3.
	cart add: self book2 amount: 1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: self validCreditCard).
	self assert: cart isEmpty.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:44:35' prior: 50478390!
test02ChekoutOfACartWithOneBookShouldBeBookPrice
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	
	self assert: 100 equals: (cashier checkout: cart with: self validCreditCard).
	self assert: cart isEmpty.! !

!methodRemoval: CashierTest #creditCard stamp: 'JDR 6/6/2022 19:44:35'!
creditCard
	^4085142798514785!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/6/2022 19:48:34'!
Object subclass: #CreditCard
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:48:47'!
test04
	
	
	| invalidCreditCardNumber |
	invalidCreditCardNumber _ '1'.
	self should: [ | aMonthOfYear |CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 19:48:52'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:50:12' prior: 50478532!
test04
	
	
	| invalidCreditCardNumber aMonthOfYear |
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 19:50:15'!
ERROR!
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/6/2022 19:50:22'!
with: aString expiratingOn: aGregorianMonthOfYear 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aString expiratingOn: aGregorianMonthOfYear ! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/6/2022 19:52:34' prior: 50478566!
with: aString expiratingOn: aGregorianMonthOfYear 
	
	(aString size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	
	^self new initializeWith: aString expiratingOn: aGregorianMonthOfYear ! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 19:52:35'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 19:52:35'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartShouldBeSumOfCartContentPrices stamp: 'JDR 6/6/2022 19:52:35'!
PASSED!

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 19:52:35'!
ERROR!

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 19:52:35'!
ERROR!
!CreditCard class methodsFor: 'error descriptions' stamp: 'JDR 6/6/2022 19:52:47'!
invalidCardNumberErrorDescription
	self shouldBeImplemented.! !
!CreditCard class methodsFor: 'error descriptions' stamp: 'JDR 6/6/2022 19:55:38' prior: 50478601!
invalidCardNumberErrorDescription
	^ 'the credit card number must be 16'! !

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 19:55:38'!
PASSED!

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 19:55:41'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 19:55:41'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 19:55:41'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartShouldBeSumOfCartContentPrices stamp: 'JDR 6/6/2022 19:55:41'!
PASSED!

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 19:55:41'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:59:08' prior: 50478476!
validCreditCard
	^CreditCard with: '4444555566667777' 	expiringOn: GregorianMonthOfYear year: 2023 monthNumber: 7. ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:59:33' prior: 50478630!
validCreditCard
	^CreditCard with: '4444555566667777' 	expiratingOn: (GregorianMonthOfYear year: 2023 monthNumber: 7). ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 19:59:47' prior: 50478548!
test04	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:02:42'!
test05
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 1.

	self should: [ cashier checkout: cart with: self invalidCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText 
			self deny: cart isEmpty.
		]! !

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:02:46'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:02:50'!
invalidCreditCard
	self shouldBeImplemented.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:04:00' prior: 50478676!
invalidCreditCard
	
	^CreditCard with: '1111222233334444' expiratingOn: (GregorianMonthOfYear year: 2020 monthNumber: 7)! !

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:04:01'!
ERROR!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/6/2022 20:04:11'!
Object subclass: #CreditCard
	instanceVariableNames: 'string'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/6/2022 20:04:11'!
Object subclass: #CreditCard
	instanceVariableNames: 'string gregorianMonthOfYear'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'initialization' stamp: 'JDR 6/6/2022 20:04:11'!
initializeWith: aString expiratingOn: aGregorianMonthOfYear 
	self shouldBeImplemented.
	string := aString.
	gregorianMonthOfYear := aGregorianMonthOfYear.! !

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/6/2022 20:04:53'!
Object subclass: #CreditCard
	instanceVariableNames: 'string gregorianMonthOfYear cardNumber'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/6/2022 20:04:54'!
Object subclass: #CreditCard
	instanceVariableNames: 'string gregorianMonthOfYear cardNumber expirationDate'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'initialization' stamp: 'JDR 6/6/2022 20:04:52' prior: 50478704!
initializeWith: aString expiratingOn: aGregorianMonthOfYear 
	
	cardNumber := aString.
	expirationDate := aGregorianMonthOfYear.! !
!CreditCard methodsFor: 'initialization' stamp: 'JDR 6/6/2022 20:05:10' prior: 50478728!
initializeWith: aCreditcardNumber expiratingOn: aGregorianMonthOfYear 
	
	cardNumber := aCreditcardNumber.
	expirationDate := aGregorianMonthOfYear.! !
!CreditCard methodsFor: 'initialization' stamp: 'JDR 6/6/2022 20:05:17' prior: 50478735!
initializeWith: aCardNumber expiratingOn: aGregorianMonthOfYear 
	
	cardNumber := aCardNumber.
	expirationDate := aGregorianMonthOfYear.! !
!CreditCard methodsFor: 'initialization' stamp: 'JDR 6/6/2022 20:05:26' prior: 50478743!
initializeWith: aCardNumber expiratingOn: aExpirationDAte 
	
	cardNumber := aCardNumber.
	expirationDate := aExpirationDAte.! !
!CreditCard methodsFor: 'initialization' stamp: 'JDR 6/6/2022 20:05:31' prior: 50478751!
initializeWith: aCardNumber expiratingOn: aExpirationDate 
	
	cardNumber := aCardNumber.
	expirationDate := aExpirationDate.! !

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:05:34'!
FAILURE!
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/6/2022 20:05:52' prior: 50478576!
with: aCardNumber expiratingOn: aGregorianMonthOfYear 
	
	(aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	
	^self new initializeWith: aCardNumber expiratingOn: aGregorianMonthOfYear ! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/6/2022 20:06:05' prior: 50478768!
with: aCardNumber expiratingOn: aExpirationMonthOfYear 
	
	(aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	
	^self new initializeWith: aCardNumber expiratingOn: aExpirationMonthOfYear ! !

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:06:22'!
FAILURE!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:09:42' prior: 50478353!
checkout: aCart with: aCreditCard 
	
	| subtotal currentDate |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cantCheckoutEmptyCartErrorDescription].
	currentDate _ GregorianMonthOfYear current .
	(aCreditCard expirationDate < currentDate) ifTrue: [self error: Cashier]. 
	subtotal _ aCart subtotal.
	aCart clearContent.
	^subtotal! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:10:36'!
expiredCreditCard
	
	^CreditCard with: '1111222233334444' expiratingOn: (GregorianMonthOfYear year: 2020 monthNumber: 7)! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:10:36' prior: 50478659!
test05
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 1.

	self should: [ cashier checkout: cart with: self expiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText 
			self deny: cart isEmpty.
		]! !

!methodRemoval: CashierTest #invalidCreditCard stamp: 'JDR 6/6/2022 20:10:36'!
invalidCreditCard
	
	^CreditCard with: '1111222233334444' expiratingOn: (GregorianMonthOfYear year: 2020 monthNumber: 7)!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:23:15' prior: 50478812!
test05
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 1.

	self should: [ cashier checkout: cart with: self expiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
		]! !
!Cashier class methodsFor: 'instance creation' stamp: 'JDR 6/6/2022 20:23:39'!
expiredCardErrorDescription
	
	^'credit card is out of date'! !

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:23:54'!
ERROR!

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:23:54'!
ERROR!
!CreditCard methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:24:00'!
expirationDate
	self shouldBeImplemented.
	^expirationDate! !
!CreditCard methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:24:05' prior: 50478858!
expirationDate

	^expirationDate! !

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:24:10'!
ERROR!

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:24:10'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:26:48' prior: 50478792!
checkout: aCart with: aCreditCard 
	
	| subtotal currentDate |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cantCheckoutEmptyCartErrorDescription].
	currentDate _ GregorianMonthOfYear current .
	(aCreditCard expirationDate < currentDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	subtotal _ aCart subtotal.
	aCart clearContent.
	^subtotal! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 20:26:48'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 20:26:48'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 20:26:48'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 20:26:48'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 20:26:48'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 20:26:48'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 20:26:48'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 20:26:48'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 20:26:48'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 20:26:48'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:26:48'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfACartShouldBeSumOfCartContentPrices stamp: 'JDR 6/6/2022 20:26:48'!
ERROR!

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 20:26:48'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:26:48'!
ERROR!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 20:27:35'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:27:35'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfACartShouldBeSumOfCartContentPrices stamp: 'JDR 6/6/2022 20:27:35'!
ERROR!

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 20:27:35'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:27:35'!
ERROR!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:27:40'!
ERROR!

aCreditCard !

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:28:55'!
ERROR!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:28:55'!
ERROR!

currentDate!

aCreditCard!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:30:08' prior: 50478872!
checkout: aCart with: aCreditCard 
	
	| subtotal currentDate |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cantCheckoutEmptyCartErrorDescription].
	currentDate _ GregorianMonthOfYear current .
	((aCreditCard expirationDate) < currentDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	subtotal _ aCart subtotal.
	aCart clearContent.
	^subtotal! !

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:30:09'!
ERROR!

(aCreditCard expirationDate)!

currentDate!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:30:58' prior: 50478955!
checkout: aCart with: aCreditCard 
	
	| subtotal currentDate |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cantCheckoutEmptyCartErrorDescription].
	currentDate _ GregorianMonthOfYear current .
	((aCreditCard expirationDate) >= currentDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	subtotal _ aCart subtotal.
	aCart clearContent.
	^subtotal! !

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:31:00'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:31:57' prior: 50478637!
validCreditCard
	^CreditCard with: '4444555566667777' 	expiratingOn: (GregorianMonthOfYear year: 2022 monthNumber: 7). ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:31:59' prior: 50478993!
validCreditCard
	^CreditCard with: '4444555566667777' 	expiratingOn: (GregorianMonthOfYear year: 2024 monthNumber: 7). ! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 20:32:03'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:32:03'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfACartShouldBeSumOfCartContentPrices stamp: 'JDR 6/6/2022 20:32:03'!
ERROR!

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 20:32:03'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:32:03'!
ERROR!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:32:05'!
ERROR!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:33:47'!
ERROR!

aGregorianMonth!

aGregorianMonth year !
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:36:06' prior: 50478975!
checkout: aCart with: aCreditCard 
	
	| subtotal currentDate |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cantCheckoutEmptyCartErrorDescription].
	currentDate _ GregorianMonthOfYear current .
	((aCreditCard expirationDate) < currentDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	subtotal _ aCart subtotal.
	aCart clearContent.
	^subtotal! !

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:36:07'!
ERROR!

 (GregorianMonthOfYear year: 2024 monthNumber: 7) < GregorianMonthOfYear current!

 (September of: 2000 ) < GregorianMonthOfYear current!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:38:39' prior: 50479000!
validCreditCard
	^CreditCard with: '4444555566667777' 	expiratingOn: (July of: 2024). ! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 20:38:39'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:38:39'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartShouldBeSumOfCartContentPrices stamp: 'JDR 6/6/2022 20:38:39'!
PASSED!

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 20:38:39'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:38:39'!
ERROR!

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:38:39'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:38:59' prior: 50478805!
expiredCreditCard
	
	^CreditCard with: '1111222233334444' expiratingOn: (July of: 2020)! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 20:38:59'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 20:38:59'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartShouldBeSumOfCartContentPrices stamp: 'JDR 6/6/2022 20:38:59'!
PASSED!

!testRun: #CashierTest #test04 stamp: 'JDR 6/6/2022 20:38:59'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 20:38:59'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:39:58'!
test04ChekoutWithAnInvalidCardNumberShouldRaiseAnError	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!methodRemoval: CashierTest #test04 stamp: 'JDR 6/6/2022 20:39:58'!
test04	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:40:14'!
test05CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 1.

	self should: [ cashier checkout: cart with: self expiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
		]! !

!methodRemoval: CashierTest #test05 stamp: 'JDR 6/6/2022 20:40:14'!
test05
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 1.

	self should: [ cashier checkout: cart with: self expiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
		]!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 20:55:19'!
test04	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!methodRemoval: CashierTest #test04ChekoutWithAnInvalidCardNumberShouldRaiseAnError stamp: 'JDR 6/6/2022 20:55:19'!
test04ChekoutWithAnInvalidCardNumberShouldRaiseAnError	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:19:56'!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 3.
	cart add: self book2 amount: 1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: self validCreditCard).
	self assert: cart isEmpty.! !

!methodRemoval: CashierTest #test03CheckoutOfACartShouldBeSumOfCartContentPrices stamp: 'JDR 6/6/2022 21:19:56'!
test03CheckoutOfACartShouldBeSumOfCartContentPrices
	
	| cart cashier expectedPrice |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 3.
	cart add: self book2 amount: 1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: self validCreditCard).
	self assert: cart isEmpty.!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:23:27'!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 1.

	self should: [ cashier checkout: cart with: self expiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
		]! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:23:41'!
test05	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!methodRemoval: CashierTest #test04 stamp: 'JDR 6/6/2022 21:23:41'!
test04	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. !

!methodRemoval: CashierTest #test05CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:23:45'!
test05CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 1.

	self should: [ cashier checkout: cart with: self expiredCreditCard ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
		]!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:23:46'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 21:23:47'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:24:27'!
test05CreditCardNumberMustBeValid	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!methodRemoval: CashierTest #test05 stamp: 'JDR 6/6/2022 21:24:27'!
test05	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. !
!Cashier class methodsFor: 'instance creation' stamp: 'JDR 6/6/2022 21:25:27'!
cannotCheckoutEmptyCartErrorDescription
	
	^'cant checkout an empty cart'! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:25:27' prior: 50479031!
checkout: aCart with: aCreditCard 
	
	| subtotal currentDate |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	currentDate _ GregorianMonthOfYear current .
	((aCreditCard expirationDate) < currentDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	subtotal _ aCart subtotal.
	aCart clearContent.
	^subtotal! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:25:27' prior: 50478481!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: self validCreditCard] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText].! !

!methodRemoval: Cashier class #cantCheckoutEmptyCartErrorDescription stamp: 'JDR 6/6/2022 21:25:27'!
cantCheckoutEmptyCartErrorDescription
	
	^'cant checkout an empty cart'!

!testRun: #CashierTest #test05CreditCardNumberMustBeValid stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!

!testRun: #CashierTest #test05CreditCardNumberMustBeValid stamp: 'JDR 6/6/2022 21:25:30'!
PASSED!
!CreditCard methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:26:50'!
isExpiredOn: aMonthOfYear

	^expirationDate < aMonthOfYear! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:27:12' prior: 50479328!
checkout: aCart with: aCreditCard 
	
	| subtotal currentDate |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	currentDate _ GregorianMonthOfYear current .
	(aCreditCard isExpiredOn: currentDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	subtotal _ aCart subtotal.
	aCart clearContent.
	^subtotal! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!

!testRun: #CashierTest #test05CreditCardNumberMustBeValid stamp: 'JDR 6/6/2022 21:27:12'!
PASSED!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:27:22' prior: 50479414!
checkout: aCart with: aCreditCard 
	
	| subtotal currentDate |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	currentDate _ GregorianMonthOfYear current .
	(aCreditCard isExpiredOn: currentDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	aCart clearContent.
	
	^subtotal! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!testRun: #CashierTest #test05CreditCardNumberMustBeValid stamp: 'JDR 6/6/2022 21:27:22'!
PASSED!

!methodRemoval: CreditCard #expirationDate stamp: 'JDR 6/6/2022 21:27:47'!
expirationDate

	^expirationDate!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/6/2022 21:28:19'!
Object subclass: #CreditCard
	instanceVariableNames: 'gregorianMonthOfYear cardNumber expirationDate'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/6/2022 21:28:19'!
Object subclass: #CreditCard
	instanceVariableNames: 'cardNumber expirationDate'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:41:14'!
checkout: aCart with: aCreditCard on: aDate
	
	| subtotal |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	aCart clearContent.
	
	^subtotal! !
!CashierTest methodsFor: 'utils' stamp: 'JDR 6/6/2022 21:43:29'!
validCheckOutMonthOfYear
	^July of: 2022. ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:44:01' prior: 50479194!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 3.
	cart add: self book2 amount: 1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: self validCreditCard on: self validCheckOutMonthOfYear).
	self assert: cart isEmpty.! !

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:44:03'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:44:03'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:44:03'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:44:03'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:44:03'!
PASSED!

!testRun: #CashierTest #test05CreditCardNumberMustBeValid stamp: 'JDR 6/6/2022 21:44:03'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:44:20' prior: 50478511!
test02ChekoutOfACartWithOneBookShouldBeBookPrice
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	
	self assert: 100 equals: (cashier checkout: cart with: self validCreditCard on: self validCheckOutMonthOfYear ).
	self assert: cart isEmpty.! !

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:44:20'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:44:20'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:44:20'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:44:20'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:44:20'!
PASSED!

!testRun: #CashierTest #test05CreditCardNumberMustBeValid stamp: 'JDR 6/6/2022 21:44:20'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:44:29' prior: 50479343!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: self validCreditCard on: self validCheckOutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText].! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:44:29'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:44:29'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:44:29'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:44:29'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:44:29'!
PASSED!

!testRun: #CashierTest #test05CreditCardNumberMustBeValid stamp: 'JDR 6/6/2022 21:44:29'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:44:56'!
test05	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!methodRemoval: CashierTest #test05CreditCardNumberMustBeValid stamp: 'JDR 6/6/2022 21:44:56'!
test05CreditCardNumberMustBeValid	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:45:06' prior: 50479222!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 1.

	self should: [ cashier checkout: cart with: self expiredCreditCard on: self validCheckOutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:45:06'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:45:06'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:45:06'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:45:06'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:45:06'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/6/2022 21:45:06'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:45:15'!
test05AMOVER	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!methodRemoval: CashierTest #test05 stamp: 'JDR 6/6/2022 21:45:15'!
test05	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. !

TestCase subclass: #CreditCard
	instanceVariableNames: ' '
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/6/2022 21:46:10'!
TestCase subclass: #CreditCard
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #CreditCard
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/6/2022 21:46:22'!
Object subclass: #CreditCard
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

TestCase subclass: #CreditCardTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCardTest category: 'TusLibros' stamp: 'JDR 6/6/2022 21:46:31'!
TestCase subclass: #CreditCardTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #CreditCard
	instanceVariableNames: 'expirationDate'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/6/2022 21:46:50'!
Object subclass: #CreditCard
	instanceVariableNames: 'expirationDate'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #CreditCard
	instanceVariableNames: 'cardNumber expirationDate'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/6/2022 21:46:58'!
Object subclass: #CreditCard
	instanceVariableNames: 'cardNumber expirationDate'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!

!testRun: #CashierTest #test05AMOVER stamp: 'JDR 6/6/2022 21:47:02'!
PASSED!
!CreditCardTest methodsFor: 'no messages' stamp: 'JDR 6/6/2022 21:47:38'!
test01
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!methodRemoval: CashierTest #test05AMOVER stamp: 'JDR 6/6/2022 21:49:31'!
test05AMOVER	
	
	| invalidCreditCardNumber aMonthOfYear |
	
	invalidCreditCardNumber _ '1'.
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. !

!testRun: #CreditCardTest #test01 stamp: 'JDR 6/6/2022 21:49:35'!
PASSED!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:49:48' prior: 50479870!
test01
	
	| aMonthOfYear |
	
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: self invalidCreditCardNumber expiratingOn: aMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!testRun: #CreditCardTest #test01 stamp: 'JDR 6/6/2022 21:49:53'!
ERROR!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:49:57'!
invalidCreditCardNumber
	self shouldBeImplemented.! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:50:05' prior: 50479919!
invalidCreditCardNumber
	^1! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:50:15' prior: 50479924!
invalidCreditCardNumber
	^'1'! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!

!testRun: #CreditCardTest #test01 stamp: 'JDR 6/6/2022 21:50:15'!
PASSED!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:50:59' prior: 50479903!
test01
	
	| aMonthOfYear |
	
	aMonthOfYear _ GregorianMonthOfYear year:  3500 monthNumber: 1.
	
	self should: [CreditCard with: self invalidCreditCardNumber expiratingOn: self validCheckOutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:51:08' prior: 50479976!
test01
	
	
	
	self should: [CreditCard with: self invalidCreditCardNumber expiratingOn: self validCheckOutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!testRun: #CreditCardTest #test01 stamp: 'JDR 6/6/2022 21:51:12'!
ERROR!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:51:16'!
validCheckOutMonthOfYear
	self shouldBeImplemented.! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:51:21' prior: 50480005!
validCheckOutMonthOfYear
	^July of: 2022. ! !

!testRun: #CreditCardTest #test01 stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!

!testRun: #CreditCardTest #test01 stamp: 'JDR 6/6/2022 21:51:21'!
PASSED!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:51:25' prior: 50479991!
test01	
	
	self should: [CreditCard with: self invalidCreditCardNumber expiratingOn: self validCheckOutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!testRun: #CreditCardTest #test01 stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!

!testRun: #CreditCardTest #test01 stamp: 'JDR 6/6/2022 21:51:25'!
PASSED!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/6/2022 21:52:31' prior: 50480060!
test01	
	
	self should: [CreditCard ownedBy: self validCardName with: self invalidCreditCardNumber expiratingOn: self validCheckOutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/6/2022 21:53:49'!
ownedBy: aName with: aCardNumber expiratingOn: aExpirationMonthOfYear 
	
	(aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	
	^self new initializeWith: aCardNumber expiratingOn: aExpirationMonthOfYear ! !

----QUIT----(6 June 2022 21:54:05) CuisUniversity-5096.image priorSource: 4575835!

----STARTUP---- (8 June 2022 03:04:44) as /home/jerodacunda/Escritorio/9-TusLibros2/linux64/CuisUniversity-5096.image!


----End fileIn of /home/jerodacunda/Documentos/GitHub/is1-1C2022/09-TusLibros it2/TusLibros-it2.st----!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:20:25'!
validCreditCard
	^CreditCard with: '4444555566667777' 	expiratingOn: (July of: 2024). ! !

!testRun: #CreditCardTest #test01 stamp: 'JDR 6/8/2022 03:20:32'!
ERROR!

!testRun: #CreditCardTest #test01 stamp: 'JDR 6/8/2022 03:20:32'!
ERROR!

!methodRemoval: CreditCardTest #validCreditCard stamp: 'JDR 6/8/2022 03:21:03'!
validCreditCard
	^CreditCard with: '4444555566667777' 	expiratingOn: (July of: 2024). !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:23:27'!
validCardName

	'Juancito'! !

!testRun: #CreditCardTest #test01 stamp: 'JDR 6/8/2022 03:23:30'!
PASSED!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:24:50'!
test01CreditCardNumberMustBeLength16	
	
	self should: [CreditCard ownedBy: self validCardName with: self invalidCreditCardNumber expiratingOn: self validCheckOutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!methodRemoval: CreditCardTest #test01 stamp: 'JDR 6/8/2022 03:24:51'!
test01	
	
	self should: [CreditCard ownedBy: self validCardName with: self invalidCreditCardNumber expiratingOn: self validCheckOutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:29:16'!
test02CreditCardNameMustBeAValidName
	
	self should: [CreditCard ownedBy: self invalidCardName with: self validCreditCardNumber expiratingOn: self validCheckOutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidNameErrorDescription equals: anError messageText ]. ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 03:29:56'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 03:29:56'!
ERROR!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 03:29:56'!
ERROR!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 03:30:04'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/8/2022 03:30:04'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 03:30:04'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 03:30:04'!
PASSED!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:35:29'!
validCardNumber
	'4444555566667777'. ! !

Object subclass: #ObjectToTestCreator
	instanceVariableNames: ' '
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #ObjectToTestCreator category: 'TusLibros' stamp: 'JDR 6/8/2022 03:36:10'!
Object subclass: #ObjectToTestCreator
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!ObjectToTestCreator methodsFor: 'no messages' stamp: 'JDR 6/8/2022 03:37:06'!
book

	^1! !
!ObjectToTestCreator methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:37:19'!
book2

	^2! !
!ObjectToTestCreator methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:37:33'!
catalog
	
	| catalog |
	catalog _ Dictionary new.
	catalog at: self book put: 100.
	catalog at: self book2 put: 50.
	^catalog! !
!ObjectToTestCreator methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:38:17'!
validCheckOutMonthOfYear
	^July of: 2022. ! !
!ObjectToTestCreator methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:38:29'!
validCardName

	'Juancito'! !
!ObjectToTestCreator methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:38:35'!
validCardNumber
	'4444555566667777'. ! !
!ObjectToTestCreator methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:39:00'!
validCreditCard
	^CreditCard with: '4444555566667777' 	expiratingOn: (July of: 2024). ! !
!ObjectToTestCreator methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:39:09'!
expiredCreditCard
	
	^CreditCard with: '1111222233334444' expiratingOn: (July of: 2020)! !

!classRenamed: #ObjectToTestCreator as: #XXX stamp: 'JDR 6/8/2022 03:39:29'!
Smalltalk renameClassNamed: #ObjectToTestCreator as: #XXX!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:40:40' prior: 50474708!
validCreditCard
	
	^CreditCard ownedBy: self validCardName with: self validCardNumber 	expiratingOn: self validCheckOutMonthOfYear . ! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:41:37' prior: 50474714!
expiredCreditCard
	
	^CreditCard ownedBy: self validCardName with: self validCardNumber expiratingOn: (July of: 2020)! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:42:14'!
invalidCreditCardNumber
	^'1'! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:42:27'!
invalidCardNumber
	^'1'! !

!methodRemoval: XXX #invalidCreditCardNumber stamp: 'JDR 6/8/2022 03:42:27'!
invalidCreditCardNumber
	^'1'!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:42:47'!
validCheckoutMonthOfYear
	^July of: 2022. ! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:42:47' prior: 50474724!
validCreditCard
	
	^CreditCard ownedBy: self validCardName with: self validCardNumber 	expiratingOn: self validCheckoutMonthOfYear . ! !

!methodRemoval: XXX #validCheckOutMonthOfYear stamp: 'JDR 6/8/2022 03:42:47'!
validCheckOutMonthOfYear
	^July of: 2022. !

!methodRemoval: CreditCardTest #validCardName stamp: 'JDR 6/8/2022 03:43:04'!
validCardName

	'Juancito'!

!methodRemoval: CreditCardTest #validCardNumber stamp: 'JDR 6/8/2022 03:43:06'!
validCardNumber
	'4444555566667777'. !

!methodRemoval: CreditCardTest #validCheckOutMonthOfYear stamp: 'JDR 6/8/2022 03:43:08'!
validCheckOutMonthOfYear
	^July of: 2022. !

!methodRemoval: CreditCardTest #invalidCreditCardNumber stamp: 'JDR 6/8/2022 03:43:10'!
invalidCreditCardNumber
	^'1'!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:44:19' prior: 50474562!
test01CreditCardNumberMustBeLength16	
	
	| xxx |
	xxx _ XXX new.
	
	self should: [CreditCard ownedBy: xxx validCardName with: xxx invalidCardNumber expiratingOn: xxx validCheckOutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 03:44:23'!
ERROR!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 03:44:23'!
ERROR!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:44:40' prior: 50474780!
test01CreditCardNumberMustBeLength16	
	
	| xxx |
	xxx _ XXX new.
	
	self should: [CreditCard ownedBy: xxx validCardName with: xxx invalidCardNumber expiratingOn: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 03:44:41'!
PASSED!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:45:19' prior: 50474587!
test02CreditCardNameMustBeAValidName
	
	| xxx |
	xxx _ XXX new.
	
	self should: [CreditCard ownedBy: xxx invalidCardName with: xxx validCardNumber expiratingOn: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidNameErrorDescription equals: anError messageText ]. ! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:46:33'!
invalidCardName

	' J u a '! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 03:47:48'!
invalidNameErrorDescription

	'Name is too short'! !

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 03:48:34'!
FAILURE!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 03:48:34'!
FAILURE!

----End fileIn of /home/jerodacunda/Escritorio/9-TusLibros2/linux64/Packages/TerseGuide.pck.st----!
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 03:52:12' prior: 50474510!
ownedBy: aName with: aCardNumber expiratingOn: aExpirationMonthOfYear 

	((aName withoutSeparators) size > 3) ifFalse: [self error: CreditCard invalidNameErrorDescription ].
	
	(aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	
	^self new initializeWith: aCardNumber expiratingOn: aExpirationMonthOfYear ! !

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 03:52:31'!
ERROR!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 03:52:31'!
ERROR!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 03:52:39'!
ERROR!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:53:03' prior: 50474833!
invalidCardName

	^ ' J u a '! !

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 03:53:06'!
ERROR!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 03:53:06'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 03:53:06'!
ERROR!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 03:53:10'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 03:53:12'!
ERROR!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 03:53:12'!
ERROR!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:53:35' prior: 50474700!
validCardName

	^'Juancito'! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:53:42' prior: 50474704!
validCardNumber
	^'4444555566667777'. ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 03:53:47'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 03:53:47'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 03:53:47'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 03:53:47'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 03:53:47'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 03:53:48'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 03:53:48'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/8/2022 03:53:48'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/8/2022 03:53:48'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 03:53:48'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/8/2022 03:53:48'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 03:53:48'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 03:53:48'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 03:53:48'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 03:53:48'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 03:53:54'!
PASSED!
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:55:44'!
test03CreditCardDateMustBeAMonthOfYear
	
	| xxx |
	xxx _ XXX new.
	
	self should: [CreditCard ownedBy: xxx validCardName with: xxx validCardNumber expiratingOn: xxx invalidExpirationDate] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidExpirationDateErrorDescription equals: anError messageText ]. ! !

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 03:55:47'!
ERROR!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:55:51'!
invalidExpirationDate
	self shouldBeImplemented.! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 03:58:03' prior: 50477893!
invalidExpirationDate
	
	^GregorianYear number: 2050! !

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 03:58:04'!
FAILURE!
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 03:58:52'!
invalidExpirationDateErrorDescription

	^'Expiration date must be a month and a year'! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 04:00:15' prior: 50477769!
ownedBy: aName with: aCardNumber expiratingOn: aExpirationMonthOfYear 

	((aName withoutSeparators) size > 3) ifFalse: [self error: CreditCard invalidNameErrorDescription ].	
	(aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	(aExpirationMonthOfYear isKindOf: GregorianMonthOfYear) ifFalse: [self error: CreditCard invalidExpirationDateErrorDescription ].	
	
	^self new initializeWith: aCardNumber expiratingOn: aExpirationMonthOfYear ! !

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 04:00:31'!
PASSED!
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 04:01:52' prior: 50477912!
ownedBy: aName with: aCardNumber expiratingOn: aExpirationMonthOfYear 

	((aName withoutSeparators) size > 3) ifFalse: [self error: CreditCard invalidNameErrorDescription ].	
	(aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	(aExpirationMonthOfYear isKindOf: GregorianMonthOfYear) ifFalse: [self error: CreditCard invalidExpirationDateErrorDescription ].	
	
	^self new initializeFor: aName with: aCardNumber expiratingOn: aExpirationMonthOfYear ! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 04:02:02' prior: 50477934!
ownedBy: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear 

	((aName withoutSeparators) size > 3) ifFalse: [self error: CreditCard invalidNameErrorDescription ].	
	(aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	(anExpirationMonthOfYear isKindOf: GregorianMonthOfYear) ifFalse: [self error: CreditCard invalidExpirationDateErrorDescription ].	
	
	^self new initializeFor: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear ! !

!classDefinition: #CreditCard category: 'TusLibros' stamp: 'JDR 6/8/2022 04:03:04'!
Object subclass: #CreditCard
	instanceVariableNames: 'cardNumber expirationDate name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CreditCard methodsFor: 'initialization' stamp: 'JDR 6/8/2022 04:03:03'!
initializeFor: aName with: aCardNumber expiratingOn: aExpirationDate 
	
	name := aName.
	cardNumber := aCardNumber.
	expirationDate := aExpirationDate.! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 04:04:14'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 04:04:55' prior: 50474252!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier xxx |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	xxx _ XXX new.
	
	self should: [cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText].! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:04:59'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:04:59'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/8/2022 04:04:59'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:04:59'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:04:59'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 04:05:15' prior: 50474267!
test02ChekoutOfACartWithOneBookShouldBeBookPrice
	
	| cart cashier xxx |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	xxx _ XXX new.
	
	self assert: 100 equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear ).
	self assert: cart isEmpty.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 04:05:26'!
test02ChekoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier xxx |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	xxx _ XXX new.
	
	self assert: 100 equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear ).
	self assert: cart isEmpty.! !

!methodRemoval: CashierTest #test02ChekoutOfACartWithOneBookShouldBeBookPrice stamp: 'JDR 6/8/2022 04:05:26'!
test02ChekoutOfACartWithOneBookShouldBeBookPrice
	
	| cart cashier xxx |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	xxx _ XXX new.
	
	self assert: 100 equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear ).
	self assert: cart isEmpty.!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 04:05:56' prior: 50474279!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice xxx |
	cart _ Cart with: self catalog.
	cashier _ Cashier new.
	xxx _ XXX new.
	
	cart add: xxx book amount: 3.
	cart add: xxx book2 amount: 1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear).
	self assert: cart isEmpty.! !

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:05:58'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:05:58'!
PASSED!

!testRun: #CashierTest #test02ChekoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:05:58'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:05:58'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:05:58'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 04:06:24'!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier xxx |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	xxx _ XXX new.
	
	self assert: 100 equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear ).
	self assert: cart isEmpty.! !

!methodRemoval: CashierTest #test02ChekoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:06:24'!
test02ChekoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier xxx |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	cashier _ Cashier new.
	xxx _ XXX new.
	
	self assert: 100 equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear ).
	self assert: cart isEmpty.!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 04:06:52' prior: 50474294!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	cashier _ Cashier new.
	
	cart add: self book amount: 1.

	self should: [ cashier checkout: cart with: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:06:54'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:06:54'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:06:54'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:06:54'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:06:54'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 04:07:31' prior: 50478175!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	cashier _ Cashier new.
	
	cart add: xxx book amount: 1.

	self should: [ cashier checkout: cart with: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:07:32'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:07:32'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:07:32'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:07:32'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:07:32'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 04:08:23' prior: 50478115!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice xxx |
	
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	cashier _ Cashier new.	
	
	cart add: xxx book amount: 3.
	cart add: xxx book2 amount: 1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear).
	self assert: cart isEmpty.! !

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 04:08:23'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 04:08:53' prior: 50478148!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	cashier _ Cashier new.
		
	self assert: 100 equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear ).
	self assert: cart isEmpty.! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 04:08:53'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 04:09:02' prior: 50478041!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	cashier _ Cashier new.
	
	self should: [cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText].! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:09:02'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 04:09:02'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 04:09:02'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 04:09:02'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 04:09:02'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 04:09:02'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 04:09:02'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 04:09:02'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/8/2022 04:09:02'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/8/2022 04:09:02'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:09:03'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:09:03'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:09:03'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:09:03'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 04:09:03'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 04:09:03'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 04:09:03'!
PASSED!

!methodRemoval: CreditCard class #with:expiratingOn: stamp: 'JDR 6/8/2022 04:10:35'!
with: aCardNumber expiratingOn: aExpirationMonthOfYear 
	
	(aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	
	^self new initializeWith: aCardNumber expiratingOn: aExpirationMonthOfYear !

!methodRemoval: CreditCard #initializeWith:expiratingOn: stamp: 'JDR 6/8/2022 04:10:40'!
initializeWith: aCardNumber expiratingOn: aExpirationDate 
	
	cardNumber := aCardNumber.
	expirationDate := aExpirationDate.!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 04:10:44'!
PASSED!

!methodRemoval: CashierTest #book stamp: 'JDR 6/8/2022 04:11:19'!
book

	^1!

!methodRemoval: CashierTest #book2 stamp: 'JDR 6/8/2022 04:11:21'!
book2

	^2!

!methodRemoval: CashierTest #catalog stamp: 'JDR 6/8/2022 04:11:23'!
catalog
	
	| catalog |
	catalog _ Dictionary new.
	catalog at: self book put: 100.
	catalog at: self book2 put: 50.
	^catalog!

!methodRemoval: CashierTest #expiredCreditCard stamp: 'JDR 6/8/2022 04:11:26'!
expiredCreditCard
	
	^CreditCard with: '1111222233334444' expiratingOn: (July of: 2020)!

!methodRemoval: CashierTest #validCheckOutMonthOfYear stamp: 'JDR 6/8/2022 04:11:27'!
validCheckOutMonthOfYear
	^July of: 2022. !

!methodRemoval: CashierTest #validCreditCard stamp: 'JDR 6/8/2022 04:11:31'!
validCreditCard
	^CreditCard with: '4444555566667777' 	expiratingOn: (July of: 2024). !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:11:40'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:11:40'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:11:40'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:11:40'!
PASSED!

!methodRemoval: Cashier #checkout:with: stamp: 'JDR 6/8/2022 04:12:28'!
checkout: aCart with: aCreditCard 
	
	| subtotal currentDate |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	currentDate _ GregorianMonthOfYear current .
	(aCreditCard isExpiredOn: currentDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	aCart clearContent.
	
	^subtotal!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 04:12:30'!
PASSED!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 04:18:21' prior: 50477793!
invalidCardName

	^ ' Jaigsrepgepiosegaisdgoipojasdjkljjdhfjlljafnv'! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 04:20:50' prior: 50477953!
ownedBy: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear 

	((aName withoutSeparators) size between: 4 and: 30) ifFalse: [self error: CreditCard invalidNameErrorDescription ].	
	(aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	(anExpirationMonthOfYear isKindOf: GregorianMonthOfYear) ifFalse: [self error: CreditCard invalidExpirationDateErrorDescription ].	
	
	^self new initializeFor: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CartTest #test08 stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CartTest #test09 stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 04:20:50'!
PASSED!
!CreditCard class methodsFor: 'error descriptions' stamp: 'JDR 6/8/2022 04:22:07' prior: 50474837!
invalidNameErrorDescription

	'Name is too short/long'! !

!methodRemoval: CartTest #test08 stamp: 'JDR 6/8/2022 04:25:29'!
test08
	
	| cart bookPrice |
	cart _ Cart with: self catalog.
	cart add: self book amount: 1.
	
	bookPrice _ self catalog at: self book.
	
	self assert: bookPrice equals: cart subtotal.

	!
!CartTest methodsFor: 'test - exceptions' stamp: 'JDR 6/8/2022 04:25:33'!
test08
	
	| cart bookPrice |
	cart _ Cart with: self catalog.
	cart add: self book amount: 3.
	
	bookPrice _ self catalog at: self book.
	
	self assert: 3 * bookPrice equals: cart subtotal.

	! !

!methodRemoval: CartTest #test09 stamp: 'JDR 6/8/2022 04:25:33'!
test09
	
	| cart bookPrice |
	cart _ Cart with: self catalog.
	cart add: self book amount: 3.
	
	bookPrice _ self catalog at: self book.
	
	self assert: 3 * bookPrice equals: cart subtotal.

	!
!CartTest methodsFor: 'test - exceptions' stamp: 'JDR 6/8/2022 04:26:55'!
test08CanObtainCartTotalPrice
	
	| cart bookPrice |
	cart _ Cart with: self catalog.
	cart add: self book amount: 3.
	
	bookPrice _ self catalog at: self book.
	
	self assert: 3 * bookPrice equals: cart subtotal.

	! !

!methodRemoval: CartTest #test08 stamp: 'JDR 6/8/2022 04:26:55'!
test08
	
	| cart bookPrice |
	cart _ Cart with: self catalog.
	cart add: self book amount: 3.
	
	bookPrice _ self catalog at: self book.
	
	self assert: 3 * bookPrice equals: cart subtotal.

	!
!CartTest methodsFor: 'test - accesing' stamp: 'JDR 6/8/2022 04:27:23'!
test08CanConsultCartTotalPrice
	
	| cart bookPrice |
	cart _ Cart with: self catalog.
	cart add: self book amount: 3.
	
	bookPrice _ self catalog at: self book.
	
	self assert: 3 * bookPrice equals: cart subtotal.

	! !

!methodRemoval: CartTest #test08CanObtainCartTotalPrice stamp: 'JDR 6/8/2022 04:27:23'!
test08CanObtainCartTotalPrice
	
	| cart bookPrice |
	cart _ Cart with: self catalog.
	cart add: self book amount: 3.
	
	bookPrice _ self catalog at: self book.
	
	self assert: 3 * bookPrice equals: cart subtotal.

	!

----QUIT----(8 June 2022 04:30:03) CuisUniversity-5096.image priorSource: 4557982!

----STARTUP---- (8 June 2022 11:08:12) as /home/jerodacunda/Escritorio/9-TusLibros2/linux64/CuisUniversity-5096.image!

!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 11:10:37' prior: 50478632!
ownedBy: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear 

	((aName withoutSeparators) size between: 4 and: 30) ifFalse: [self error: CreditCard invalidNameErrorDescription ].	
	
	(aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	
	(anExpirationMonthOfYear isKindOf: GregorianMonthOfYear) ifFalse: [self error: CreditCard invalidExpirationDateErrorDescription ].	
	
	^self new initializeFor: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear ! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 11:11:18'!
assertNameIsValid: aName

	^ ((aName withoutSeparators) size between: 4 and: 30) ifFalse: [self error: CreditCard invalidNameErrorDescription ]! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 11:11:19' prior: 50478776!
ownedBy: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear 

	self assertNameIsValid: aName.	
	
	(aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription].
	
	(anExpirationMonthOfYear isKindOf: GregorianMonthOfYear) ifFalse: [self error: CreditCard invalidExpirationDateErrorDescription ].	
	
	^self new initializeFor: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear ! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 11:11:32'!
assertCardNumberIsValid: aCardNumber

	^ (aCardNumber size = 16) ifFalse: [self error: CreditCard invalidCardNumberErrorDescription]! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 11:11:32' prior: 50478803!
ownedBy: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear 

	self assertNameIsValid: aName.	
	
	self assertCardNumberIsValid: aCardNumber.
	
	(anExpirationMonthOfYear isKindOf: GregorianMonthOfYear) ifFalse: [self error: CreditCard invalidExpirationDateErrorDescription ].	
	
	^self new initializeFor: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear ! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 11:11:46'!
assertExpirationDateIsValid: anExpirationMonthOfYear

	^ (anExpirationMonthOfYear isKindOf: GregorianMonthOfYear) ifFalse: [self error: CreditCard invalidExpirationDateErrorDescription ]! !
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 11:11:46' prior: 50478828!
ownedBy: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear 

	self assertNameIsValid: aName.	
	
	self assertCardNumberIsValid: aCardNumber.
	
	self assertExpirationDateIsValid: anExpirationMonthOfYear.	
	
	^self new initializeFor: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:11:59'!
PASSED!
!CartTest methodsFor: 'test - accesing' stamp: 'JDR 6/8/2022 11:18:14' prior: 50474105!
test01ANewCartShouldBeEmpty

	| cart xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	
	self assert: cart isEmpty! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:18:17'!
PASSED!
!CartTest methodsFor: 'test - adding' stamp: 'JDR 6/8/2022 11:18:48' prior: 50474122!
test02ACartShouldNotBeEmptyAfterAddingBookToCart

	| cart book xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	book _ xxx book.
	
	cart add: book amount: 1.
	
	self deny: cart isEmpty.! !

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:18:49'!
PASSED!
!CartTest methodsFor: 'test - adding' stamp: 'JDR 6/8/2022 11:19:01' prior: 50474130!
test03CanAddToCartAnAmountOfACertainBook

	| cart book amount xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	book _ xxx book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: amount equals: (cart occurrencesOf: book)
	
	
	
					
	

	

	! !

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:19:02'!
PASSED!
!CartTest methodsFor: 'test - exceptions' stamp: 'JDR 6/8/2022 11:19:59' prior: 50474140!
test04OnlyCanAddToCartBooksInCatalog

	| cart unregisteredBook xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	
	self 
		should: [ cart add: xxx unregisteredBook amount: 1 ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalogErrorDescription.
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:20:03'!
ERROR!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:20:09'!
unregisteredBook
	self shouldBeImplemented.! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:20:13' prior: 50479117!
unregisteredBook
	^0! !

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:20:14'!
PASSED!
!CartTest methodsFor: 'test - exceptions' stamp: 'JDR 6/8/2022 11:20:36' prior: 50474155!
test05OnlyCanAddToCartAPositiveAmountOfABook

	| cart book invalidAmount xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	book _ xxx book.			
	invalidAmount _ 0.
	
	self 
		should: [ cart add: book amount: invalidAmount ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:20:37'!
PASSED!
!CartTest methodsFor: 'test - accesing' stamp: 'JDR 6/8/2022 11:21:22' prior: 50474111!
test06CanConsultCartContents

	| cart book expectedCartContent xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	book _ xxx book.
	
	cart add: book amount: 1.
	expectedCartContent _ Bag with: book.
	
	self assert: expectedCartContent equals: cart content
	
	
	
					
	

	

	! !

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:21:23'!
PASSED!
!CartTest methodsFor: 'test - exceptions' stamp: 'JDR 6/8/2022 11:21:44' prior: 50474171!
test07OnlyCanAddToCartAnIntegerAmountOfABook

	| cart book invalidAmount xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	book _ xxx book.			
	invalidAmount _ 1.1.
	
	self 
		should: [ cart add: book amount: invalidAmount ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:21:44'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:21:44'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:21:44'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:21:44'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:21:45'!
PASSED!
!CartTest methodsFor: 'test - accesing' stamp: 'JDR 6/8/2022 11:22:06' prior: 50478750!
test08CanConsultCartTotalPrice
	
	| cart bookPrice xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 3.
	
	bookPrice _ xxx catalog at: xxx book.
	
	self assert: 3 * bookPrice equals: cart subtotal.

	! !

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:22:07'!
PASSED!

!methodRemoval: CartTest #book stamp: 'JDR 6/8/2022 11:22:37'!
book

	^1!

!methodRemoval: CartTest #catalog stamp: 'JDR 6/8/2022 11:22:39'!
catalog
	
	| catalog |
	catalog _ Dictionary new.
	catalog at: self book put: 100.
	^catalog!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:22:41'!
PASSED!

TestCase subclass: #SalesBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #SalesBookTest category: 'TusLibros' stamp: 'JDR 6/8/2022 11:26:56'!
TestCase subclass: #SalesBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #SalesBook category: 'TusLibros' stamp: 'JDR 6/8/2022 11:29:01'!
Object subclass: #SalesBook
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SalesBookTest methodsFor: 'no messages' stamp: 'JDR 6/8/2022 11:28:52'!
test01

	| salesBook |
	salesBook _ SalesBook new.

	self assert: salesBook isEmpty.! !

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:29:06'!
ERROR!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:29:11'!
isEmpty
	self shouldBeImplemented.! !
!SalesBook methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:29:32' prior: 50479527!
isEmpty
	^true! !

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:29:33'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:29:33'!
PASSED!
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:30:25'!
test02

	| salesBook |
	salesBook _ SalesBook new.
	

	self assert: salesBook isEmpty.! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:32:35' prior: 50479540!
test02

	| salesBook cart cashier xxx |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	cashier _ Cashier new.
	salesBook _ SalesBook new.
	

	self assert: salesBook isEmpty.! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:34:03' prior: 50479546!
test02

	| salesBook cart cashier xxx |
	xxx _ XXX new.
	salesBook _ SalesBook new.
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	
	"cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear  "
	

	self assert: salesBook isEmpty.! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:39:12' prior: 50479556!
test02

	| salesBook cart cashier xxx purchase |
	xxx _ XXX new.
	salesBook _ SalesBook new.
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	purchase _ cart content.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear.
	
	self assert: salesBook sales includes: purchase.
	! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:39:19'!
ERROR!
!Cashier class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 11:39:45'!
registeringSalesOn: aSalesBook 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeRegisteringSalesOn: aSalesBook ! !
!Cashier class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 11:39:55' prior: 50479587!
registeringSalesOn: aSalesBook 
	
	^self new initializeRegisteringSalesOn: aSalesBook ! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:39:56'!
ERROR!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'JDR 6/8/2022 11:40:03'!
Object subclass: #Cashier
	instanceVariableNames: 'salesBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'JDR 6/8/2022 11:40:03'!
initializeRegisteringSalesOn: aSalesBook 
	self shouldBeImplemented.
	salesBook := aSalesBook.! !
!Cashier methodsFor: 'initialization' stamp: 'JDR 6/8/2022 11:40:10' prior: 50479610!
initializeRegisteringSalesOn: aSalesBook 
	
	salesBook := aSalesBook.! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:40:11'!
ERROR!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:40:16'!
sales
	self shouldBeImplemented.! !

!classDefinition: #SalesBook category: 'TusLibros' stamp: 'JDR 6/8/2022 11:40:27'!
Object subclass: #SalesBook
	instanceVariableNames: 'sales'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:40:24' prior: 50479623!
sales
	^sales! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:40:29'!
ERROR!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:41:24' prior: 50474448!
checkout: aCart with: aCreditCard on: aDate
	
	| subtotal |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	salesBook add: aCart content.
	
	aCart clearContent.
	
	^subtotal! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:41:36'!
ERROR!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:41:36'!
ERROR!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:42:41' overrides: 16920235!
initialize

	sales _ OrderedCollection new.! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:42:45'!
ERROR!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:42:45'!
ERROR!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:43:28'!
add: aPurchase

	sales add: aPurchase! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:43:44'!
PASSED!
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:46:23' prior: 50479570!
test02

	| salesBook cart cashier xxx purchase |
	xxx _ XXX new.
	salesBook _ SalesBook new.
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	purchase _ cart content.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear.
	
	self assert: salesBook sales includes: purchase.
	! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:46:23'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:46:23'!
ERROR!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:46:23'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:46:28'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:46:28'!
ERROR!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:46:28'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:46:41'!
ERROR!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:46:41'!
ERROR!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:47:21'!
ERROR!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:47:21'!
ERROR!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:48:03'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:48:05'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:48:11'!
ERROR!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:48:11'!
ERROR!
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:49:09' prior: 50479675!
test02

	| salesBook cart cashier xxx purchase |
	xxx _ XXX new.	
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear.
	
	self assert: salesBook sales includes: purchase.
	! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:49:11'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:49:21' prior: 50478317!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier xxx salesBook |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
		
	self assert: 100 equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear ).
	self assert: cart isEmpty.! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:49:27'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:49:31' prior: 50478247!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice xxx salesBook |
	
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	cart add: xxx book amount: 3.
	cart add: xxx book2 amount: 1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear).
	self assert: cart isEmpty.! !

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:49:34'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:49:38' prior: 50478385!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier xxx salesBook |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	self should: [cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText].! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:49:49' prior: 50478211!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier xxx salesBook |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	cart add: xxx book amount: 1.

	self should: [ cashier checkout: cart with: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:49:50'!
PASSED!
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:51:07' prior: 50479828!
test02

	| salesBook cart cashier xxx purchase |
	xxx _ XXX new.	
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear.
	
	self assert: salesBook sales includes: purchase.
	self deny: salesBook isEmpty .
	! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:51:09'!
FAILURE!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:51:21' prior: 50479532!
isEmpty
	^sales isEmpty! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:51:21'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:51:21'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:51:21'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:51:21'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:51:21'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:51:21'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:51:21'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:51:21'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:51:22'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:51:22'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:51:22'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:51:22'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:51:22'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:51:22'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:51:22'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:51:22'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:51:22'!
PASSED!
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:51:52' prior: 50479981!
test02

	| salesBook cart cashier xxx purchase |
	xxx _ XXX new.	
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear.
	
	self assert: salesBook hasRegistered: purchase.
	self deny: salesBook isEmpty .
	! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:51:54'!
ERROR!
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:52:05' prior: 50480057!
test02

	| salesBook cart cashier xxx purchase |
	xxx _ XXX new.	
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear.
	
	self assert: (salesBook hasRegistered: purchase).
	self deny: salesBook isEmpty .
	! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:52:09'!
ERROR!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:52:15'!
hasRegistered: aBag 
	self shouldBeImplemented.! !
!SalesBook methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:52:34' prior: 50480094!
hasRegistered: aPurchaseBag
 
	sales includes: aPurchaseBag! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:52:35'!
ERROR!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:53:15'!
ERROR!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:53:15'!
ERROR!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:53:29' prior: 50480099!
hasRegistered: aPurchaseBag
 
	^sales includes: aPurchaseBag! !

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:53:32'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:53:32'!
PASSED!

!methodRemoval: SalesBook #sales stamp: 'JDR 6/8/2022 11:53:40'!
sales
	^sales!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:53:51' prior: 50479668!
add: aPurchaseBag

	sales add: aPurchaseBag! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:55:17' prior: 50479886!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier xxx salesBook |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	self should: [cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:55:17'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:56:40' prior: 50479846!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier xxx salesBook purchase |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.	
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	
	cart add: xxx book amount: 1.
	purchase _ cart content.
		
	self assert: 100 equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear ).	
	self assert: cart isEmpty.
	self assert: salesBook hasRegistered: purchase.! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:56:44'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:56:51' prior: 50480205!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier xxx salesBook purchase |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.	
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	
	cart add: xxx book amount: 1.
	purchase _ cart content.
		
	self assert: 100 equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear ).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:56:51'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:56:51'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:56:52'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:57:34' prior: 50479865!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice xxx salesBook purchase |
	
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	cart add: xxx book amount: 3.
	cart add: xxx book2 amount: 1.
	purchase _ cart content.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear).
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).! !

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:57:35'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 11:58:15' prior: 50479904!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier xxx salesBook purchase |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook.
	
	cart add: xxx book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 11:58:17'!
PASSED!

TestCase subclass: #MerchantProcessorTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MerchantProcessorTest category: 'TusLibros' stamp: 'JDR 6/8/2022 12:05:20'!
TestCase subclass: #MerchantProcessorTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MerchantProcessor category: 'TusLibros' stamp: 'JDR 6/8/2022 12:18:29'!
Object subclass: #MerchantProcessor
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MerchantProcessorTest methodsFor: 'no messages' stamp: 'JDR 6/8/2022 12:18:20'!
test01

	| cashier merchantProcessor salesBook |
	merchantProcessor _ MerchantProcessor new.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	! !
!MerchantProcessorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:24:23' prior: 50480478!
test01

	| merchantProcessor amount notACreditCard |
	merchantProcessor _ MerchantProcessor new.	
	amount _ 100.
	notACreditCard _ 'this is not a credit card'.
	
	self should: [merchantProcessor debit: amount from: notACreditCard]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessor canOnlyDebitFromACreditCardErrorDescription equals: anError messageText .]
	
	! !

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:24:38'!
ERROR!
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:24:43'!
debit: aSmallInteger from: aString 
	self shouldBeImplemented.! !
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:26:09' prior: 50480507!
debit: anAmount from: aCreditCard

	(aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessor canOnlyDebitFromACreditCardErrorDescription ]! !
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:26:33' prior: 50480513!
debit: anAmount from: aCreditCard

	(aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessor onlyCanDebitFromACreditCardErrorDescription ]! !

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:26:37'!
ERROR!
!MerchantProcessor class methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:26:44'!
onlyCanDebitFromACreditCardErrorDescription
	self shouldBeImplemented.! !
!MerchantProcessor class methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:27:49' prior: 50480533!
onlyCanDebitFromACreditCardErrorDescription
	
	^'invalid credit card format'! !

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:27:50'!
ERROR!
!MerchantProcessorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:27:58' prior: 50480488!
test01

	| merchantProcessor amount notACreditCard |
	merchantProcessor _ MerchantProcessor new.	
	amount _ 100.
	notACreditCard _ 'this is not a credit card'.
	
	self should: [merchantProcessor debit: amount from: notACreditCard]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessor onlyCanDebitFromACreditCardErrorDescription equals: anError messageText .]
	
	! !

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:27:59'!
PASSED!

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:27:59'!
PASSED!
!MerchantProcessorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:30:16'!
test02

	| merchantProcessor amount xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessor new.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx expiredCreditCard ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessor expiredCreditCardErrorDescription equals: anError messageText .]
	
	! !
!MerchantProcessorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:31:18' prior: 50480569!
test02

	| merchantProcessor amount xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessor new.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessor expiredCreditCardErrorDescription equals: anError messageText .]
	
	! !

!testRun: #MerchantProcessorTest #test02 stamp: 'JDR 6/8/2022 12:31:20'!
ERROR!
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:31:31'!
debit: aSmallInteger from: aCreditCard on: aGregorianMonthOfYear 
	self shouldBeImplemented.! !
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:32:00' prior: 50480602!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	! !
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:32:57' prior: 50480609!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	(aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessor onlyCanDebitFromACreditCardErrorDescription ].
	(aCreditCard isExpiredOn: aMonthOfYear) ifTrue: [ self error: MerchantProcessor ]! !
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:33:08' prior: 50480614!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	(aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessor onlyCanDebitFromACreditCardErrorDescription ].
	(aCreditCard isExpiredOn: aMonthOfYear) ifTrue: [ self error: MerchantProcessor expiredCreditCardErrorDescription ].! !
!MerchantProcessor class methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:33:28'!
expiredCreditCardErrorDescription
	
	^'credit card has expired'! !
!MerchantProcessorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:34:16' prior: 50480548!
test01

	| merchantProcessor amount notACreditCard xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessor new.	
	amount _ 100.
	notACreditCard _ 'this is not a credit card'.
	
	self should: [merchantProcessor debit: amount from: notACreditCard on: xxx validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessor onlyCanDebitFromACreditCardErrorDescription equals: anError messageText .]
	
	! !

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:34:19'!
PASSED!

!methodRemoval: MerchantProcessor #debit:from: stamp: 'JDR 6/8/2022 12:34:22'!
debit: anAmount from: aCreditCard

	(aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessor onlyCanDebitFromACreditCardErrorDescription ]!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #MerchantProcessorTest #test02 stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 12:34:28'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #MerchantProcessorTest #test02 stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 12:34:49'!
PASSED!
!MerchantProcessorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:37:19'!
test03

	| merchantProcessor amount xxx stolenCreditCardRegister |
	xxx _ XXX new.
	stolenCreditCardRegister _ OrderedCollection with: xxx stolenCreditCard.
	merchantProcessor _ MerchantProcessor with: stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx stolenCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessor stolenCreditCardErrorDescription equals: anError messageText .]
	
	! !

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:37:28'!
ERROR!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:37:33'!
stolenCreditCard
	self shouldBeImplemented.! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:38:46' prior: 50480812!
stolenCreditCard
	
	CreditCard ownedBy: 'Enrique' with: '1111222233334444' expiratingOn: self validCheckoutMonthOfYear ! !

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:38:47'!
ERROR!
!MerchantProcessor class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 12:38:53'!
with: anOrderedCollection 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: anOrderedCollection ! !
!MerchantProcessor class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 12:39:13' prior: 50480827!
with: aStolenCardsRegister
	
	^self new initializeWith: aStolenCardsRegister ! !

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:39:14'!
ERROR!

!classDefinition: #MerchantProcessor category: 'TusLibros' stamp: 'JDR 6/8/2022 12:39:19'!
Object subclass: #MerchantProcessor
	instanceVariableNames: 'stolenCardsRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MerchantProcessor methodsFor: 'initialization' stamp: 'JDR 6/8/2022 12:39:19'!
initializeWith: aStolenCardsRegister 
	self shouldBeImplemented.
	stolenCardsRegister := aStolenCardsRegister.! !

!classDefinition: #MerchantProcessor category: 'TusLibros' stamp: 'JDR 6/8/2022 12:39:31'!
Object subclass: #MerchantProcessor
	instanceVariableNames: 'stolenCardsRegister register'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MerchantProcessor methodsFor: 'initialization' stamp: 'JDR 6/8/2022 12:39:30' prior: 50480852!
initializeWith: aStolenCardsRegister 

	register := aStolenCardsRegister.! !

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:39:33'!
ERROR!
!MerchantProcessor class methodsFor: 'nil' stamp: 'JDR 6/8/2022 12:40:22'!
stolenCreditCardErrorDescription

	^'CALL THE POLICE'! !
!MerchantProcessor class methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:40:37' prior: 50480875!
stolenCreditCardErrorDescription

	^'that credit card is stolen'! !
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:41:17' prior: 50480626!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	(aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessor onlyCanDebitFromACreditCardErrorDescription ].
	(aCreditCard isExpiredOn: aMonthOfYear) ifTrue: [ self error: MerchantProcessor expiredCreditCardErrorDescription ].
	(register includes: aCreditCard) ifTrue: [ self error: MerchantProcessor stolenCreditCardErrorDescription ].! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #MerchantProcessorTest #test02 stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:41:17'!
FAILURE!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 12:41:17'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:41:17'!
FAILURE!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #MerchantProcessorTest #test02 stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:41:32'!
FAILURE!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 12:41:32'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:41:32'!
FAILURE!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:42:42' prior: 50480817!
stolenCreditCard
	
	^CreditCard ownedBy: 'Enrique' with: '1111222233334444' expiratingOn: self validCheckoutMonthOfYear ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #MerchantProcessorTest #test02 stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:42:43'!
FAILURE!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 12:42:43'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:42:43'!
FAILURE!

!classDefinition: #MerchantProcessor category: 'TusLibros' stamp: 'JDR 6/8/2022 12:43:38'!
Object subclass: #MerchantProcessor
	instanceVariableNames: 'register'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:44:14'!
FAILURE!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:44:14'!
FAILURE!

!classDefinition: #MerchantProcessor category: 'TusLibros' stamp: 'JDR 6/8/2022 12:45:12'!
Object subclass: #MerchantProcessor
	instanceVariableNames: 'stolenCardsRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:45:12' prior: 50480867!
initializeWith: aStolenCardsRegister 

	stolenCardsRegister := aStolenCardsRegister.! !
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:45:12' prior: 50480887!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	(aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessor onlyCanDebitFromACreditCardErrorDescription ].
	(aCreditCard isExpiredOn: aMonthOfYear) ifTrue: [ self error: MerchantProcessor expiredCreditCardErrorDescription ].
	(stolenCardsRegister includes: aCreditCard) ifTrue: [ self error: MerchantProcessor stolenCreditCardErrorDescription ].! !

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:45:50'!
FAILURE!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:45:50'!
FAILURE!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:46:06'!
FAILURE!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:46:10'!
FAILURE!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:46:46'!
FAILURE!

(stolenCardsRegister includes: aCreditCard)!

aCreditCard!

self first!

self first!
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:50:28' prior: 50481129!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	(aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessor onlyCanDebitFromACreditCardErrorDescription ].
	(aCreditCard isExpiredOn: aMonthOfYear) ifTrue: [ self error: MerchantProcessor expiredCreditCardErrorDescription ].
	(stolenCardsRegister hasRegistered: aCreditCard) ifTrue: [ self error: MerchantProcessor stolenCreditCardErrorDescription ].! !

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:50:29'!
ERROR!
!CreditCard methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:53:49' overrides: 16901772!
= aCreditCard

	(name = aCreditCard name) and: [cardNumber = aCreditCard cardNumber and: [ expirationDate = aCreditCard expirationDate ]] ! !
!CreditCard methodsFor: 'nil' stamp: 'JDR 6/8/2022 12:54:54'!
cardNumber

	^cardNumber ! !
!CreditCard methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:54:59' overrides: 16903442!
name

	^name! !
!CreditCard methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:55:06'!
expirationDate

	^expirationDate ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #MerchantProcessorTest #test02 stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:55:08'!
ERROR!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 12:55:08'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:55:08'!
ERROR!
!MerchantProcessor methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:55:24' prior: 50481161!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	(aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessor onlyCanDebitFromACreditCardErrorDescription ].
	(aCreditCard isExpiredOn: aMonthOfYear) ifTrue: [ self error: MerchantProcessor expiredCreditCardErrorDescription ].
	(stolenCardsRegister includes: aCreditCard) ifTrue: [ self error: MerchantProcessor stolenCreditCardErrorDescription ].! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #MerchantProcessorTest #test02 stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:55:24'!
FAILURE!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 12:55:24'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:55:24'!
FAILURE!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:56:43'!
FAILURE!

(self at: i) = anElement !
!CreditCard methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:58:44' prior: 50481180 overrides: 16901772!
= aCreditCard

	^(name = aCreditCard name) and: [cardNumber = aCreditCard cardNumber and: [ expirationDate = aCreditCard expirationDate ]] ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #MerchantProcessorTest #test02 stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 12:58:44'!
PASSED!

!classRenamed: #MerchantProcessor as: #MerchantProcessorSimulator stamp: 'JDR 6/8/2022 12:59:18'!
Smalltalk renameClassNamed: #MerchantProcessor as: #MerchantProcessorSimulator!
!MerchantProcessorSimulator methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:59:19' prior: 50481263!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	(aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessorSimulator onlyCanDebitFromACreditCardErrorDescription ].
	(aCreditCard isExpiredOn: aMonthOfYear) ifTrue: [ self error: MerchantProcessorSimulator expiredCreditCardErrorDescription ].
	(stolenCardsRegister includes: aCreditCard) ifTrue: [ self error: MerchantProcessorSimulator stolenCreditCardErrorDescription ].! !
!MerchantProcessorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:59:19' prior: 50480645!
test01

	| merchantProcessor amount notACreditCard xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessorSimulator new.	
	amount _ 100.
	notACreditCard _ 'this is not a credit card'.
	
	self should: [merchantProcessor debit: amount from: notACreditCard on: xxx validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator onlyCanDebitFromACreditCardErrorDescription equals: anError messageText .]
	
	! !
!MerchantProcessorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:59:19' prior: 50480584!
test02

	| merchantProcessor amount xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessorSimulator new.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator expiredCreditCardErrorDescription equals: anError messageText .]
	
	! !
!MerchantProcessorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 12:59:19' prior: 50480790!
test03

	| merchantProcessor amount xxx stolenCreditCardRegister |
	xxx _ XXX new.
	stolenCreditCardRegister _ OrderedCollection with: xxx stolenCreditCard.
	merchantProcessor _ MerchantProcessorSimulator with: stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx stolenCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .]
	
	! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #MerchantProcessorTest #test01 stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #MerchantProcessorTest #test02 stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #MerchantProcessorTest #test03 stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 12:59:27'!
PASSED!

!classRenamed: #MerchantProcessorTest as: #MerchantProcessorSimulatorTest stamp: 'JDR 6/8/2022 12:59:37'!
Smalltalk renameClassNamed: #MerchantProcessorTest as: #MerchantProcessorSimulatorTest!
!MerchantProcessorSimulatorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:00:34' prior: 50481477!
test03

	| merchantProcessor amount xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx stolenCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .]
	
	! !

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:00:39'!
ERROR!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:00:43'!
stolenCreditCardRegister
	self shouldBeImplemented.! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:01:07' prior: 50481586!
stolenCreditCardRegister 
	^ OrderedCollection with: self stolenCreditCard.! !

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:01:08'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:01:08'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:01:08'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:01:08'!
PASSED!
!MerchantProcessorSimulatorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:01:23' prior: 50481460!
test02

	| merchantProcessor amount xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator expiredCreditCardErrorDescription equals: anError messageText .]
	
	! !

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:01:24'!
PASSED!
!MerchantProcessorSimulatorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:01:29' prior: 50481441!
test01

	| merchantProcessor amount notACreditCard xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	notACreditCard _ 'this is not a credit card'.
	
	self should: [merchantProcessor debit: amount from: notACreditCard on: xxx validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator onlyCanDebitFromACreditCardErrorDescription equals: anError messageText .]
	
	! !

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:01:29'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:05:29'!
test05
	
	| cart cashier xxx salesBook purchase merchantProcessor |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: xxx book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: xxx stolenCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:05:32'!
ERROR!
!Cashier class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 13:05:37'!
registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeRegisteringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator ! !
!Cashier class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 13:05:47' prior: 50481804!
registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	
	^self new initializeRegisteringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator ! !

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:05:49'!
ERROR!

!classDefinition: #Cashier category: 'TusLibros' stamp: 'JDR 6/8/2022 13:05:53'!
Object subclass: #Cashier
	instanceVariableNames: 'salesBook merchantProcessorSimulator'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'initialization' stamp: 'JDR 6/8/2022 13:05:53'!
initializeRegisteringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	self shouldBeImplemented.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.! !
!Cashier methodsFor: 'initialization' stamp: 'JDR 6/8/2022 13:06:38' prior: 50481834!
initializeRegisteringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.! !

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:06:39'!
FAILURE!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:07:07'!
FAILURE!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:07:07'!
FAILURE!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:07:28'!
FAILURE!
!Cashier methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:09:31' prior: 50479640!
checkout: aCart with: aCreditCard on: aDate
	
	| subtotal |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	salesBook add: aCart content.	
	
	aCart clearContent.
	
	^subtotal! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:09:32'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:09:32'!
ERROR!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:09:32'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:09:32'!
ERROR!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:10:37'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:10:37'!
ERROR!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:10:37'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:10:37'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:10:43' prior: 50480227!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier xxx salesBook purchase merchantProcessor |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: xxx book amount: 1.
	purchase _ cart content.
		
	self assert: 100 equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear ).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:10:46'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:10:46'!
ERROR!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:10:46'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:11:06' prior: 50480303!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice xxx salesBook purchase merchantProcessor |
	
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: xxx book amount: 3.
	cart add: xxx book2 amount: 1.
	purchase _ cart content.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear).
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:11:08'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:11:08'!
ERROR!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:11:08'!
ERROR!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:11:18'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:11:18'!
ERROR!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:11:18'!
ERROR!
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:12:24' prior: 50480076!
test02

	| salesBook cart cashier xxx purchase merchantProcessor |
	xxx _ XXX new.	
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear.
	
	self assert: (salesBook hasRegistered: purchase).
	self deny: salesBook isEmpty .
	! !

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:12:25'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:13:21' prior: 50480129!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier xxx salesBook merchantProcessor |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	self should: [cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:13:22'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:13:32' prior: 50480380!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier xxx salesBook purchase merchantProcessor |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: xxx book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:13:33'!
PASSED!

Object subclass: #TrapMerchantProcessorSimulator
	instanceVariableNames: 'stolenCardsRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #TrapMerchantProcessorSimulator category: 'TusLibros' stamp: 'JDR 6/8/2022 13:21:47'!
Object subclass: #TrapMerchantProcessorSimulator
	instanceVariableNames: 'stolenCardsRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRenamed: #TrapMerchantProcessorSimulator as: #CatchOutMerchantProcessorSimulator stamp: 'JDR 6/8/2022 13:22:50'!
Smalltalk renameClassNamed: #TrapMerchantProcessorSimulator as: #CatchOutMerchantProcessorSimulator!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:24:00' prior: 50482280!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier xxx salesBook merchantProcessor |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	self should: [cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:24:11' prior: 50482371!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier xxx salesBook purchase merchantProcessor |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: xxx book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:24:14'!
ERROR!
!CatchOutMerchantProcessorSimulator class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 13:24:20'!
with: anOrderedCollection 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: anOrderedCollection ! !
!CatchOutMerchantProcessorSimulator class methodsFor: 'instance creation' stamp: 'JDR 6/8/2022 13:24:40' prior: 50482542!
with: aStolenCardRegister 
	
	^self new initializeWith: aStolenCardRegister ! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:24:42'!
ERROR!

!classDefinition: #CatchOutMerchantProcessorSimulator category: 'TusLibros' stamp: 'JDR 6/8/2022 13:24:49'!
Object subclass: #CatchOutMerchantProcessorSimulator
	instanceVariableNames: 'stolenCardsRegister stolenCardRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CatchOutMerchantProcessorSimulator methodsFor: 'initialization' stamp: 'JDR 6/8/2022 13:24:49'!
initializeWith: aStolenCardRegister 
	self shouldBeImplemented.
	stolenCardRegister := aStolenCardRegister.! !
!CatchOutMerchantProcessorSimulator methodsFor: 'initialization' stamp: 'JDR 6/8/2022 13:25:00' prior: 50482571!
initializeWith: aStolenCardRegister 

	stolenCardRegister := aStolenCardRegister.! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:25:01'!
PASSED!

!classDefinition: #CatchOutMerchantProcessorSimulator category: 'TusLibros' stamp: 'JDR 6/8/2022 13:25:32'!
Object subclass: #CatchOutMerchantProcessorSimulator
	instanceVariableNames: 'stolenCardRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CatchOutMerchantProcessorSimulator methodsFor: 'initialization' stamp: 'JDR 6/8/2022 13:27:35'!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	self error: CatchOutMerchantProcessorSimulator shouldNotBeDebitingErrorDescription! !
!CatchOutMerchantProcessorSimulator class methodsFor: 'nil' stamp: 'JDR 6/8/2022 13:29:02'!
shouldNotBeDebitingErrorDescription

	'You should not be trying to debit'! !

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CashierTest #test05 stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:29:19'!
PASSED!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:30:47'!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier xxx salesBook purchase merchantProcessor |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: xxx book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: xxx stolenCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!methodRemoval: CashierTest #test05 stamp: 'JDR 6/8/2022 13:30:47'!
test05
	
	| cart cashier xxx salesBook purchase merchantProcessor |
	xxx _ XXX new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: xxx book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: xxx stolenCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]!
!MerchantProcessorSimulatorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:34:30'!
test01DebitFromAnythingButACreditCardShouldRaiseAnError

	| merchantProcessor amount notACreditCard xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	notACreditCard _ 'this is not a credit card'.
	
	self should: [merchantProcessor debit: amount from: notACreditCard on: xxx validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator onlyCanDebitFromACreditCardErrorDescription equals: anError messageText .]
	
	! !

!methodRemoval: MerchantProcessorSimulatorTest #test01 stamp: 'JDR 6/8/2022 13:34:30'!
test01

	| merchantProcessor amount notACreditCard xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	notACreditCard _ 'this is not a credit card'.
	
	self should: [merchantProcessor debit: amount from: notACreditCard on: xxx validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator onlyCanDebitFromACreditCardErrorDescription equals: anError messageText .]
	
	!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:34:32'!
PASSED!
!MerchantProcessorSimulatorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:34:51'!
test02DebitFromAnExpiredCreditCardShouldRaiseAnError

	| merchantProcessor amount xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator expiredCreditCardErrorDescription equals: anError messageText .]
	
	! !

!methodRemoval: MerchantProcessorSimulatorTest #test02 stamp: 'JDR 6/8/2022 13:34:51'!
test02

	| merchantProcessor amount xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator expiredCreditCardErrorDescription equals: anError messageText .]
	
	!
!MerchantProcessorSimulatorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:35:21'!
test03DebitFromAStolenCreditCardShouldRaiseAnError

	| merchantProcessor amount xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx stolenCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .]
	
	! !

!methodRemoval: MerchantProcessorSimulatorTest #test03 stamp: 'JDR 6/8/2022 13:35:21'!
test03

	| merchantProcessor amount xxx |
	xxx _ XXX new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx stolenCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .]
	
	!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!

!testRun: #SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:35:23'!
PASSED!
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:36:12'!
test01ANewSalesBookShouldBeEmpty

	| salesBook |
	salesBook _ SalesBook new.

	self assert: salesBook isEmpty.! !

!methodRemoval: SalesBookTest #test01 stamp: 'JDR 6/8/2022 13:36:12'!
test01

	| salesBook |
	salesBook _ SalesBook new.

	self assert: salesBook isEmpty.!
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:37:20'!
test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook

	| salesBook cart cashier xxx purchase merchantProcessor |
	xxx _ XXX new.	
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear.
	
	self assert: (salesBook hasRegistered: purchase).
	self deny: salesBook isEmpty .
	! !

!methodRemoval: SalesBookTest #test02 stamp: 'JDR 6/8/2022 13:37:20'!
test02

	| salesBook cart cashier xxx purchase merchantProcessor |
	xxx _ XXX new.	
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear.
	
	self assert: (salesBook hasRegistered: purchase).
	self deny: salesBook isEmpty .
	!

!methodRemoval: Cashier class #registeringSalesOn: stamp: 'JDR 6/8/2022 13:42:24'!
registeringSalesOn: aSalesBook 
	
	^self new initializeRegisteringSalesOn: aSalesBook !

!methodRemoval: Cashier #initializeRegisteringSalesOn: stamp: 'JDR 6/8/2022 13:42:27'!
initializeRegisteringSalesOn: aSalesBook 
	
	salesBook := aSalesBook.!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/8/2022 13:42:29'!
PASSED!

!classDefinition: #MerchantProcessorSimulator category: 'TusLibros' stamp: 'JDR 6/8/2022 13:46:13'!
Object subclass: #MerchantProcessorSimulator
	instanceVariableNames: 'stolenCardRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MerchantProcessorSimulator methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:46:13' prior: 50481123!
initializeWith: aStolenCardsRegister 

	stolenCardRegister := aStolenCardsRegister.! !
!MerchantProcessorSimulator methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:46:13' prior: 50481423!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	(aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessorSimulator onlyCanDebitFromACreditCardErrorDescription ].
	(aCreditCard isExpiredOn: aMonthOfYear) ifTrue: [ self error: MerchantProcessorSimulator expiredCreditCardErrorDescription ].
	(stolenCardRegister includes: aCreditCard) ifTrue: [ self error: MerchantProcessorSimulator stolenCreditCardErrorDescription ].! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/8/2022 13:46:21'!
PASSED!

!classRenamed: #XXX as: #TestingUtils stamp: 'JDR 6/8/2022 13:50:09'!
Smalltalk renameClassNamed: #XXX as: #TestingUtils!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50482487!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier xxx salesBook merchantProcessor |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	self should: [cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50483064!
test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook

	| salesBook cart cashier xxx purchase merchantProcessor |
	xxx _ TestingUtils new.	
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear.
	
	self assert: (salesBook hasRegistered: purchase).
	self deny: salesBook isEmpty .
	! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50477876!
test03CreditCardDateMustBeAMonthOfYear
	
	| xxx |
	xxx _ TestingUtils new.
	
	self should: [CreditCard ownedBy: xxx validCardName with: xxx validCardNumber expiratingOn: xxx invalidExpirationDate] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidExpirationDateErrorDescription equals: anError messageText ]. ! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50479035!
test03CanAddToCartAnAmountOfACertainBook

	| cart book amount xxx |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	book _ xxx book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: amount equals: (cart occurrencesOf: book)
	
	
	
					
	

	

	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50482095!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice xxx salesBook purchase merchantProcessor |
	
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: xxx book amount: 3.
	cart add: xxx book2 amount: 1.
	purchase _ cart content.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear).
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50478914!
test01ANewCartShouldBeEmpty

	| cart xxx |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	
	self assert: cart isEmpty! !
!MerchantProcessorSimulatorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50482943!
test03DebitFromAStolenCreditCardShouldRaiseAnError

	| merchantProcessor amount xxx |
	xxx _ TestingUtils new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx stolenCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .]
	
	! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50474801!
test01CreditCardNumberMustBeLength16	
	
	| xxx |
	xxx _ TestingUtils new.
	
	self should: [CreditCard ownedBy: xxx validCardName with: xxx invalidCardNumber expiratingOn: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !
!MerchantProcessorSimulatorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50482907!
test02DebitFromAnExpiredCreditCardShouldRaiseAnError

	| merchantProcessor amount xxx |
	xxx _ TestingUtils new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator expiredCreditCardErrorDescription equals: anError messageText .]
	
	! !
!CreditCardTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50474819!
test02CreditCardNameMustBeAValidName
	
	| xxx |
	xxx _ TestingUtils new.
	
	self should: [CreditCard ownedBy: xxx invalidCardName with: xxx validCardNumber expiratingOn: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidNameErrorDescription equals: anError messageText ]. ! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50482742!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier xxx salesBook purchase merchantProcessor |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: xxx book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: xxx stolenCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50482008!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier xxx salesBook purchase merchantProcessor |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: xxx book amount: 1.
	purchase _ cart content.
		
	self assert: 100 equals: (cashier checkout: cart with: xxx validCreditCard on: xxx validCheckoutMonthOfYear ).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50479247!
test06CanConsultCartContents

	| cart book expectedCartContent xxx |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	book _ xxx book.
	
	cart add: book amount: 1.
	expectedCartContent _ Bag with: book.
	
	self assert: expectedCartContent equals: cart content
	
	
	
					
	

	

	! !
!MerchantProcessorSimulatorTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50482795!
test01DebitFromAnythingButACreditCardShouldRaiseAnError

	| merchantProcessor amount notACreditCard xxx |
	xxx _ TestingUtils new.
	merchantProcessor _ MerchantProcessorSimulator with: xxx stolenCreditCardRegister.	
	amount _ 100.
	notACreditCard _ 'this is not a credit card'.
	
	self should: [merchantProcessor debit: amount from: notACreditCard on: xxx validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator onlyCanDebitFromACreditCardErrorDescription equals: anError messageText .]
	
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50479099!
test04OnlyCanAddToCartBooksInCatalog

	| cart unregisteredBook xxx |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	
	self 
		should: [ cart add: xxx unregisteredBook amount: 1 ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalogErrorDescription.
			self assert: cart isEmpty.
		]
	

	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50479380!
test08CanConsultCartTotalPrice
	
	| cart bookPrice xxx |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	cart add: xxx book amount: 3.
	
	bookPrice _ xxx catalog at: xxx book.
	
	self assert: 3 * bookPrice equals: cart subtotal.

	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50479178!
test05OnlyCanAddToCartAPositiveAmountOfABook

	| cart book invalidAmount xxx |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	book _ xxx book.			
	invalidAmount _ 0.
	
	self 
		should: [ cart add: book amount: invalidAmount ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50478973!
test02ACartShouldNotBeEmptyAfterAddingBookToCart

	| cart book xxx |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	book _ xxx book.
	
	cart add: book amount: 1.
	
	self deny: cart isEmpty.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50482511!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier xxx salesBook purchase merchantProcessor |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: xxx stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: xxx book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: xxx expiredCreditCard on: xxx validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/8/2022 13:50:09' prior: 50479311!
test07OnlyCanAddToCartAnIntegerAmountOfABook

	| cart book invalidAmount xxx |
	xxx _ TestingUtils new.
	cart _ Cart with: xxx catalog.
	book _ xxx book.			
	invalidAmount _ 1.1.
	
	self 
		should: [ cart add: book amount: invalidAmount ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !
!CartTest methodsFor: 'test - accesing' stamp: 'JDR 6/8/2022 13:50:44' prior: 50483397!
test01ANewCartShouldBeEmpty

	| cart testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	
	self assert: cart isEmpty! !
!CartTest methodsFor: 'test - adding' stamp: 'JDR 6/8/2022 13:50:57' prior: 50483602!
test02ACartShouldNotBeEmptyAfterAddingBookToCart

	| cart book testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	book _ testingUtils book.
	
	cart add: book amount: 1.
	
	self deny: cart isEmpty.! !
!CartTest methodsFor: 'test - adding' stamp: 'JDR 6/8/2022 13:51:02' prior: 50483360!
test03CanAddToCartAnAmountOfACertainBook

	| cart book amount testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	book _ testingUtils book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: amount equals: (cart occurrencesOf: book)
	
	
	
					
	

	

	! !
!CartTest methodsFor: 'test - adding' stamp: 'JDR 6/8/2022 13:51:05' prior: 50483676!
test03CanAddToCartAnAmountOfACertainBook

	| cart book amount testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	book _ testingUtils book.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: amount equals: (cart occurrencesOf: book)
	
	
	
					
	

	

	! !
!CartTest methodsFor: 'test - exceptions' stamp: 'JDR 6/8/2022 13:51:12' prior: 50483558!
test04OnlyCanAddToCartBooksInCatalog

	| cart testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	
	self 
		should: [ cart add: testingUtils unregisteredBook amount: 1 ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalogErrorDescription.
			self assert: cart isEmpty.
		]
	

	! !
!CartTest methodsFor: 'test - exceptions' stamp: 'JDR 6/8/2022 13:51:20' prior: 50483585!
test05OnlyCanAddToCartAPositiveAmountOfABook

	| cart book invalidAmount testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	book _ testingUtils book.			
	invalidAmount _ 0.
	
	self 
		should: [ cart add: book amount: invalidAmount ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !
!CartTest methodsFor: 'test - accesing' stamp: 'JDR 6/8/2022 13:51:37' prior: 50483524!
test06CanConsultCartContents

	| cart book expectedCartContent testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	book _ testingUtils book.
	
	cart add: book amount: 1.
	expectedCartContent _ Bag with: book.
	
	self assert: expectedCartContent equals: cart content
	
	
	
					
	

	

	! !
!CartTest methodsFor: 'test - exceptions' stamp: 'JDR 6/8/2022 13:51:42' prior: 50483640!
test07OnlyCanAddToCartAnIntegerAmountOfABook

	| cart book invalidAmount testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	book _ testingUtils book.			
	invalidAmount _ 1.1.
	
	self 
		should: [ cart add: book amount: invalidAmount ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !
!CartTest methodsFor: 'test - accesing' stamp: 'JDR 6/8/2022 13:51:47' prior: 50483574!
test08CanConsultCartTotalPrice
	
	| cart bookPrice testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	cart add: testingUtils book amount: 3.
	
	bookPrice _ testingUtils catalog at: testingUtils book.
	
	self assert: 3 * bookPrice equals: cart subtotal.

	! !
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:52:16' prior: 50483298!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier testingUtils salesBook merchantProcessor |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	self should: [cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:52:25' prior: 50483501!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier testingUtils salesBook purchase merchantProcessor |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
		
	self assert: 100 equals: (cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear ).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).! !
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:52:30' prior: 50483372!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice testingUtils salesBook purchase merchantProcessor |
	
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 3.
	cart add: testingUtils book2 amount: 1.
	purchase _ cart content.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: (cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear).
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).! !
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:52:35' prior: 50483612!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier testingUtils salesBook purchase merchantProcessor |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:52:40' prior: 50483473!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier testingUtils salesBook purchase merchantProcessor |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CreditCardTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:52:46' prior: 50483424!
test01CreditCardNumberMustBeLength16	
	
	| testingUtils |
	testingUtils _ TestingUtils new.
	
	self should: [CreditCard ownedBy: testingUtils validCardName with: testingUtils invalidCardNumber expiratingOn: testingUtils validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidCardNumberErrorDescription equals: anError messageText ]. ! !
!CreditCardTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:52:51' prior: 50483458!
test02CreditCardNameMustBeAValidName
	
	| testingUtils |
	testingUtils _ TestingUtils new.
	
	self should: [CreditCard ownedBy: testingUtils invalidCardName with: testingUtils validCardNumber expiratingOn: testingUtils validCheckoutMonthOfYear] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidNameErrorDescription equals: anError messageText ]. ! !
!CreditCardTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:53:00' prior: 50483345!
test03CreditCardDateMustBeAMonthOfYear
	
	| testingUtils |
	testingUtils _ TestingUtils new.
	
	self should: [CreditCard ownedBy: testingUtils validCardName with: testingUtils validCardNumber expiratingOn: testingUtils invalidExpirationDate] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidExpirationDateErrorDescription equals: anError messageText ]. ! !
!MerchantProcessorSimulatorTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:53:04' prior: 50483537!
test01DebitFromAnythingButACreditCardShouldRaiseAnError

	| merchantProcessor amount notACreditCard testingUtils |
	testingUtils _ TestingUtils new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	amount _ 100.
	notACreditCard _ 'this is not a credit card'.
	
	self should: [merchantProcessor debit: amount from: notACreditCard on: testingUtils validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator onlyCanDebitFromACreditCardErrorDescription equals: anError messageText .]
	
	! !
!MerchantProcessorSimulatorTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:53:09' prior: 50483439!
test02DebitFromAnExpiredCreditCardShouldRaiseAnError

	| merchantProcessor amount testingUtils |
	testingUtils _ TestingUtils new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator expiredCreditCardErrorDescription equals: anError messageText .]
	
	! !
!MerchantProcessorSimulatorTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:53:13' prior: 50483405!
test03DebitFromAStolenCreditCardShouldRaiseAnError

	| merchantProcessor amount testingUtils |
	testingUtils _ TestingUtils new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .]
	
	! !
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/8/2022 13:53:18' prior: 50483322!
test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook

	| salesBook cart cashier testingUtils purchase merchantProcessor |
	testingUtils _ TestingUtils new.	
	cart _ Cart with: testingUtils catalog.
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	self assert: (salesBook hasRegistered: purchase).
	self deny: salesBook isEmpty .
	! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/8/2022 13:53:25'!
PASSED!
!Behavior method!
catalog
	| catalog |
	(catalog _ [
	(Dictionary
		cover: (35 to: 44)
		declaredAt: (35 to: 44)) new ] valueCoveringAll:
		{46 to: 48})
		cover: (25 to: 31)
		declaredAt: (14 to: 20).
	[
	(catalog
		cover: (52 to: 58)
		declaredAt: (14 to: 20))
		at:
			([
			(self coverAll:
				{64 to: 67}) book ] valueCoveringAll:
				{69 to: 72})
		put:
			(100 coverAll:
				{79 to: 81}) ] valueCoveringAll:
		{60 to: 62. 74 to: 77}.
	[
	(catalog
		cover: (85 to: 91)
		declaredAt: (14 to: 20))
		at:
			([
			(self coverAll:
				{97 to: 100}) book2 ] valueCoveringAll:
				{102 to: 106})
		put:
			(50 coverAll:
				{113 to: 114}) ] valueCoveringAll:
		{93 to: 95. 108 to: 111}.
	^ catalog
		cover: (119 to: 125)
		declaredAt: (14 to: 20).! !
!Behavior method!
book
	^ 1 coverAll:
		{8 to: 9}.! !
!Behavior method!
book2
	^ 2 coverAll:
		{9 to: 10}.! !
!Behavior method!
with: aCatalog
	^ [
	([
	(self coverAll:
		{20 to: 23}) new ] valueCoveringAll:
		{25 to: 27}) initializeWith:
		(aCatalog
			cover: (45 to: 52)
			declaredAt: (7 to: 14)) ] valueCoveringAll:
		{29 to: 43}.! !
!Behavior method!
initializeWith: aCatalog
	(catalog _ aCatalog
		cover: (41 to: 48)
		declaredAt: (17 to: 24))
		cover: (30 to: 36)
		declaredAt: (30 to: 36).
	(content _ [
	(Bag
		cover: (62 to: 64)
		declaredAt: (62 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (52 to: 58)
		declaredAt: (52 to: 58).! !
!Behavior method!
initialize
	(sales _ [
	(OrderedCollection
		cover: (22 to: 38)
		declaredAt: (22 to: 38)) new ] valueCoveringAll:
		{40 to: 42})
		cover: (14 to: 18)
		declaredAt: (14 to: 18).! !
!Behavior method!
stolenCreditCardRegister
	^ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) with:
		([
		(self coverAll:
			{54 to: 57}) stolenCreditCard ] valueCoveringAll:
			{59 to: 74}) ] valueCoveringAll:
		{48 to: 52}.! !
!Behavior method!
stolenCreditCard
	^ [
	(CreditCard
		cover: (22 to: 31)
		declaredAt: (22 to: 31))
		ownedBy:
			('Enrique' coverAll:
				{42 to: 50})
		with:
			('1111222233334444' coverAll:
				{58 to: 75})
		expiratingOn:
			([
			(self coverAll:
				{91 to: 94}) validCheckoutMonthOfYear ] valueCoveringAll:
				{96 to: 119}) ] valueCoveringAll:
		{33 to: 40. 52 to: 56. 77 to: 89}.! !
!Behavior method!
validCheckoutMonthOfYear
	^ [
	(July
		cover: (28 to: 31)
		declaredAt: (28 to: 31)) of:
		(2022 coverAll:
			{37 to: 40}) ] valueCoveringAll:
		{33 to: 35}.! !
!Behavior method!
ownedBy: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear
	[
	(self coverAll:
		{75 to: 78}) assertNameIsValid:
		(aName
			cover: (99 to: 103)
			declaredAt: (10 to: 14)) ] valueCoveringAll:
		{80 to: 97}.
	[
	(self coverAll:
		{110 to: 113}) assertCardNumberIsValid:
		(aCardNumber
			cover: (140 to: 150)
			declaredAt: (22 to: 32)) ] valueCoveringAll:
		{115 to: 138}.
	[
	(self coverAll:
		{156 to: 159}) assertExpirationDateIsValid:
		(anExpirationMonthOfYear
			cover: (190 to: 212)
			declaredAt: (48 to: 70)) ] valueCoveringAll:
		{161 to: 188}.
	^ [
	([
	(self coverAll:
		{220 to: 223}) new ] valueCoveringAll:
		{225 to: 227})
		initializeFor:
			(aName
				cover: (244 to: 248)
				declaredAt: (10 to: 14))
		with:
			(aCardNumber
				cover: (256 to: 266)
				declaredAt: (22 to: 32))
		expiratingOn:
			(anExpirationMonthOfYear
				cover: (282 to: 304)
				declaredAt: (48 to: 70)) ] valueCoveringAll:
		{229 to: 242. 250 to: 254. 268 to: 280}.! !
!Behavior method!
assertNameIsValid: aName
	^ [
	([
	([
	([
	(aName
		cover: (32 to: 36)
		declaredAt: (20 to: 24)) withoutSeparators ] valueCoveringAll:
		{38 to: 54}) size ] valueCoveringAll:
		{57 to: 60})
		between:
			(4 coverAll:
				{71 to: 71})
		and:
			(30 coverAll:
				{78 to: 79}) ] valueCoveringAll:
		{62 to: 69. 73 to: 76}) ifFalse: [
		[
		(self coverAll:
			{92 to: 95}) error:
			([
			(CreditCard
				cover: (104 to: 113)
				declaredAt: (104 to: 113)) invalidNameErrorDescription ] valueCoveringAll:
				{115 to: 141}) ] valueCoveringAll:
			{97 to: 102} ]] valueCoveringAll:
		{82 to: 89}.! !
!Behavior method!
assertCardNumberIsValid: aCardNumber
	^ [
	([
	([
	(aCardNumber
		cover: (43 to: 53)
		declaredAt: (26 to: 36)) size ] valueCoveringAll:
		{55 to: 58}) =
		(16 coverAll:
			{62 to: 63}) ] valueCoveringAll:
		{60 to: 60}) ifFalse: [
		[
		(self coverAll:
			{76 to: 79}) error:
			([
			(CreditCard
				cover: (88 to: 97)
				declaredAt: (88 to: 97)) invalidCardNumberErrorDescription ] valueCoveringAll:
				{99 to: 131}) ] valueCoveringAll:
			{81 to: 86} ]] valueCoveringAll:
		{66 to: 73}.! !
!Behavior method!
assertExpirationDateIsValid: anExpirationMonthOfYear
	^ [
	([
	(anExpirationMonthOfYear
		cover: (59 to: 81)
		declaredAt: (30 to: 52)) isKindOf:
		(GregorianMonthOfYear
			cover: (93 to: 112)
			declaredAt: (93 to: 112)) ] valueCoveringAll:
		{83 to: 91}) ifFalse: [
		[
		(self coverAll:
			{125 to: 128}) error:
			([
			(CreditCard
				cover: (137 to: 146)
				declaredAt: (137 to: 146)) invalidExpirationDateErrorDescription ] valueCoveringAll:
				{148 to: 184}) ] valueCoveringAll:
			{130 to: 135} ]] valueCoveringAll:
		{115 to: 122}.! !
!Behavior method!
initializeFor: aName with: aCardNumber expiratingOn: aExpirationDate
	(name _ aName
		cover: (82 to: 86)
		declaredAt: (16 to: 20))
		cover: (74 to: 77)
		declaredAt: (74 to: 77).
	(cardNumber _ aCardNumber
		cover: (104 to: 114)
		declaredAt: (28 to: 38))
		cover: (90 to: 99)
		declaredAt: (90 to: 99).
	(expirationDate _ aExpirationDate
		cover: (136 to: 150)
		declaredAt: (54 to: 68))
		cover: (118 to: 131)
		declaredAt: (118 to: 131).! !
!Behavior method!
with: aStolenCardRegister
	^ [
	([
	(self coverAll:
		{32 to: 35}) new ] valueCoveringAll:
		{37 to: 39}) initializeWith:
		(aStolenCardRegister
			cover: (57 to: 75)
			declaredAt: (7 to: 25)) ] valueCoveringAll:
		{41 to: 55}.! !
!Behavior method!
initializeWith: aStolenCardRegister
	(stolenCardRegister _ aStolenCardRegister
		cover: (62 to: 80)
		declaredAt: (17 to: 35))
		cover: (40 to: 57)
		declaredAt: (40 to: 57).! !
!Behavior method!
registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator
	^ [
	([
	(self coverAll:
		{79 to: 82}) new ] valueCoveringAll:
		{84 to: 86})
		initializeRegisteringSalesOn:
			(aSalesBook
				cover: (118 to: 127)
				declaredAt: (21 to: 30))
		debitingFrom:
			(aMerchantProcessorSimulator
				cover: (143 to: 169)
				declaredAt: (46 to: 72)) ] valueCoveringAll:
		{88 to: 116. 129 to: 141}.! !
!Behavior method!
initializeRegisteringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator
	(salesBook _ aSalesBook
		cover: (101 to: 110)
		declaredAt: (31 to: 40))
		cover: (88 to: 96)
		declaredAt: (88 to: 96).
	(merchantProcessorSimulator _ aMerchantProcessorSimulator
		cover: (144 to: 170)
		declaredAt: (56 to: 82))
		cover: (114 to: 139)
		declaredAt: (114 to: 139).! !
!Behavior method!
validCreditCard
	^ [
	(CreditCard
		cover: (21 to: 30)
		declaredAt: (21 to: 30))
		ownedBy:
			([
			(self coverAll:
				{41 to: 44}) validCardName ] valueCoveringAll:
				{46 to: 58})
		with:
			([
			(self coverAll:
				{66 to: 69}) validCardNumber ] valueCoveringAll:
				{71 to: 85})
		expiratingOn:
			([
			(self coverAll:
				{102 to: 105}) validCheckoutMonthOfYear ] valueCoveringAll:
				{107 to: 130}) ] valueCoveringAll:
		{32 to: 39. 60 to: 64. 88 to: 100}.! !
!Behavior method!
validCardName
	^ 'Juancito' coverAll:
		{18 to: 27}.! !
!Behavior method!
validCardNumber
	^ '4444555566667777' coverAll:
		{19 to: 36}.! !
!Behavior method!
checkout: aCart with: aCreditCard on: aDate
	| subtotal |
	[
	([
	(aCart
		cover: (65 to: 69)
		declaredAt: (11 to: 15)) isEmpty ] valueCoveringAll:
		{71 to: 77}) ifTrue: [
		[
		(self coverAll:
			{88 to: 91}) error:
			([
			(Cashier
				cover: (100 to: 106)
				declaredAt: (100 to: 106)) cannotCheckoutEmptyCartErrorDescription ] valueCoveringAll:
				{108 to: 146}) ] valueCoveringAll:
			{93 to: 98} ]] valueCoveringAll:
		{80 to: 86}.
	[
	([
	(aCreditCard
		cover: (154 to: 164)
		declaredAt: (23 to: 33)) isExpiredOn:
		(aDate
			cover: (179 to: 183)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{166 to: 177}) ifTrue: [
		[
		(self coverAll:
			{195 to: 198}) error:
			([
			(Cashier
				cover: (207 to: 213)
				declaredAt: (100 to: 106)) expiredCardErrorDescription ] valueCoveringAll:
				{215 to: 241}) ] valueCoveringAll:
			{200 to: 205} ]] valueCoveringAll:
		{186 to: 192}.
	(subtotal _ [
	(aCart
		cover: (260 to: 264)
		declaredAt: (11 to: 15)) subtotal ] valueCoveringAll:
		{266 to: 273})
		cover: (249 to: 256)
		declaredAt: (50 to: 57).
	[
	(merchantProcessorSimulator
		cover: (279 to: 304)
		declaredAt: (279 to: 304))
		debit:
			(subtotal
				cover: (313 to: 320)
				declaredAt: (50 to: 57))
		from:
			(aCreditCard
				cover: (328 to: 338)
				declaredAt: (23 to: 33))
		on:
			(aDate
				cover: (344 to: 348)
				declaredAt: (39 to: 43)) ] valueCoveringAll:
		{306 to: 311. 322 to: 326. 340 to: 342}.
	[
	(salesBook
		cover: (354 to: 362)
		declaredAt: (354 to: 362)) add:
		([
		(aCart
			cover: (369 to: 373)
			declaredAt: (11 to: 15)) content ] valueCoveringAll:
			{375 to: 381}) ] valueCoveringAll:
		{364 to: 367}.
	[
	(aCart
		cover: (388 to: 392)
		declaredAt: (11 to: 15)) clearContent ] valueCoveringAll:
		{394 to: 405}.
	^ subtotal
		cover: (412 to: 419)
		declaredAt: (50 to: 57).! !
!Behavior method!
isEmpty
	^ [
	(content
		cover: (13 to: 19)
		declaredAt: (13 to: 19)) isEmpty ] valueCoveringAll:
		{21 to: 27}.! !
!Behavior method!
cannotCheckoutEmptyCartErrorDescription
	^ 'cant checkout an empty cart' coverAll:
		{45 to: 73}.! !
!Behavior method!
isEmpty
	^ [
	(sales
		cover: (11 to: 15)
		declaredAt: (11 to: 15)) isEmpty ] valueCoveringAll:
		{17 to: 23}.! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:54:10'!
PASSED!
!Behavior method!
with: aStolenCardsRegister
	^ [
	([
	(self coverAll:
		{32 to: 35}) new ] valueCoveringAll:
		{37 to: 39}) initializeWith:
		(aStolenCardsRegister
			cover: (57 to: 76)
			declaredAt: (7 to: 26)) ] valueCoveringAll:
		{41 to: 55}.! !
!Behavior method!
initializeWith: aStolenCardsRegister
	(stolenCardRegister _ aStolenCardsRegister
		cover: (63 to: 82)
		declaredAt: (17 to: 36))
		cover: (41 to: 58)
		declaredAt: (41 to: 58).! !
!Behavior method!
add: aBook amount: anAmount
	[
	(self coverAll:
		{33 to: 36}) assertValidAmount:
		(anAmount
			cover: (57 to: 64)
			declaredAt: (20 to: 27)) ] valueCoveringAll:
		{38 to: 55}.
	[
	(self coverAll:
		{68 to: 71}) assertBookIncludedInCatalog:
		(aBook
			cover: (102 to: 106)
			declaredAt: (6 to: 10)) ] valueCoveringAll:
		{73 to: 100}.
	[
	(content
		cover: (110 to: 116)
		declaredAt: (110 to: 116))
		add:
			(aBook
				cover: (123 to: 127)
				declaredAt: (6 to: 10))
		withOccurrences:
			(anAmount
				cover: (146 to: 153)
				declaredAt: (20 to: 27)) ] valueCoveringAll:
		{118 to: 121. 129 to: 144}.! !
!Behavior method!
assertValidAmount: anAmount
	[
	([
	(anAmount
		cover: (32 to: 39)
		declaredAt: (20 to: 27)) isInteger ] valueCoveringAll:
		{41 to: 49}) ifFalse: [
		[
		(self coverAll:
			{62 to: 65}) error:
			([
			(Cart
				cover: (74 to: 77)
				declaredAt: (74 to: 77)) invalidBookAmountErrorDescription ] valueCoveringAll:
				{79 to: 111}) ] valueCoveringAll:
			{67 to: 72} ]] valueCoveringAll:
		{51 to: 58}.
	[
	([
	(anAmount
		cover: (117 to: 124)
		declaredAt: (20 to: 27)) strictlyPositive ] valueCoveringAll:
		{126 to: 141}) ifFalse: [
		[
		(self coverAll:
			{154 to: 157}) error:
			([
			(Cart
				cover: (166 to: 169)
				declaredAt: (74 to: 77)) invalidBookAmountErrorDescription ] valueCoveringAll:
				{171 to: 203}) ] valueCoveringAll:
			{159 to: 164} ]] valueCoveringAll:
		{143 to: 150}.! !
!Behavior method!
assertBookIncludedInCatalog: aBook
	^ [
	([
	(catalog
		cover: (41 to: 47)
		declaredAt: (41 to: 47)) includesKey:
		(aBook
			cover: (62 to: 66)
			declaredAt: (30 to: 34)) ] valueCoveringAll:
		{49 to: 60}) ifFalse: [
		[
		(self coverAll:
			{80 to: 83}) error:
			([
			(Cart
				cover: (92 to: 95)
				declaredAt: (92 to: 95)) cannotAddBooksNotInCatalogErrorDescription ] valueCoveringAll:
				{97 to: 138}) ] valueCoveringAll:
			{85 to: 90} ]] valueCoveringAll:
		{69 to: 76}.! !
!Behavior method!
content
	^ [
	(content
		cover: (13 to: 19)
		declaredAt: (13 to: 19)) copy ] valueCoveringAll:
		{21 to: 24}.! !
!Behavior method!
isExpiredOn: aMonthOfYear
	^ [
	(expirationDate
		cover: (30 to: 43)
		declaredAt: (30 to: 43)) <
		(aMonthOfYear
			cover: (47 to: 58)
			declaredAt: (14 to: 25)) ] valueCoveringAll:
		{45 to: 45}.! !
!Behavior method!
subtotal
	^ [
	(content
		cover: (14 to: 20)
		declaredAt: (14 to: 20)) sum: [ :aBook |
		[
		(catalog
			cover: (39 to: 45)
			declaredAt: (39 to: 45)) at:
			(aBook
				cover: (51 to: 55)
				declaredAt: (30 to: 34)) ] valueCoveringAll:
			{47 to: 49} ]] valueCoveringAll:
		{22 to: 25}.! !
!Behavior method!
debit: anAmount from: aCreditCard on: aMonthOfYear
	[
	([
	(aCreditCard
		cover: (56 to: 66)
		declaredAt: (23 to: 33)) isKindOf:
		(CreditCard
			cover: (78 to: 87)
			declaredAt: (78 to: 87)) ] valueCoveringAll:
		{68 to: 76}) ifFalse: [
		[
		(self coverAll:
			{101 to: 104}) error:
			([
			(MerchantProcessorSimulator
				cover: (113 to: 138)
				declaredAt: (113 to: 138)) onlyCanDebitFromACreditCardErrorDescription ] valueCoveringAll:
				{140 to: 182}) ] valueCoveringAll:
			{106 to: 111} ]] valueCoveringAll:
		{90 to: 97}.
	[
	([
	(aCreditCard
		cover: (189 to: 199)
		declaredAt: (23 to: 33)) isExpiredOn:
		(aMonthOfYear
			cover: (214 to: 225)
			declaredAt: (39 to: 50)) ] valueCoveringAll:
		{201 to: 212}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(MerchantProcessorSimulator
				cover: (250 to: 275)
				declaredAt: (113 to: 138)) expiredCreditCardErrorDescription ] valueCoveringAll:
				{277 to: 309}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(stolenCardRegister
		cover: (316 to: 333)
		declaredAt: (316 to: 333)) includes:
		(aCreditCard
			cover: (345 to: 355)
			declaredAt: (23 to: 33)) ] valueCoveringAll:
		{335 to: 343}) ifTrue: [
		[
		(self coverAll:
			{368 to: 371}) error:
			([
			(MerchantProcessorSimulator
				cover: (380 to: 405)
				declaredAt: (113 to: 138)) stolenCreditCardErrorDescription ] valueCoveringAll:
				{407 to: 438}) ] valueCoveringAll:
			{373 to: 378} ]] valueCoveringAll:
		{358 to: 364}.! !
!Behavior method!
= aCreditCard
	^ [
	([
	(name
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		([
		(aCreditCard
			cover: (26 to: 36)
			declaredAt: (3 to: 13)) name ] valueCoveringAll:
			{38 to: 41}) ] valueCoveringAll:
		{24 to: 24}) and: [
		[
		([
		(cardNumber
			cover: (50 to: 59)
			declaredAt: (50 to: 59)) =
			([
			(aCreditCard
				cover: (63 to: 73)
				declaredAt: (3 to: 13)) cardNumber ] valueCoveringAll:
				{75 to: 84}) ] valueCoveringAll:
			{61 to: 61}) and: [
			[
			(expirationDate
				cover: (93 to: 106)
				declaredAt: (93 to: 106)) =
				([
				(aCreditCard
					cover: (110 to: 120)
					declaredAt: (3 to: 13)) expirationDate ] valueCoveringAll:
					{122 to: 135}) ] valueCoveringAll:
				{108 to: 108} ]] valueCoveringAll:
			{86 to: 89} ]] valueCoveringAll:
		{44 to: 47}.! !
!Behavior method!
name
	^ name
		cover: (9 to: 12)
		declaredAt: (9 to: 12).! !
!Behavior method!
add: aPurchaseBag
	[
	(sales
		cover: (21 to: 25)
		declaredAt: (21 to: 25)) add:
		(aPurchaseBag
			cover: (32 to: 43)
			declaredAt: (6 to: 17)) ] valueCoveringAll:
		{27 to: 30}.! !
!Behavior method!
clearContent
	(content _ [
	(Bag
		cover: (26 to: 28)
		declaredAt: (26 to: 28)) new ] valueCoveringAll:
		{30 to: 32})
		cover: (16 to: 22)
		declaredAt: (16 to: 22).! !
!Behavior method!
hasRegistered: aPurchaseBag
	^ [
	(sales
		cover: (33 to: 37)
		declaredAt: (33 to: 37)) includes:
		(aPurchaseBag
			cover: (49 to: 60)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{39 to: 47}.! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:54:10'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:54:10'!
PASSED!
!Behavior method!
expiredCreditCard
	^ [
	(CreditCard
		cover: (23 to: 32)
		declaredAt: (23 to: 32))
		ownedBy:
			([
			(self coverAll:
				{43 to: 46}) validCardName ] valueCoveringAll:
				{48 to: 60})
		with:
			([
			(self coverAll:
				{68 to: 71}) validCardNumber ] valueCoveringAll:
				{73 to: 87})
		expiratingOn:
			([
			(July
				cover: (104 to: 107)
				declaredAt: (104 to: 107)) of:
				(2020 coverAll:
					{113 to: 116}) ] valueCoveringAll:
				{109 to: 111}) ] valueCoveringAll:
		{34 to: 41. 62 to: 66. 89 to: 101}.! !
!Behavior method!
expiredCardErrorDescription
	^ 'credit card is out of date' coverAll:
		{33 to: 60}.! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:54:10'!
PASSED!
!Behavior method!
cardNumber
	^ cardNumber
		cover: (15 to: 24)
		declaredAt: (15 to: 24).! !
!Behavior method!
expirationDate
	^ expirationDate
		cover: (19 to: 32)
		declaredAt: (19 to: 32).! !
!Behavior method!
stolenCreditCardErrorDescription
	^ 'that credit card is stolen' coverAll:
		{37 to: 64}.! !

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:54:10'!
PASSED!
!Behavior method!
catalog
	| catalog |
	(catalog _ [
	(Dictionary
		cover: (35 to: 44)
		declaredAt: (35 to: 44)) new ] valueCoveringAll:
		{46 to: 48})
		cover: (25 to: 31)
		declaredAt: (14 to: 20).
	[
	(catalog
		cover: (52 to: 58)
		declaredAt: (14 to: 20))
		at:
			([
			(self coverAll:
				{64 to: 67}) book ] valueCoveringAll:
				{69 to: 72})
		put:
			(100 coverAll:
				{79 to: 81}) ] valueCoveringAll:
		{60 to: 62. 74 to: 77}.
	[
	(catalog
		cover: (85 to: 91)
		declaredAt: (14 to: 20))
		at:
			([
			(self coverAll:
				{97 to: 100}) book2 ] valueCoveringAll:
				{102 to: 106})
		put:
			(50 coverAll:
				{113 to: 114}) ] valueCoveringAll:
		{93 to: 95. 108 to: 111}.
	^ catalog
		cover: (119 to: 125)
		declaredAt: (14 to: 20).! !
!Behavior method!
book
	^ 1 coverAll:
		{8 to: 9}.! !
!Behavior method!
book2
	^ 2 coverAll:
		{9 to: 10}.! !
!Behavior method!
with: aCatalog
	^ [
	([
	(self coverAll:
		{20 to: 23}) new ] valueCoveringAll:
		{25 to: 27}) initializeWith:
		(aCatalog
			cover: (45 to: 52)
			declaredAt: (7 to: 14)) ] valueCoveringAll:
		{29 to: 43}.! !
!Behavior method!
initializeWith: aCatalog
	(catalog _ aCatalog
		cover: (41 to: 48)
		declaredAt: (17 to: 24))
		cover: (30 to: 36)
		declaredAt: (30 to: 36).
	(content _ [
	(Bag
		cover: (62 to: 64)
		declaredAt: (62 to: 64)) new ] valueCoveringAll:
		{66 to: 68})
		cover: (52 to: 58)
		declaredAt: (52 to: 58).! !
!Behavior method!
isEmpty
	^ [
	(content
		cover: (13 to: 19)
		declaredAt: (13 to: 19)) isEmpty ] valueCoveringAll:
		{21 to: 27}.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
add: aBook amount: anAmount
	[
	(self coverAll:
		{33 to: 36}) assertValidAmount:
		(anAmount
			cover: (57 to: 64)
			declaredAt: (20 to: 27)) ] valueCoveringAll:
		{38 to: 55}.
	[
	(self coverAll:
		{68 to: 71}) assertBookIncludedInCatalog:
		(aBook
			cover: (102 to: 106)
			declaredAt: (6 to: 10)) ] valueCoveringAll:
		{73 to: 100}.
	[
	(content
		cover: (110 to: 116)
		declaredAt: (110 to: 116))
		add:
			(aBook
				cover: (123 to: 127)
				declaredAt: (6 to: 10))
		withOccurrences:
			(anAmount
				cover: (146 to: 153)
				declaredAt: (20 to: 27)) ] valueCoveringAll:
		{118 to: 121. 129 to: 144}.! !
!Behavior method!
assertValidAmount: anAmount
	[
	([
	(anAmount
		cover: (32 to: 39)
		declaredAt: (20 to: 27)) isInteger ] valueCoveringAll:
		{41 to: 49}) ifFalse: [
		[
		(self coverAll:
			{62 to: 65}) error:
			([
			(Cart
				cover: (74 to: 77)
				declaredAt: (74 to: 77)) invalidBookAmountErrorDescription ] valueCoveringAll:
				{79 to: 111}) ] valueCoveringAll:
			{67 to: 72} ]] valueCoveringAll:
		{51 to: 58}.
	[
	([
	(anAmount
		cover: (117 to: 124)
		declaredAt: (20 to: 27)) strictlyPositive ] valueCoveringAll:
		{126 to: 141}) ifFalse: [
		[
		(self coverAll:
			{154 to: 157}) error:
			([
			(Cart
				cover: (166 to: 169)
				declaredAt: (74 to: 77)) invalidBookAmountErrorDescription ] valueCoveringAll:
				{171 to: 203}) ] valueCoveringAll:
			{159 to: 164} ]] valueCoveringAll:
		{143 to: 150}.! !
!Behavior method!
assertBookIncludedInCatalog: aBook
	^ [
	([
	(catalog
		cover: (41 to: 47)
		declaredAt: (41 to: 47)) includesKey:
		(aBook
			cover: (62 to: 66)
			declaredAt: (30 to: 34)) ] valueCoveringAll:
		{49 to: 60}) ifFalse: [
		[
		(self coverAll:
			{80 to: 83}) error:
			([
			(Cart
				cover: (92 to: 95)
				declaredAt: (92 to: 95)) cannotAddBooksNotInCatalogErrorDescription ] valueCoveringAll:
				{97 to: 138}) ] valueCoveringAll:
			{85 to: 90} ]] valueCoveringAll:
		{69 to: 76}.! !

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
occurrencesOf: aBook
	^ [
	(content
		cover: (26 to: 32)
		declaredAt: (26 to: 32)) occurrencesOf:
		(aBook
			cover: (49 to: 53)
			declaredAt: (16 to: 20)) ] valueCoveringAll:
		{34 to: 47}.! !

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
unregisteredBook
	^ 0 coverAll:
		{19 to: 20}.! !
!Behavior method!
cannotAddBooksNotInCatalogErrorDescription
	^ 'Book is not edited by TusLibros.com' coverAll:
		{47 to: 83}.! !

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
invalidBookAmountErrorDescription
	^ 'Amount must be 1 or greater' coverAll:
		{38 to: 66}.! !

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
content
	^ [
	(content
		cover: (13 to: 19)
		declaredAt: (13 to: 19)) copy ] valueCoveringAll:
		{21 to: 24}.! !

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
subtotal
	^ [
	(content
		cover: (14 to: 20)
		declaredAt: (14 to: 20)) sum: [ :aBook |
		[
		(catalog
			cover: (39 to: 45)
			declaredAt: (39 to: 45)) at:
			(aBook
				cover: (51 to: 55)
				declaredAt: (30 to: 34)) ] valueCoveringAll:
			{47 to: 49} ]] valueCoveringAll:
		{22 to: 25}.! !

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
initialize
	(sales _ [
	(OrderedCollection
		cover: (22 to: 38)
		declaredAt: (22 to: 38)) new ] valueCoveringAll:
		{40 to: 42})
		cover: (14 to: 18)
		declaredAt: (14 to: 18).! !
!Behavior method!
stolenCreditCardRegister
	^ [
	(OrderedCollection
		cover: (30 to: 46)
		declaredAt: (30 to: 46)) with:
		([
		(self coverAll:
			{54 to: 57}) stolenCreditCard ] valueCoveringAll:
			{59 to: 74}) ] valueCoveringAll:
		{48 to: 52}.! !
!Behavior method!
stolenCreditCard
	^ [
	(CreditCard
		cover: (22 to: 31)
		declaredAt: (22 to: 31))
		ownedBy:
			('Enrique' coverAll:
				{42 to: 50})
		with:
			('1111222233334444' coverAll:
				{58 to: 75})
		expiratingOn:
			([
			(self coverAll:
				{91 to: 94}) validCheckoutMonthOfYear ] valueCoveringAll:
				{96 to: 119}) ] valueCoveringAll:
		{33 to: 40. 52 to: 56. 77 to: 89}.! !
!Behavior method!
validCheckoutMonthOfYear
	^ [
	(July
		cover: (28 to: 31)
		declaredAt: (28 to: 31)) of:
		(2022 coverAll:
			{37 to: 40}) ] valueCoveringAll:
		{33 to: 35}.! !
!Behavior method!
ownedBy: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear
	[
	(self coverAll:
		{75 to: 78}) assertNameIsValid:
		(aName
			cover: (99 to: 103)
			declaredAt: (10 to: 14)) ] valueCoveringAll:
		{80 to: 97}.
	[
	(self coverAll:
		{110 to: 113}) assertCardNumberIsValid:
		(aCardNumber
			cover: (140 to: 150)
			declaredAt: (22 to: 32)) ] valueCoveringAll:
		{115 to: 138}.
	[
	(self coverAll:
		{156 to: 159}) assertExpirationDateIsValid:
		(anExpirationMonthOfYear
			cover: (190 to: 212)
			declaredAt: (48 to: 70)) ] valueCoveringAll:
		{161 to: 188}.
	^ [
	([
	(self coverAll:
		{220 to: 223}) new ] valueCoveringAll:
		{225 to: 227})
		initializeFor:
			(aName
				cover: (244 to: 248)
				declaredAt: (10 to: 14))
		with:
			(aCardNumber
				cover: (256 to: 266)
				declaredAt: (22 to: 32))
		expiratingOn:
			(anExpirationMonthOfYear
				cover: (282 to: 304)
				declaredAt: (48 to: 70)) ] valueCoveringAll:
		{229 to: 242. 250 to: 254. 268 to: 280}.! !
!Behavior method!
assertNameIsValid: aName
	^ [
	([
	([
	([
	(aName
		cover: (32 to: 36)
		declaredAt: (20 to: 24)) withoutSeparators ] valueCoveringAll:
		{38 to: 54}) size ] valueCoveringAll:
		{57 to: 60})
		between:
			(4 coverAll:
				{71 to: 71})
		and:
			(30 coverAll:
				{78 to: 79}) ] valueCoveringAll:
		{62 to: 69. 73 to: 76}) ifFalse: [
		[
		(self coverAll:
			{92 to: 95}) error:
			([
			(CreditCard
				cover: (104 to: 113)
				declaredAt: (104 to: 113)) invalidNameErrorDescription ] valueCoveringAll:
				{115 to: 141}) ] valueCoveringAll:
			{97 to: 102} ]] valueCoveringAll:
		{82 to: 89}.! !
!Behavior method!
assertCardNumberIsValid: aCardNumber
	^ [
	([
	([
	(aCardNumber
		cover: (43 to: 53)
		declaredAt: (26 to: 36)) size ] valueCoveringAll:
		{55 to: 58}) =
		(16 coverAll:
			{62 to: 63}) ] valueCoveringAll:
		{60 to: 60}) ifFalse: [
		[
		(self coverAll:
			{76 to: 79}) error:
			([
			(CreditCard
				cover: (88 to: 97)
				declaredAt: (88 to: 97)) invalidCardNumberErrorDescription ] valueCoveringAll:
				{99 to: 131}) ] valueCoveringAll:
			{81 to: 86} ]] valueCoveringAll:
		{66 to: 73}.! !
!Behavior method!
assertExpirationDateIsValid: anExpirationMonthOfYear
	^ [
	([
	(anExpirationMonthOfYear
		cover: (59 to: 81)
		declaredAt: (30 to: 52)) isKindOf:
		(GregorianMonthOfYear
			cover: (93 to: 112)
			declaredAt: (93 to: 112)) ] valueCoveringAll:
		{83 to: 91}) ifFalse: [
		[
		(self coverAll:
			{125 to: 128}) error:
			([
			(CreditCard
				cover: (137 to: 146)
				declaredAt: (137 to: 146)) invalidExpirationDateErrorDescription ] valueCoveringAll:
				{148 to: 184}) ] valueCoveringAll:
			{130 to: 135} ]] valueCoveringAll:
		{115 to: 122}.! !
!Behavior method!
initializeFor: aName with: aCardNumber expiratingOn: aExpirationDate
	(name _ aName
		cover: (82 to: 86)
		declaredAt: (16 to: 20))
		cover: (74 to: 77)
		declaredAt: (74 to: 77).
	(cardNumber _ aCardNumber
		cover: (104 to: 114)
		declaredAt: (28 to: 38))
		cover: (90 to: 99)
		declaredAt: (90 to: 99).
	(expirationDate _ aExpirationDate
		cover: (136 to: 150)
		declaredAt: (54 to: 68))
		cover: (118 to: 131)
		declaredAt: (118 to: 131).! !
!Behavior method!
with: aStolenCardRegister
	^ [
	([
	(self coverAll:
		{32 to: 35}) new ] valueCoveringAll:
		{37 to: 39}) initializeWith:
		(aStolenCardRegister
			cover: (57 to: 75)
			declaredAt: (7 to: 25)) ] valueCoveringAll:
		{41 to: 55}.! !
!Behavior method!
initializeWith: aStolenCardRegister
	(stolenCardRegister _ aStolenCardRegister
		cover: (62 to: 80)
		declaredAt: (17 to: 35))
		cover: (40 to: 57)
		declaredAt: (40 to: 57).! !
!Behavior method!
registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator
	^ [
	([
	(self coverAll:
		{79 to: 82}) new ] valueCoveringAll:
		{84 to: 86})
		initializeRegisteringSalesOn:
			(aSalesBook
				cover: (118 to: 127)
				declaredAt: (21 to: 30))
		debitingFrom:
			(aMerchantProcessorSimulator
				cover: (143 to: 169)
				declaredAt: (46 to: 72)) ] valueCoveringAll:
		{88 to: 116. 129 to: 141}.! !
!Behavior method!
initializeRegisteringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator
	(salesBook _ aSalesBook
		cover: (101 to: 110)
		declaredAt: (31 to: 40))
		cover: (88 to: 96)
		declaredAt: (88 to: 96).
	(merchantProcessorSimulator _ aMerchantProcessorSimulator
		cover: (144 to: 170)
		declaredAt: (56 to: 82))
		cover: (114 to: 139)
		declaredAt: (114 to: 139).! !
!Behavior method!
validCreditCard
	^ [
	(CreditCard
		cover: (21 to: 30)
		declaredAt: (21 to: 30))
		ownedBy:
			([
			(self coverAll:
				{41 to: 44}) validCardName ] valueCoveringAll:
				{46 to: 58})
		with:
			([
			(self coverAll:
				{66 to: 69}) validCardNumber ] valueCoveringAll:
				{71 to: 85})
		expiratingOn:
			([
			(self coverAll:
				{102 to: 105}) validCheckoutMonthOfYear ] valueCoveringAll:
				{107 to: 130}) ] valueCoveringAll:
		{32 to: 39. 60 to: 64. 88 to: 100}.! !
!Behavior method!
validCardName
	^ 'Juancito' coverAll:
		{18 to: 27}.! !
!Behavior method!
validCardNumber
	^ '4444555566667777' coverAll:
		{19 to: 36}.! !
!Behavior method!
checkout: aCart with: aCreditCard on: aDate
	| subtotal |
	[
	([
	(aCart
		cover: (65 to: 69)
		declaredAt: (11 to: 15)) isEmpty ] valueCoveringAll:
		{71 to: 77}) ifTrue: [
		[
		(self coverAll:
			{88 to: 91}) error:
			([
			(Cashier
				cover: (100 to: 106)
				declaredAt: (100 to: 106)) cannotCheckoutEmptyCartErrorDescription ] valueCoveringAll:
				{108 to: 146}) ] valueCoveringAll:
			{93 to: 98} ]] valueCoveringAll:
		{80 to: 86}.
	[
	([
	(aCreditCard
		cover: (154 to: 164)
		declaredAt: (23 to: 33)) isExpiredOn:
		(aDate
			cover: (179 to: 183)
			declaredAt: (39 to: 43)) ] valueCoveringAll:
		{166 to: 177}) ifTrue: [
		[
		(self coverAll:
			{195 to: 198}) error:
			([
			(Cashier
				cover: (207 to: 213)
				declaredAt: (100 to: 106)) expiredCardErrorDescription ] valueCoveringAll:
				{215 to: 241}) ] valueCoveringAll:
			{200 to: 205} ]] valueCoveringAll:
		{186 to: 192}.
	(subtotal _ [
	(aCart
		cover: (260 to: 264)
		declaredAt: (11 to: 15)) subtotal ] valueCoveringAll:
		{266 to: 273})
		cover: (249 to: 256)
		declaredAt: (50 to: 57).
	[
	(merchantProcessorSimulator
		cover: (279 to: 304)
		declaredAt: (279 to: 304))
		debit:
			(subtotal
				cover: (313 to: 320)
				declaredAt: (50 to: 57))
		from:
			(aCreditCard
				cover: (328 to: 338)
				declaredAt: (23 to: 33))
		on:
			(aDate
				cover: (344 to: 348)
				declaredAt: (39 to: 43)) ] valueCoveringAll:
		{306 to: 311. 322 to: 326. 340 to: 342}.
	[
	(salesBook
		cover: (354 to: 362)
		declaredAt: (354 to: 362)) add:
		([
		(aCart
			cover: (369 to: 373)
			declaredAt: (11 to: 15)) content ] valueCoveringAll:
			{375 to: 381}) ] valueCoveringAll:
		{364 to: 367}.
	[
	(aCart
		cover: (388 to: 392)
		declaredAt: (11 to: 15)) clearContent ] valueCoveringAll:
		{394 to: 405}.
	^ subtotal
		cover: (412 to: 419)
		declaredAt: (50 to: 57).! !
!Behavior method!
cannotCheckoutEmptyCartErrorDescription
	^ 'cant checkout an empty cart' coverAll:
		{45 to: 73}.! !
!Behavior method!
isEmpty
	^ [
	(sales
		cover: (11 to: 15)
		declaredAt: (11 to: 15)) isEmpty ] valueCoveringAll:
		{17 to: 23}.! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
with: aStolenCardsRegister
	^ [
	([
	(self coverAll:
		{32 to: 35}) new ] valueCoveringAll:
		{37 to: 39}) initializeWith:
		(aStolenCardsRegister
			cover: (57 to: 76)
			declaredAt: (7 to: 26)) ] valueCoveringAll:
		{41 to: 55}.! !
!Behavior method!
initializeWith: aStolenCardsRegister
	(stolenCardRegister _ aStolenCardsRegister
		cover: (63 to: 82)
		declaredAt: (17 to: 36))
		cover: (41 to: 58)
		declaredAt: (41 to: 58).! !
!Behavior method!
isExpiredOn: aMonthOfYear
	^ [
	(expirationDate
		cover: (30 to: 43)
		declaredAt: (30 to: 43)) <
		(aMonthOfYear
			cover: (47 to: 58)
			declaredAt: (14 to: 25)) ] valueCoveringAll:
		{45 to: 45}.! !
!Behavior method!
debit: anAmount from: aCreditCard on: aMonthOfYear
	[
	([
	(aCreditCard
		cover: (56 to: 66)
		declaredAt: (23 to: 33)) isKindOf:
		(CreditCard
			cover: (78 to: 87)
			declaredAt: (78 to: 87)) ] valueCoveringAll:
		{68 to: 76}) ifFalse: [
		[
		(self coverAll:
			{101 to: 104}) error:
			([
			(MerchantProcessorSimulator
				cover: (113 to: 138)
				declaredAt: (113 to: 138)) onlyCanDebitFromACreditCardErrorDescription ] valueCoveringAll:
				{140 to: 182}) ] valueCoveringAll:
			{106 to: 111} ]] valueCoveringAll:
		{90 to: 97}.
	[
	([
	(aCreditCard
		cover: (189 to: 199)
		declaredAt: (23 to: 33)) isExpiredOn:
		(aMonthOfYear
			cover: (214 to: 225)
			declaredAt: (39 to: 50)) ] valueCoveringAll:
		{201 to: 212}) ifTrue: [
		[
		(self coverAll:
			{238 to: 241}) error:
			([
			(MerchantProcessorSimulator
				cover: (250 to: 275)
				declaredAt: (113 to: 138)) expiredCreditCardErrorDescription ] valueCoveringAll:
				{277 to: 309}) ] valueCoveringAll:
			{243 to: 248} ]] valueCoveringAll:
		{228 to: 234}.
	[
	([
	(stolenCardRegister
		cover: (316 to: 333)
		declaredAt: (316 to: 333)) includes:
		(aCreditCard
			cover: (345 to: 355)
			declaredAt: (23 to: 33)) ] valueCoveringAll:
		{335 to: 343}) ifTrue: [
		[
		(self coverAll:
			{368 to: 371}) error:
			([
			(MerchantProcessorSimulator
				cover: (380 to: 405)
				declaredAt: (113 to: 138)) stolenCreditCardErrorDescription ] valueCoveringAll:
				{407 to: 438}) ] valueCoveringAll:
			{373 to: 378} ]] valueCoveringAll:
		{358 to: 364}.! !
!Behavior method!
= aCreditCard
	^ [
	([
	(name
		cover: (19 to: 22)
		declaredAt: (19 to: 22)) =
		([
		(aCreditCard
			cover: (26 to: 36)
			declaredAt: (3 to: 13)) name ] valueCoveringAll:
			{38 to: 41}) ] valueCoveringAll:
		{24 to: 24}) and: [
		[
		([
		(cardNumber
			cover: (50 to: 59)
			declaredAt: (50 to: 59)) =
			([
			(aCreditCard
				cover: (63 to: 73)
				declaredAt: (3 to: 13)) cardNumber ] valueCoveringAll:
				{75 to: 84}) ] valueCoveringAll:
			{61 to: 61}) and: [
			[
			(expirationDate
				cover: (93 to: 106)
				declaredAt: (93 to: 106)) =
				([
				(aCreditCard
					cover: (110 to: 120)
					declaredAt: (3 to: 13)) expirationDate ] valueCoveringAll:
					{122 to: 135}) ] valueCoveringAll:
				{108 to: 108} ]] valueCoveringAll:
			{86 to: 89} ]] valueCoveringAll:
		{44 to: 47}.! !
!Behavior method!
name
	^ name
		cover: (9 to: 12)
		declaredAt: (9 to: 12).! !
!Behavior method!
add: aPurchaseBag
	[
	(sales
		cover: (21 to: 25)
		declaredAt: (21 to: 25)) add:
		(aPurchaseBag
			cover: (32 to: 43)
			declaredAt: (6 to: 17)) ] valueCoveringAll:
		{27 to: 30}.! !
!Behavior method!
clearContent
	(content _ [
	(Bag
		cover: (26 to: 28)
		declaredAt: (26 to: 28)) new ] valueCoveringAll:
		{30 to: 32})
		cover: (16 to: 22)
		declaredAt: (16 to: 22).! !
!Behavior method!
hasRegistered: aPurchaseBag
	^ [
	(sales
		cover: (33 to: 37)
		declaredAt: (33 to: 37)) includes:
		(aPurchaseBag
			cover: (49 to: 60)
			declaredAt: (16 to: 27)) ] valueCoveringAll:
		{39 to: 47}.! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
expiredCreditCard
	^ [
	(CreditCard
		cover: (23 to: 32)
		declaredAt: (23 to: 32))
		ownedBy:
			([
			(self coverAll:
				{43 to: 46}) validCardName ] valueCoveringAll:
				{48 to: 60})
		with:
			([
			(self coverAll:
				{68 to: 71}) validCardNumber ] valueCoveringAll:
				{73 to: 87})
		expiratingOn:
			([
			(July
				cover: (104 to: 107)
				declaredAt: (104 to: 107)) of:
				(2020 coverAll:
					{113 to: 116}) ] valueCoveringAll:
				{109 to: 111}) ] valueCoveringAll:
		{34 to: 41. 62 to: 66. 89 to: 101}.! !
!Behavior method!
expiredCardErrorDescription
	^ 'credit card is out of date' coverAll:
		{33 to: 60}.! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
cardNumber
	^ cardNumber
		cover: (15 to: 24)
		declaredAt: (15 to: 24).! !
!Behavior method!
expirationDate
	^ expirationDate
		cover: (19 to: 32)
		declaredAt: (19 to: 32).! !
!Behavior method!
stolenCreditCardErrorDescription
	^ 'that credit card is stolen' coverAll:
		{37 to: 64}.! !

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
invalidCardNumber
	^ '1' coverAll:
		{21 to: 23}.! !
!Behavior method!
invalidCardNumberErrorDescription
	^ 'the credit card number must be 16' coverAll:
		{38 to: 72}.! !

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
invalidCardName
	^ ' Jaigsrepgepiosegaisdgoipojasdjkljjdhfjlljafnv' coverAll:
		{21 to: 69}.! !
!Behavior method!
invalidNameErrorDescription
	'Name is too short/long' coverAll:
		{31 to: 54}.! !

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
invalidExpirationDate
	^ [
	(GregorianYear
		cover: (27 to: 39)
		declaredAt: (27 to: 39)) number:
		(2050 coverAll:
			{49 to: 52}) ] valueCoveringAll:
		{41 to: 47}.! !
!Behavior method!
invalidExpirationDateErrorDescription
	^ 'Expiration date must be a month and a year' coverAll:
		{42 to: 85}.! !

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
onlyCanDebitFromACreditCardErrorDescription
	^ 'invalid credit card format' coverAll:
		{49 to: 76}.! !

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!Behavior method!
expiredCreditCardErrorDescription
	^ 'credit card has expired' coverAll:
		{39 to: 63}.! !

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/8/2022 13:54:33'!
PASSED!
!MerchantProcessorSimulator methodsFor: 'debiting' stamp: 'JDR 6/8/2022 13:57:26'!
assertCreditCardIsAValidObject: aCreditCard

	^ (aCreditCard isKindOf: CreditCard) ifFalse: [ self error: MerchantProcessorSimulator onlyCanDebitFromACreditCardErrorDescription ]! !
!MerchantProcessorSimulator methodsFor: 'debiting' stamp: 'JDR 6/8/2022 13:57:26' prior: 50483204!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	self assertCreditCardIsAValidObject: aCreditCard.
	(aCreditCard isExpiredOn: aMonthOfYear) ifTrue: [ self error: MerchantProcessorSimulator expiredCreditCardErrorDescription ].
	(stolenCardRegister includes: aCreditCard) ifTrue: [ self error: MerchantProcessorSimulator stolenCreditCardErrorDescription ].! !
!MerchantProcessorSimulator methodsFor: 'debiting' stamp: 'JDR 6/8/2022 13:57:54'!
assert: aCreditCard isNotExpiredOn: aMonthOfYear

	^ (aCreditCard isExpiredOn: aMonthOfYear) ifTrue: [ self error: MerchantProcessorSimulator expiredCreditCardErrorDescription ]! !
!MerchantProcessorSimulator methodsFor: 'debiting' stamp: 'JDR 6/8/2022 13:57:54' prior: 50485366!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	self assertCreditCardIsAValidObject: aCreditCard.
	self assert: aCreditCard isNotExpiredOn: aMonthOfYear.
	(stolenCardRegister includes: aCreditCard) ifTrue: [ self error: MerchantProcessorSimulator stolenCreditCardErrorDescription ].! !
!MerchantProcessorSimulator methodsFor: 'debiting' stamp: 'JDR 6/8/2022 13:58:26'!
assertCreditCardIsNotStolen: aCreditCard

	^ (stolenCardRegister includes: aCreditCard) ifTrue: [ self error: MerchantProcessorSimulator stolenCreditCardErrorDescription ]! !
!MerchantProcessorSimulator methodsFor: 'debiting' stamp: 'JDR 6/8/2022 13:58:26' prior: 50485389!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	self assertCreditCardIsAValidObject: aCreditCard.
	self assert: aCreditCard isNotExpiredOn: aMonthOfYear.
	self assertCreditCardIsNotStolen: aCreditCard.! !

----STARTUP---- (9 June 2022 17:07:33) as /home/clinux01/Escritorio/inge1/tuslibros3/linux64/CuisUniversity-5096.image!


----End fileIn of /home/clinux01/Escritorio/inge1/tuslibros3/09-TusLibros it2/TusLibros-it2.st----!
!MerchantProcessorSimulatorTest methodsFor: 'testing' stamp: 'JDR 6/9/2022 17:19:03'!
test04DebitFromAFundlessCreditCardShouldRaiseAnError

	| merchantProcessor amount testingUtils |
	testingUtils _ TestingUtils new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister withFundRegister: testingUtils creditCardFundRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: testingUtils fundlessCreditCard on: testingUtils validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator fundlessCreditCardErrorDescription equals: anError messageText .]
	
	! !
!MerchantProcessorSimulatorTest methodsFor: 'testing' stamp: 'JDR 6/9/2022 17:35:28' prior: 50475020!
test04DebitFromAFundlessCreditCardShouldRaiseAnError

	"| merchantProcessor amount testingUtils |
	testingUtils _ TestingUtils new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister withFundRegister: testingUtils creditCardFundRegister.	
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: testingUtils fundlessCreditCard on: testingUtils validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator fundlessCreditCardErrorDescription equals: anError messageText .]"
	
	! !

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/9/2022 17:35:28'!
PASSED!
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/9/2022 17:42:39'!
stolenCreditCardNumber

	^ '1111222233334444'! !
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/9/2022 17:42:39' prior: 50474970!
stolenCreditCard
	
	^CreditCard ownedBy: 'Enrique' with: self stolenCreditCardNumber expiratingOn: self validCheckoutMonthOfYear ! !
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/9/2022 17:43:41' prior: 50474950!
expiredCreditCard
	
	^CreditCard ownedBy: self validCardName with: '8888888888888888' expiratingOn: (July of: 2020)! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/9/2022 17:43:43'!
PASSED!
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/9/2022 17:43:51'!
expiredCreditCardNumber

	^ '8888888888888888'! !
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/9/2022 17:43:51' prior: 50475158!
expiredCreditCard
	
	^CreditCard ownedBy: self validCardName with: self expiredCreditCardNumber expiratingOn: (July of: 2020)! !
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/9/2022 17:47:10'!
creditCardFundRegister

	| dictionary |
	dictionary _ Dictionary new.
	dictionary at: self validCardNumber put: 100000.
	dictionary at: self stolenCreditCardNumber put: 100000.
	dictionary at: self expiredCreditCardNumber put: 100000.
	dictionary at: self fundlessCardNumber put: 0.
	^dictionary! !
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/9/2022 17:47:40'!
fundlessCardNumber 

	^'3333333333333333'! !
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/9/2022 17:48:35'!
fundlessCreditCard
	
	^CreditCard ownedBy: 'Jorge Sin Fondos' with: self fundlessCardNumber expiratingOn: self validCheckoutMonthOfYear ! !
!MerchantProcessorSimulatorTest methodsFor: 'testing' stamp: 'JDR 6/9/2022 17:56:42' prior: 50475043!
test04DebitFromAFundlessCreditCardShouldRaiseAnError

	| merchantProcessor amount testingUtils |
	testingUtils _ TestingUtils new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: testingUtils fundlessCreditCard on: testingUtils validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator fundlessCreditCardErrorDescription equals: anError messageText .]
	
	! !
!MerchantProcessorSimulator class methodsFor: 'error descriptions' stamp: 'JDR 6/9/2022 17:56:59'!
fundlessCreditCardErrorDescription

	'fundless credit card'! !

Object subclass: #MerchantProcessorSimulator
	instanceVariableNames: 'stolenCardRegister creditCardFundsRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MerchantProcessorSimulator category: 'TusLibros' stamp: 'JDR 6/9/2022 17:59:32'!
Object subclass: #MerchantProcessorSimulator
	instanceVariableNames: 'stolenCardRegister creditCardFundsRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #MerchantProcessorSimulator category: 'TusLibros' stamp: 'JDR 6/9/2022 18:01:06'!
Object subclass: #MerchantProcessorSimulator
	instanceVariableNames: 'stolenCardRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!MerchantProcessorSimulatorTest methodsFor: 'testing' stamp: 'JDR 6/9/2022 19:53:27' prior: 50475277!
test04DebitFromAFundlessCreditCardShouldRaiseAnError

	"| merchantProcessor amount testingUtils |
	testingUtils _ TestingUtils new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: testingUtils fundlessCreditCard on: testingUtils validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator fundlessCreditCardErrorDescription equals: anError messageText .]"
	
	! !

TestCase subclass: #XXXTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #XXXTest category: 'TusLibros' stamp: 'JDR 6/9/2022 19:55:15'!
TestCase subclass: #XXXTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #XXX category: 'TusLibros' stamp: 'JDR 6/9/2022 20:05:11'!
Object subclass: #XXX
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #XXXAuthenticator category: 'TusLibros' stamp: 'JDR 6/9/2022 20:05:19'!
Object subclass: #XXXAuthenticator
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!XXXTest methodsFor: 'no messages' stamp: 'JDR 6/9/2022 20:05:04'!
test01

	| clientID password xxx |
	xxx _ XXX new.
	clientID _ 'unregistered ID'.
	password _ 'v'.
	
	self should: [ xxx createCartForUser: clientID withPassword: password. ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: XXXAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:05:24'!
ERROR!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:05:30'!
createCartForUser: aString withPassword: aString2 
	self shouldBeImplemented.! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:07:19' prior: 50475386!
createCartForUser: aClientID withPassword: aPassword

	self error: XXXAuthenticator invalidCredentialsErrorDescription
	
	! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:07:21'!
ERROR!
!XXXAuthenticator class methodsFor: 'error descriptions' stamp: 'JDR 6/9/2022 20:07:33'!
invalidCredentialsErrorDescription
	self shouldBeImplemented.! !
!XXXAuthenticator class methodsFor: 'error descriptions' stamp: 'JDR 6/9/2022 20:08:06' prior: 50475401!
invalidCredentialsErrorDescription
	
	^'invalid ID or password'! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:08:07'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:08:07'!
PASSED!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:17:11'!
test02

	| clientID password xxx cartID userRegister xxxAuthenticator |
	
	clientID _ 'registeredID'.
	password _ 'validPassword'.
	userRegister _ Dictionary new at: clientID put: password.
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: clientID withPassword: password. 
	
	self assert: (xxx listCart: cartID) isEmpty.! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:17:18'!
ERROR!
!XXXAuthenticator class methodsFor: 'instance creation' stamp: 'JDR 6/9/2022 20:17:23'!
with: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aString ! !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:17:56' prior: 50475416!
test02

	| clientID password xxx cartID userRegister xxxAuthenticator |
	
	clientID _ 'registeredID'.
	password _ 'validPassword'.
	userRegister _ (Dictionary new) at: clientID put: password.
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: clientID withPassword: password. 
	
	self assert: (xxx listCart: cartID) isEmpty.! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:17:57'!
ERROR!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:18:29' prior: 50475442!
test02

	| clientID password xxx cartID userRegister xxxAuthenticator |
	
	clientID _ 'registeredID'.
	password _ 'validPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID put: password.
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: clientID withPassword: password. 
	
	self assert: (xxx listCart: cartID) isEmpty.! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:18:29'!
ERROR!
!XXXAuthenticator class methodsFor: 'instance creation' stamp: 'JDR 6/9/2022 20:19:14' prior: 50475434!
with: aUserRegister

	^self new initializeWith: aUserRegister ! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:19:28'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:19:28'!
ERROR!

!classDefinition: #XXXAuthenticator category: 'TusLibros' stamp: 'JDR 6/9/2022 20:19:32'!
Object subclass: #XXXAuthenticator
	instanceVariableNames: 'userRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!XXXAuthenticator methodsFor: 'initialization' stamp: 'JDR 6/9/2022 20:19:32'!
initializeWith: aUserRegister 
	self shouldBeImplemented.
	userRegister := aUserRegister.! !
!XXXAuthenticator methodsFor: 'initialization' stamp: 'JDR 6/9/2022 20:19:37' prior: 50475497!
initializeWith: aUserRegister 
	
	userRegister := aUserRegister.! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:19:38'!
ERROR!
!XXX class methodsFor: 'instance creation' stamp: 'JDR 6/9/2022 20:19:44'!
authenticatingWith: aXXXAuthenticator 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeAuthenticatingWith: aXXXAuthenticator ! !
!XXX class methodsFor: 'instance creation' stamp: 'JDR 6/9/2022 20:19:52' prior: 50475510!
authenticatingWith: aXXXAuthenticator 

	^self new initializeAuthenticatingWith: aXXXAuthenticator ! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:19:52'!
ERROR!

!classDefinition: #XXX category: 'TusLibros' stamp: 'JDR 6/9/2022 20:20:00'!
Object subclass: #XXX
	instanceVariableNames: 'xXXAuthenticator'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!XXX methodsFor: 'initialization' stamp: 'JDR 6/9/2022 20:20:00'!
initializeAuthenticatingWith: aXXXAuthenticator 
	self shouldBeImplemented.
	xXXAuthenticator := aXXXAuthenticator.! !
!XXX methodsFor: 'initialization' stamp: 'JDR 6/9/2022 20:20:12' prior: 50475535!
initializeAuthenticatingWith: aXXXAuthenticator 
	
	xXXAuthenticator := aXXXAuthenticator.! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:20:15'!
ERROR!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:21:59' prior: 50475392!
createCartForUser: aClientID withPassword: aPassword

	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	self error: XXXAuthenticator invalidCredentialsErrorDescription
	
	! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:22:06'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:22:06'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:22:11'!
ERROR!
!XXXAuthenticator methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:22:16'!
authenticate: aString with: aString2 
	self shouldBeImplemented.! !

----End fileIn of /home/clinux01/Escritorio/inge1/tuslibros3/linux64/Packages/TerseGuide.pck.st----!
!XXXAuthenticator methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:27:26' prior: 50475565!
authenticate: aClientID with: aPassword
	
	((userRegister includesKey: aClientID) and: [ (userRegister at: aClientID) = aPassword ]) ifFalse:  [self error: XXXAuthenticator invalidCredentialsErrorDescription]! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:27:27'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:27:27'!
ERROR!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:27:37'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:27:37'!
ERROR!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:27:39'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:27:48'!
ERROR!

!classDefinition: #XXX category: 'TusLibros' stamp: 'JDR 6/9/2022 20:33:07'!
Object subclass: #XXX
	instanceVariableNames: 'xXXAuthenticator catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #XXX category: 'TusLibros' stamp: 'JDR 6/9/2022 20:33:15'!
Object subclass: #XXX
	instanceVariableNames: 'xXXAuthenticator catalog cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #XXX category: 'TusLibros' stamp: 'JDR 6/9/2022 20:33:21'!
Object subclass: #XXX
	instanceVariableNames: 'xXXAuthenticator catalog cart currentCartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:33:13' prior: 50475550!
createCartForUser: aClientID withPassword: aPassword

	| idToReturn |
	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	catalog _ TestingUtils new catalog.
	cart _ Cart with: catalog.
	
	idToReturn _ currentCartId.
	currentCartId _ currentCartId+ 1.
	^idToReturn
	
	
	! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:33:24'!
ERROR!

Object subclass: #XXX
	instanceVariableNames: 'xXXAuthenticator cart currentCartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #XXX category: 'TusLibros' stamp: 'JDR 6/9/2022 20:33:39'!
Object subclass: #XXX
	instanceVariableNames: 'xXXAuthenticator cart currentCartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:33:45' prior: 50478535!
createCartForUser: aClientID withPassword: aPassword

	| idToReturn catalog |
	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	catalog _ TestingUtils new catalog.
	cart _ Cart with: catalog.
	
	idToReturn _ currentCartId.
	currentCartId _ currentCartId+ 1.
	^idToReturn
	
	
	! !
!XXX methodsFor: 'initialization' stamp: 'JDR 6/9/2022 20:34:10' prior: 50475542!
initializeAuthenticatingWith: aXXXAuthenticator 
	
	currentCartId _ 1.
	xXXAuthenticator := aXXXAuthenticator.! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:34:12'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:34:12'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:34:15'!
ERROR!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:34:19'!
listCart: aSmallInteger 
	self shouldBeImplemented.! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:34:49' prior: 50478586!
listCart: aCartId 
	
	^ cart content .! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:34:50' prior: 50478591!
listCart: aCartId 
	
	^ cart content.! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:34:52'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:34:59'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:34:59'!
ERROR!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:34:59'!
ERROR!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:35:43' prior: 50475370!
test01

	| clientID password xxx userRegister xxxAuthenticator |
	clientID _ 'registeredID'.
	password _ 'validPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID put: password.
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.

	self should: [ xxx createCartForUser: clientID withPassword: password. ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: XXXAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:35:46'!
FAILURE!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:36:11' prior: 50478609!
test01

	| clientID password xxx userRegister xxxAuthenticator |
	clientID _ 'unregisteredID'.
	password _ 'invalidPassword'.
	userRegister _ Dictionary new. 
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.

	self should: [ xxx createCartForUser: clientID withPassword: password. ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: XXXAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:36:12'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:36:12'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:36:12'!
PASSED!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:37:29'!
idForNewCart

	| idToReturn |
	idToReturn _ currentCartId.
	currentCartId _ currentCartId+ 1.
	^idToReturn
	
	
	! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:37:47' prior: 50478561!
createCartForUser: aClientID withPassword: aPassword

	| idToReturn catalog |
	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	catalog _ TestingUtils new catalog.
	cart _ Cart with: catalog.
	
	
	^self idForNewCart 
	
	
	! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:37:51'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:37:51'!
PASSED!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:37:57' prior: 50478664!
createCartForUser: aClientID withPassword: aPassword

	| catalog |
	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	catalog _ TestingUtils new catalog.
	cart _ Cart with: catalog.
	
	
	^self idForNewCart 
	
	
	! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:37:59' prior: 50478679!
createCartForUser: aClientID withPassword: aPassword

	| catalog |
	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	catalog _ TestingUtils new catalog.
	cart _ Cart with: catalog.
	
	
	^self idForNewCart 
	
	
	! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:37:59'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:37:59'!
PASSED!
!XXXAuthenticator methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:40:26' prior: 50478491!
authenticate: aClientID with: aPassword
	
	((self assertRegisteredUser: aClientID) and: [ self assertValid: aPassword for: aClientID ]) ifFalse:  [self error: XXXAuthenticator invalidCredentialsErrorDescription]! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:40:30'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:40:30'!
ERROR!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:40:32'!
ERROR!
!XXXAuthenticator methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:40:36'!
assertRegisteredUser: aString 
	self shouldBeImplemented.! !
!XXXAuthenticator methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:40:55' prior: 50478720!
assertRegisteredUser: aUserId 
	
	userRegister includesKey: aUserId.! !
!XXXAuthenticator methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:40:59' prior: 50478726!
assertRegisteredUser: aUserId 
	
	^ userRegister includesKey: aUserId.! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:41:00'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:41:00'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:41:00'!
ERROR!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:41:04'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:41:06'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:41:06'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:41:06'!
ERROR!
!XXXAuthenticator methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:41:12'!
assertValid: aString for: aString2 
	self shouldBeImplemented.! !
!XXXAuthenticator methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:41:59' prior: 50478752!
assertValid: aPassword for: aClientId

	^ (userRegister at: aClientId ) = aPassword 
	
	! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:42:01'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:42:02'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:42:02'!
PASSED!
!XXXAuthenticator methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:44:05' prior: 50478704!
authenticate: aClientID with: aPassword
	
	(self assert: aClientID isRegisteredWith: aPassword) ifFalse:  [self error: XXXAuthenticator invalidCredentialsErrorDescription]! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:44:08'!
ERROR!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:44:08'!
ERROR!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:44:09'!
ERROR!
!XXXAuthenticator methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:44:13'!
assert: aString isRegisteredWith: aString2 
	self shouldBeImplemented.! !
!XXXAuthenticator methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:44:31' prior: 50478786!
assert: aClientID isRegisteredWith: aPassword 
	
	^(self assertRegisteredUser: aClientID) and: [ self assertValid: aPassword for: aClientID ]! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:44:32'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:44:34'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:44:34'!
PASSED!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:46:24' prior: 50478632!
test01

	| clientID password xxx userRegister xxxAuthenticator |
	
	clientID _ 'unregisteredID'.
	password _ 'invalidPassword'.
	userRegister _ Dictionary new. 
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	
	xxx _ XXX authenticatingWith: xxxAuthenticator.

	self should: [ xxx createCartForUser: clientID withPassword: password. ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: XXXAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:50:29'!
test03

	| clientID password xxx cartID userRegister xxxAuthenticator invalidCartID |
	
	clientID _ 'registeredID'.
	password _ 'validPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID put: password.
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: clientID withPassword: password. 
	
	self assert: (xxx listCart: invalidCartID) isEmpty.! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:53:35' prior: 50478689!
createCartForUser: aClientID withPassword: aPassword

	
	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	
	^1 
	
	
	! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 20:53:47' prior: 50478596!
listCart: aCartId 
	
	^ OrderedCollection new.! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 20:53:48'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 20:53:48'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 20:53:48'!
PASSED!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:00:52' prior: 50478825!
test03

	| clientID password xxx cartID userRegister xxxAuthenticator |
	
	clientID _ 'registeredID'.
	password _ 'validPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID put: password.
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID _ xxx createCartForUser: clientID withPassword: password. 
	xxx add: TestingUtils new book to: cartID.
	self assert: (xxx listCart: cartID) isEmpty.! !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:01:39' prior: 50478860!
test03

	| clientID password xxx cartID userRegister xxxAuthenticator |
	
	clientID _ 'registeredID'.
	password _ 'validPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID put: password.
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID _ xxx createCartForUser: clientID withPassword: password. 
	xxx add: TestingUtils new book to: cartID.
	self deny: (xxx listCart: cartID) isEmpty.! !

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:01:49'!
ERROR!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:01:54'!
add: aSmallInteger to: aSmallInteger2 
	self shouldBeImplemented.! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:02:41' prior: 50478898!
add: aBook to: aCartID 
	! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:03:59'!
add: aBook ammount: anAmmount to: aCartID

	cart add: aBook amount: anAmmount 
	! !

Object subclass: #XXX
	instanceVariableNames: 'xXXAuthenticator cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #XXX category: 'TusLibros' stamp: 'JDR 6/9/2022 21:04:08'!
Object subclass: #XXX
	instanceVariableNames: 'xXXAuthenticator cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:04:54' prior: 50478842!
createCartForUser: aClientID withPassword: aPassword

	
	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	cart _ Cart with: TestingUtils new catalog.
	^1 
	
	
	! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:04:59'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:04:59'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:04:59'!
FAILURE!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:04:59'!
FAILURE!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:05:09' prior: 50478849!
listCart: aCartId 
	
	^ cart.! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:05:10'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:05:10'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:05:10'!
FAILURE!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:05:10'!
FAILURE!

!methodRemoval: XXX #add:to: stamp: 'JDR 6/9/2022 21:05:20'!
add: aBook to: aCartID 
	!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:05:52' prior: 50478878!
test03

	| clientID password xxx cartID userRegister xxxAuthenticator |
	
	clientID _ 'registeredID'.
	password _ 'validPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID put: password.
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID _ xxx createCartForUser: clientID withPassword: password. 
	xxx add: TestingUtils new book ammount: 1 to: cartID.
	self deny: (xxx listCart: cartID) isEmpty.! !

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:05:53'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:05:53'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:05:53'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:05:53'!
PASSED!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:06:06' prior: 50478957!
test03

	| clientID password xxx cartID userRegister xxxAuthenticator |
	
	clientID _ 'registeredID'.
	password _ 'validPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID put: password.
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID _ xxx createCartForUser: clientID withPassword: password. 
	xxx add: TestingUtils new book amount: 1 to: cartID.
	self deny: (xxx listCart: cartID) isEmpty.! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:06:12'!
add: aBook amount: anAmmount to: aCartID

	cart add: aBook amount: anAmmount 
	! !

!methodRemoval: XXX #add:ammount:to: stamp: 'JDR 6/9/2022 21:06:12'!
add: aBook ammount: anAmmount to: aCartID

	cart add: aBook amount: anAmmount 
	!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:06:18' prior: 50479002!
add: aBook amount: anAmount to: aCartID

	cart add: aBook amount: anAmount 
	! !

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:06:29'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:06:29'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:06:29'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:06:29'!
PASSED!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:08:41' prior: 50478984!
test03

	| clientID password xxx cartID userRegister xxxAuthenticator clientID1 clientID2 password1 password2 |
	
	clientID1 _ 'registeredID'.
	password1 _ 'validPassword'.
	
	clientID2 _ 'secondRegisteredID'.
	password2 _ 'secondValidPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID put: password.
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID _ xxx createCartForUser: clientID withPassword: password. 
	
	xxx add: TestingUtils new book amount: 1 to: cartID.
	
	
	self deny: (xxx listCart: cartID) isEmpty.! !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:11:01' prior: 50479027!
test03

	| xxx userRegister xxxAuthenticator clientID1 clientID2 password1 password2 cartID1 cartID2 |
	
	clientID1 _ 'registeredID'.
	password1 _ 'validPassword'.
	
	clientID2 _ 'secondRegisteredID'.
	password2 _ 'secondValidPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID1 put: password1.
	userRegister at: clientID2 put: password2.
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: clientID1 withPassword: password1. 
	cartID2 _ xxx createCartForUser: clientID2 withPassword: password2. 
	
	xxx add: TestingUtils new book amount: 1 to: cartID1.
	
	
	self deny: (xxx listCart: cartID1) isEmpty.! !

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:11:07'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:11:07'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:11:07'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:11:07'!
PASSED!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:11:50' prior: 50479049!
test03

	| clientID password xxx cartID userRegister xxxAuthenticator clientID1 clientID2 password1 password2 cartID1 cartID2 |
	
	clientID1 _ 'registeredID'.
	password1 _ 'validPassword'.
	
	clientID2 _ 'secondRegisteredID'.
	password2 _ 'secondValidPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID1 put: password1.
	userRegister at: clientID2 put: password2.
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: clientID1 withPassword: password1. 
	cartID2 _ xxx createCartForUser: clientID2 withPassword: password2. 
	
	xxx add: TestingUtils new book amount: 1 to: cartID1.
	
	
	self deny: (xxx listCart: cartID1) isEmpty.! !

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:11:52'!
PASSED!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:12:03' prior: 50479083!
test03

	| xxx userRegister xxxAuthenticator clientID1 clientID2 password1 password2 cartID1 cartID2 |
	
	clientID1 _ 'registeredID'.
	password1 _ 'validPassword'.
	
	clientID2 _ 'secondRegisteredID'.
	password2 _ 'secondValidPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID1 put: password1.
	userRegister at: clientID2 put: password2.
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: clientID1 withPassword: password1. 
	xxx add: TestingUtils new book amount: 1 to: cartID1.
	
	cartID2 _ xxx createCartForUser: clientID2 withPassword: password2. 
	
	
	
	
	self deny: (xxx listCart: cartID1) isEmpty.! !

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:12:07'!
FAILURE!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:12:58'!
FAILURE!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:13:20' prior: 50479195!
test03

	| xxx userRegister xxxAuthenticator clientID1 clientID2 password1 password2 cartID1 cartID2 |
	
	clientID1 _ 'registeredID'.
	password1 _ 'validPassword'.
	
	clientID2 _ 'secondRegisteredID'.
	password2 _ 'secondValidPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID1 put: password1.
	userRegister at: clientID2 put: password2.
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: clientID1 withPassword: password1. 
	xxx add: TestingUtils new book amount: 1 to: cartID1.
	
	cartID2 _ xxx createCartForUser: clientID2 withPassword: password2. 
	
	
	self deny: (xxx listCart: cartID1) isEmpty.! !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:13:31' prior: 50479225!
test03

	| xxx userRegister xxxAuthenticator clientID1 clientID2 password1 password2 cartID1 |
	
	clientID1 _ 'registeredID'.
	password1 _ 'validPassword'.
	
	clientID2 _ 'secondRegisteredID'.
	password2 _ 'secondValidPassword'.
	userRegister _ Dictionary new. 
	userRegister at: clientID1 put: password1.
	userRegister at: clientID2 put: password2.
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: clientID1 withPassword: password1. 
	xxx add: TestingUtils new book amount: 1 to: cartID1.
	
	xxx createCartForUser: clientID2 withPassword: password2. 
	
	
	self deny: (xxx listCart: cartID1) isEmpty.! !

!classDefinition: #XXX category: 'TusLibros' stamp: 'JDR 6/9/2022 21:14:40'!
Object subclass: #XXX
	instanceVariableNames: 'xXXAuthenticator cart carts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!XXX methodsFor: 'initialization' stamp: 'JDR 6/9/2022 21:14:38' prior: 50478573!
initializeAuthenticatingWith: aXXXAuthenticator 
	
	carts _ OrderedCollection new.
	xXXAuthenticator := aXXXAuthenticator.! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:15:20' prior: 50478924!
createCartForUser: aClientID withPassword: aPassword

	
	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	carts add: (Cart with: TestingUtils new catalog).
	
	^1 
	
	
	! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:15:28' prior: 50478941!
listCart: aCartId 
	
	^ carts first.! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:15:29'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:15:29'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:15:29'!
ERROR!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:15:29'!
ERROR!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:15:40' prior: 50479013!
add: aBook amount: anAmount to: aCartID

	carts first add: aBook amount: anAmount 
	! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:15:40'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:15:40'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:15:40'!
PASSED!

Object subclass: #XXX
	instanceVariableNames: 'xXXAuthenticator carts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #XXX category: 'TusLibros' stamp: 'JDR 6/9/2022 21:15:46'!
Object subclass: #XXX
	instanceVariableNames: 'xXXAuthenticator carts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TestingUtils methodsFor: 'nil' stamp: 'JDR 6/9/2022 21:16:53'!
clientID1

	! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:16:55'!
clientID2

	! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:17:04'!
password1! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:17:05'!
password2! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:18:10'!
userRegister
	| register |
	register _ Dictionary new. 
	register at: self clientID1 put: self password1.
	register at: self clientID2 put: self password2.
	^register! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:18:37'!
invalidClientID

	! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:18:46'!
invalidPassword

	! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:19:15' prior: 50479335!
clientID1

	^'firstRegisteredID'! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:19:25' prior: 50479338!
clientID2

	^'secondRegisteredID'! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:19:34' prior: 50479355!
invalidClientID

	^'unregisteredID'! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:19:45' prior: 50479359!
invalidPassword
	
	'invalidPassword'
	! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:19:48' prior: 50479378!
invalidPassword
	
	^'invalidPassword'
	! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:20:27' prior: 50479341!
password1

	^'validPasswordForFirstClientID'! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:20:39' prior: 50479344!
password2

	^'validPasswordForSecondClientID'! !

!classDefinition: #XXXTest category: 'TusLibros' stamp: 'JDR 6/9/2022 21:21:19'!
TestCase subclass: #XXXTest
	instanceVariableNames: 'testingUtils'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:21:15' overrides: 16961394!
setUp

	testingUtils _ TestingUtils new.! !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:22:25' prior: 50478806!
test01

	| xxx xxxAuthenticator |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	
	xxx _ XXX authenticatingWith: xxxAuthenticator.

	self should: [ xxx createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: XXXAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:22:28'!
PASSED!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:22:54' prior: 50475461!
test02

	| xxx cartID xxxAuthenticator |

	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password2. 
	
	self assert: (xxx listCart: cartID) isEmpty.! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:22:57'!
ERROR!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:23:06' prior: 50479513!
test02

	| xxx cartID xxxAuthenticator |

	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (xxx listCart: cartID) isEmpty.! !

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:23:06'!
PASSED!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:23:34' prior: 50479251!
test03

	| xxx userRegister xxxAuthenticator cartID1 |
	
	xxxAuthenticator _ XXXAuthenticator with: userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.! !

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:23:37'!
ERROR!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:23:57'!
ERROR!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:23:57'!
ERROR!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:24:21' prior: 50479626!
test03

	| xxx xxxAuthenticator cartID1 |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.! !

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #XXXTest #test01 stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #XXXTest #test02 stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!

!testRun: #XXXTest #test03 stamp: 'JDR 6/9/2022 21:24:22'!
PASSED!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:25:23'!
test04

	| xxx xxxAuthenticator cartID1 cartID2 |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	cartID2 _ xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.
	self assert: (xxx listCart: cartID2) isEmpty.! !

!testRun: #XXXTest #test04 stamp: 'JDR 6/9/2022 21:25:24'!
FAILURE!
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:25:49' prior: 50479290!
createCartForUser: aClientID withPassword: aPassword

	
	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	carts add: (Cart with: TestingUtils new catalog).
	
	^self idForNewCart 
	
	
	! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:30:21' prior: 50479774!
createCartForUser: aClientID withPassword: aPassword

	
	| currentCartId |
	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	
	currentCartId _ self idForNewCart. 
	carts at: currentCartId put: (Cart with: TestingUtils new catalog).
	^currentCartId.	
	! !
!XXX methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:30:31' prior: 50479783!
createCartForUser: aClientID withPassword: aPassword

	
	| currentCartId |
	xXXAuthenticator authenticate: aClientID with: aPassword.
	
	currentCartId _ self idForNewCart. 
	carts at: currentCartId put: (Cart with: TestingUtils new catalog).
	
	^currentCartId.	
	! !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/9/2022 21:31:44'!
test01_1

	| xxx xxxAuthenticator |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	
	xxx _ XXX authenticatingWith: xxxAuthenticator.

	self should: [ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: XXXAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

----STARTUP---- (11 June 2022 11:42:18) as /home/agus/Documents/facu/ing1-2022/tusLibros-IT3/CuisUniversity-5096.image!


----End fileIn of /home/agus/Documents/facu/ing1-2022/tusLibros-IT3/TusLibros.st----!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:45:06'!
test04_1

	| xxx xxxAuthenticator cartID1 cartID2 |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	cartID2 _ xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.
	self assert: (xxx listCart: cartID2) isEmpty.! !

!methodRemoval: XXXTest #test04 stamp: 'AF\ 6/11/2022 11:45:06'!
test04

	| xxx xxxAuthenticator cartID1 cartID2 |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	cartID2 _ xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.
	self assert: (xxx listCart: cartID2) isEmpty.!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:45:13'!
test03_1

	| xxx xxxAuthenticator cartID1 |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.! !

!methodRemoval: XXXTest #test03 stamp: 'AF\ 6/11/2022 11:45:13'!
test03

	| xxx xxxAuthenticator cartID1 |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:45:20'!
test02_1

	| xxx cartID xxxAuthenticator |

	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (xxx listCart: cartID) isEmpty.! !

!methodRemoval: XXXTest #test02 stamp: 'AF\ 6/11/2022 11:45:20'!
test02

	| xxx cartID xxxAuthenticator |

	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (xxx listCart: cartID) isEmpty.!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:45:35'!
test02

	| xxx xxxAuthenticator |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	
	xxx _ XXX authenticatingWith: xxxAuthenticator.

	self should: [ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: XXXAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!methodRemoval: XXXTest #test01_1 stamp: 'AF\ 6/11/2022 11:45:35'!
test01_1

	| xxx xxxAuthenticator |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	
	xxx _ XXX authenticatingWith: xxxAuthenticator.

	self should: [ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: XXXAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:45:49'!
test03

	| xxx cartID xxxAuthenticator |

	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (xxx listCart: cartID) isEmpty.! !

!methodRemoval: XXXTest #test02_1 stamp: 'AF\ 6/11/2022 11:45:49'!
test02_1

	| xxx cartID xxxAuthenticator |

	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ XXX authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (xxx listCart: cartID) isEmpty.!

!classRenamed: #XXX as: #SystemFacade stamp: 'AF\ 6/11/2022 11:46:09'!
Smalltalk renameClassNamed: #XXX as: #SystemFacade!
!XXXTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:46:10' prior: 50475423!
test02

	| xxx xxxAuthenticator |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator.

	self should: [ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: XXXAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:46:10' prior: 50475366!
test03_1

	| xxx xxxAuthenticator cartID1 |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.! !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:46:10' prior: 50475329!
test04_1

	| xxx xxxAuthenticator cartID1 cartID2 |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	cartID2 _ xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.
	self assert: (xxx listCart: cartID2) isEmpty.! !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:46:10' prior: 50475456!
test03

	| xxx cartID xxxAuthenticator |

	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (xxx listCart: cartID) isEmpty.! !
!XXXTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:46:10' prior: 50474564!
test01

	| xxx xxxAuthenticator |
	
	xxxAuthenticator _ XXXAuthenticator with: testingUtils userRegister.
	
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator.

	self should: [ xxx createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: XXXAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!classRenamed: #XXXTest as: #Test stamp: 'AF\ 6/11/2022 11:46:26'!
Smalltalk renameClassNamed: #XXXTest as: #Test!

!classRenamed: #Test as: #SystemFacadeTest stamp: 'AF\ 6/11/2022 11:46:42'!
Smalltalk renameClassNamed: #Test as: #SystemFacadeTest!

!classRenamed: #XXXAuthenticator as: #SystemAuthenticator stamp: 'AF\ 6/11/2022 11:47:15'!
Smalltalk renameClassNamed: #XXXAuthenticator as: #SystemAuthenticator!
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:47:15' prior: 50475502!
test03_1

	| xxx xxxAuthenticator cartID1 |
	
	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:47:15' prior: 50475553!
test01

	| xxx xxxAuthenticator |
	
	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator.

	self should: [ xxx createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:47:15' prior: 50475540!
test03

	| xxx cartID xxxAuthenticator |

	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator.	
	
	cartID _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (xxx listCart: cartID) isEmpty.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:47:15' prior: 50475485!
test02

	| xxx xxxAuthenticator |
	
	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator.

	self should: [ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:47:15' prior: 50475520!
test04_1

	| xxx xxxAuthenticator cartID1 cartID2 |
	
	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	cartID2 _ xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.
	self assert: (xxx listCart: cartID2) isEmpty.! !
!SystemAuthenticator methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:47:15' prior: 50475299!
authenticate: aClientID with: aPassword
	
	(self assert: aClientID isRegisteredWith: aPassword) ifFalse:  [self error: SystemAuthenticator invalidCredentialsErrorDescription]! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:47:34' prior: 50475602!
test01

	| xxx SystemAuthenticator |
	
	SystemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	xxx _ SystemFacade authenticatingWith: SystemAuthenticator.

	self should: [ xxx createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:47:53' prior: 50475681!
test01

	| systemFacade SystemAuthenticator |
	
	SystemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: SystemAuthenticator.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:48:07' prior: 50475634!
test02

	| xxx systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	xxx _ SystemFacade authenticatingWith: systemAuthenticator.

	self should: [ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:48:11' prior: 50475718!
test02

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:48:20' prior: 50475620!
test03

	| systemFacade cartID xxxAuthenticator |

	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: xxxAuthenticator.	
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:48:31' prior: 50475755!
test03

	| systemFacade cartID systemAuthenticator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator.	
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:51:36'!
test04

	| xxx xxxAuthenticator cartID1 cartID2 |
	
	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self assert: (cartID1 = cartID2) not! !

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:51:40'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:51:50'!
ERROR!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'AF\ 6/11/2022 11:52:10'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator carts'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:52:10' prior: 50475243!
initializeAuthenticatingWith: aXXXAuthenticator 
	
	carts _ OrderedCollection new.
	systemAuthenticator := aXXXAuthenticator.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:52:10' prior: 50475222!
createCartForUser: aClientID withPassword: aPassword

	
	| currentCartId |
	systemAuthenticator authenticate: aClientID with: aPassword.
	
	currentCartId _ self idForNewCart. 
	carts at: currentCartId put: (Cart with: TestingUtils new catalog).
	
	^currentCartId.	
	! !

Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator carts currentCartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator carts currentCartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'AF\ 6/11/2022 11:52:55'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator carts currentCartId2'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:52:54' prior: 50475233!
idForNewCart

	| idToReturn |
	idToReturn _ currentCartId2.
	currentCartId2 _ currentCartId2 + 1.
	^idToReturn
	
	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:53:25' prior: 50475822!
createCartForUser: aClientID withPassword: aPassword

	
	
	systemAuthenticator authenticate: aClientID with: aPassword.
	
	currentCartId2 _ self idForNewCart. 
	carts at: currentCartId2 put: (Cart with: TestingUtils new catalog).
	
	^currentCartId2.	
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 11:53:28'!
ERROR!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 11:53:28'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:53:28'!
ERROR!

!testRun: #SystemFacadeTest #test03_1 stamp: 'AF\ 6/11/2022 11:53:28'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:53:28'!
ERROR!

!testRun: #SystemFacadeTest #test04_1 stamp: 'AF\ 6/11/2022 11:53:28'!
ERROR!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'AF\ 6/11/2022 11:53:43'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator carts currentCartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:53:43' prior: 50475852!
idForNewCart

	| idToReturn |
	idToReturn _ currentCartId.
	currentCartId _ currentCartId + 1.
	^idToReturn
	
	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:53:43' prior: 50475859!
createCartForUser: aClientID withPassword: aPassword

	
	
	systemAuthenticator authenticate: aClientID with: aPassword.
	
	currentCartId _ self idForNewCart. 
	carts at: currentCartId put: (Cart with: TestingUtils new catalog).
	
	^currentCartId.	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:53:48' prior: 50475900!
createCartForUser: aClientID withPassword: aPassword

	systemAuthenticator authenticate: aClientID with: aPassword.
	
	currentCartId _ self idForNewCart. 
	carts at: currentCartId put: (Cart with: TestingUtils new catalog).
	
	^currentCartId.	
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 11:53:48'!
ERROR!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 11:53:48'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:53:48'!
ERROR!

!testRun: #SystemFacadeTest #test03_1 stamp: 'AF\ 6/11/2022 11:53:48'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:53:48'!
ERROR!

!testRun: #SystemFacadeTest #test04_1 stamp: 'AF\ 6/11/2022 11:53:48'!
ERROR!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 11:53:50'!
ERROR!
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:54:26' prior: 50475699!
test01

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 11:54:26'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:54:28'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:54:36'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:54:50'!
ERROR!
!SystemFacade methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 11:55:35' prior: 50475814!
initializeAuthenticatingWith: aXXXAuthenticator 
	
	currentCartId _ 1.
	carts _ OrderedCollection new.
	systemAuthenticator := aXXXAuthenticator.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 11:55:37'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 11:55:37'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:55:37'!
ERROR!

!testRun: #SystemFacadeTest #test03_1 stamp: 'AF\ 6/11/2022 11:55:37'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:55:37'!
ERROR!

!testRun: #SystemFacadeTest #test04_1 stamp: 'AF\ 6/11/2022 11:55:37'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:55:39'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:56:00' prior: 50475911!
createCartForUser: aClientID withPassword: aPassword

	systemAuthenticator authenticate: aClientID with: aPassword.
	
	currentCartId _ self idForNewCart. 
	
	
	^currentCartId.	
	! !

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:56:00'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:56:43' prior: 50475239!
listCart: aCartId 
	
	^ carts.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 11:56:45'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 11:56:45'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:56:45'!
PASSED!

!testRun: #SystemFacadeTest #test03_1 stamp: 'AF\ 6/11/2022 11:56:45'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:56:45'!
FAILURE!

!testRun: #SystemFacadeTest #test04_1 stamp: 'AF\ 6/11/2022 11:56:45'!
ERROR!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'AF\ 6/11/2022 11:56:51'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator cart currentCartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:56:51' prior: 50476005!
listCart: aCartId 
	
	^ cart.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:56:51' prior: 50475968!
initializeAuthenticatingWith: aXXXAuthenticator 
	
	currentCartId _ 1.
	cart _ OrderedCollection new.
	systemAuthenticator := aXXXAuthenticator.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:56:51' prior: 50475217!
add: aBook amount: anAmount to: aCartID

	cart first add: aBook amount: anAmount 
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:57:30' prior: 50475993!
createCartForUser: aClientID withPassword: aPassword

	systemAuthenticator authenticate: aClientID with: aPassword.
	
	currentCartId _ self idForNewCart. 
	cart _ Cart with: TestingUtils new catalog.
	
	^currentCartId.	
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 11:57:31'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 11:57:31'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:57:31'!
PASSED!

!testRun: #SystemFacadeTest #test03_1 stamp: 'AF\ 6/11/2022 11:57:31'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:57:31'!
FAILURE!

!testRun: #SystemFacadeTest #test04_1 stamp: 'AF\ 6/11/2022 11:57:31'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:57:42'!
FAILURE!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 11:58:45'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 11:58:45'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:58:45'!
PASSED!

!testRun: #SystemFacadeTest #test03_1 stamp: 'AF\ 6/11/2022 11:58:45'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:58:45'!
FAILURE!

!testRun: #SystemFacadeTest #test04_1 stamp: 'AF\ 6/11/2022 11:58:45'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:58:49'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 11:59:14' prior: 50476051!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn |
	systemAuthenticator authenticate: aClientID with: aPassword.
	
	cartIDToReturn _ self idForNewCart. 
	cart _ Cart with: TestingUtils new catalog.
	
	^cartIDToReturn.	
	! !

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:59:17'!
FAILURE!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 11:59:21'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 11:59:21'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 11:59:21'!
PASSED!

!testRun: #SystemFacadeTest #test03_1 stamp: 'AF\ 6/11/2022 11:59:21'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 11:59:21'!
PASSED!

!testRun: #SystemFacadeTest #test04_1 stamp: 'AF\ 6/11/2022 11:59:21'!
ERROR!
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:00:56'!
test05

	| xxx xxxAuthenticator cartID1 |
	
	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.! !

!methodRemoval: SystemFacadeTest #test03_1 stamp: 'AF\ 6/11/2022 12:00:56'!
test03_1

	| xxx xxxAuthenticator cartID1 |
	
	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.!
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:01:10' prior: 50476124!
test05

	| xxx systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: systemAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:01:14' prior: 50476159!
test05

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator .	
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	
	systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (systemFacade listCart: cartID1) isEmpty.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:01:39' prior: 50476177!
test05

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator .	
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.! !

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:01:39'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:01:51'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:02:06' prior: 50476045!
add: aBook amount: anAmount to: aCartID

	cart add: aBook amount: anAmount 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:02:07'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:02:07'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:02:07'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:02:07'!
PASSED!

!testRun: #SystemFacadeTest #test04_1 stamp: 'AF\ 6/11/2022 12:02:07'!
FAILURE!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:02:07'!
PASSED!

!testRun: #SystemFacadeTest #test04_1 stamp: 'AF\ 6/11/2022 12:02:07'!
FAILURE!
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:02:29'!
test06

	| xxx xxxAuthenticator cartID1 cartID2 |
	
	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	cartID2 _ xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.
	self assert: (xxx listCart: cartID2) isEmpty.! !

!methodRemoval: SystemFacadeTest #test04_1 stamp: 'AF\ 6/11/2022 12:02:29'!
test04_1

	| xxx xxxAuthenticator cartID1 cartID2 |
	
	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	cartID2 _ xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.
	self assert: (xxx listCart: cartID2) isEmpty.!
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:03:33' prior: 50476242!
test06

	| xxx systemAuthenticator cartID1 cartID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: systemAuthenticator .	
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	xxx add: testingUtils book amount: 1 to: cartID1.
	
	cartID2 _ xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (xxx listCart: cartID1) isEmpty.
	self assert: (xxx listCart: cartID2) isEmpty.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:03:44' prior: 50476281!
test06

	| systemFacade systemAuthenticator cartID1 cartID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator .	
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: (systemFacade listCart: cartID1) isEmpty.
	self assert: (systemFacade listCart: cartID2) isEmpty.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:06:29' prior: 50476301!
test06

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator .	
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:06:33'!
FAILURE!
!SystemFacade methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 12:07:07' prior: 50476037!
initializeAuthenticatingWith: aXXXAuthenticator 
	
	currentCartId _ 1.
	cart _ Dictionary new.
	systemAuthenticator := aXXXAuthenticator.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:07:49' prior: 50476096!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn |
	systemAuthenticator authenticate: aClientID with: aPassword.
	
	cartIDToReturn _ self idForNewCart. 
	cart at: cartIDToReturn put: (Cart with: TestingUtils new catalog).
	
	^cartIDToReturn.	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:08:12' prior: 50476032!
listCart: aCartId 
	
	^ (cart at: aCartId) contents.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:08:13'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:08:13'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:08:13'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:08:13'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:08:13'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:08:13'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:08:21'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:08:43' prior: 50476377!
listCart: aCartId 
	
	^ (cart at: aCartId) content.! !

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:08:44'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:08:45'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:08:45'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:08:45'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:08:45'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:08:45'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:08:45'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:08:47'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:09:19' prior: 50476219!
add: aBook amount: anAmount to: aCartID

	(cart at: aCartID) add: aBook amount: anAmount 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:09:20'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:09:20'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:09:20'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:09:20'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:09:20'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:09:20'!
PASSED!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'AF\ 6/11/2022 12:09:44'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator carts currentCartId'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:09:44' prior: 50476399!
listCart: aCartId 
	
	^ (carts at: aCartId) content.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:09:44' prior: 50476365!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn |
	systemAuthenticator authenticate: aClientID with: aPassword.
	
	cartIDToReturn _ self idForNewCart. 
	carts at: cartIDToReturn put: (Cart with: TestingUtils new catalog).
	
	^cartIDToReturn.	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:09:44' prior: 50476357!
initializeAuthenticatingWith: aXXXAuthenticator 
	
	currentCartId _ 1.
	carts _ Dictionary new.
	systemAuthenticator := aXXXAuthenticator.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:09:44' prior: 50476424!
add: aBook amount: anAmount to: aCartID

	(carts at: aCartID) add: aBook amount: anAmount 
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:16:52'!
test07

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator .	
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	
	
	self should: [systemFacade add: testingUtils book amount: 1 to: nil]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:17:10' prior: 50476484!
test07

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator .	
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: nil]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:17:15'!
ERROR!
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 12:17:30'!
cantAddToAnInvalidCartIdErrorDescription
	self shouldBeImplemented.! !
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 12:18:02' prior: 50476528!
cantAddToAnInvalidCartIdErrorDescription
	^'can add to an invalid cartID'! !
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 12:18:06' prior: 50476534!
cantAddToAnInvalidCartIdErrorDescription
	^'cant add to an invalid cartID'! !

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:18:06'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:20:08' prior: 50476458!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn |
	systemAuthenticator authenticate: aClientID with: aPassword.

	(carts includesKey: aClientID ) ifFalse: [ self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription ].
	
	cartIDToReturn _ self idForNewCart. 
	carts at: cartIDToReturn put: (Cart with: TestingUtils new catalog).
	
	^cartIDToReturn.	
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:20:09'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:20:09'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:20:09'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:20:09'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:20:09'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:20:09'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:20:09'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:20:15'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:20:28' prior: 50476548!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn |
	systemAuthenticator authenticate: aClientID with: aPassword.

	cartIDToReturn _ self idForNewCart. 
	carts at: cartIDToReturn put: (Cart with: TestingUtils new catalog).
	
	^cartIDToReturn.	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:20:36' prior: 50476478!
add: aBook amount: anAmount to: aCartID

	(carts includesKey: aCartID ) ifFalse: [ self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription ].
	(carts at: aCartID) add: aBook amount: anAmount 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:20:36'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:20:36'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:20:36'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:20:36'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:20:36'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:20:36'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:20:36'!
PASSED!
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:21:15'!
test08

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator .	
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: nil]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:21:46' prior: 50476622!
test08

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator .	
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: nil]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade canListAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:21:48'!
ERROR!
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 12:21:58'!
canListAnInvalidCartIdErrorDescription
	self shouldBeImplemented.! !
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 12:22:14' prior: 50476664!
canListAnInvalidCartIdErrorDescription
	
	^'cant list an invalid cartID'! !
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 12:22:22'!
cantListAnInvalidCartIdErrorDescription
	
	^'cant list an invalid cartID'! !

!methodRemoval: SystemFacade class #canListAnInvalidCartIdErrorDescription stamp: 'AF\ 6/11/2022 12:22:22'!
canListAnInvalidCartIdErrorDescription
	
	^'cant list an invalid cartID'!
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:22:30' prior: 50476642!
test08

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator .	
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: nil]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:22:31'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:23:30' prior: 50476453!
listCart: aCartId 
	
	(carts includesKey: aCartId ) ifFalse: [ self error: SystemFacade cantListAnInvalidCartIdErrorDescription ].
	^ (carts at: aCartId) content.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:23:30'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:23:30'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:23:30'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:23:30'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:23:30'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:23:30'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:23:31'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:23:31'!
PASSED!

!classDefinition: #SystemFacadeTest category: 'TusLibros' stamp: 'AF\ 6/11/2022 12:28:56'!
TestCase subclass: #SystemFacadeTest
	instanceVariableNames: 'testingUtils catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 12:28:53' prior: 50474560 overrides: 16961394!
setUp

	testingUtils _ TestingUtils new.
	catalog _ testingUtils catalog.! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 12:30:05' prior: 50475939!
test01

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:30:09'!
ERROR!
!SystemFacade class methodsFor: 'instance creation' stamp: 'AF\ 6/11/2022 12:30:15'!
authenticatingWith: aSystemAuthenticator with: aDictionary 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aDictionary ! !
!SystemFacade class methodsFor: 'instance creation' stamp: 'AF\ 6/11/2022 12:30:32' prior: 50476775!
authenticatingWith: aSystemAuthenticator with: aCatalog 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog ! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:30:33'!
ERROR!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'AF\ 6/11/2022 12:30:37'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator carts currentCartId catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 12:30:37'!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog 
	self shouldBeImplemented.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.! !
!SystemFacade methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 12:30:42' prior: 50476804!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog 
	.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.! !
!SystemFacade methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 12:30:45' prior: 50476813!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog 

	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.! !
!SystemFacade methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 12:31:04' prior: 50476821!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog 

	currentCartId _ 1.
	carts _ Dictionary new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:31:26' prior: 50476583!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn |
	systemAuthenticator authenticate: aClientID with: aPassword.

	cartIDToReturn _ self idForNewCart. 
	carts at: cartIDToReturn put: catalog.
	
	^cartIDToReturn.	
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:31:28'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:31:28'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:31:28'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:31:28'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:31:28'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:31:28'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:31:28'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:31:28'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 12:31:48' prior: 50475736!
test02

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 12:31:56' prior: 50475770!
test03

	| systemFacade cartID systemAuthenticator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:31:56'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 12:32:03' prior: 50476888!
test03

	| systemFacade cartID systemAuthenticator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator.	
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:32:03'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 12:32:11' prior: 50476906!
test03

	| systemFacade cartID systemAuthenticator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:32:11'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:31:26' prior: 50476838!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn |
	systemAuthenticator authenticate: aClientID with: aPassword.

	cartIDToReturn _ self idForNewCart. 
	carts at: cartIDToReturn put: catalog.
	
	^cartIDToReturn.	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:20:28' prior: 50476942!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn |
	systemAuthenticator authenticate: aClientID with: aPassword.

	cartIDToReturn _ self idForNewCart. 
	carts at: cartIDToReturn put: (Cart with: TestingUtils new catalog).
	
	^cartIDToReturn.	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:32:56' prior: 50476953!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn |
	systemAuthenticator authenticate: aClientID with: aPassword.

	cartIDToReturn _ self idForNewCart. 
	carts at: cartIDToReturn put: (Cart with: catalog).
	
	^cartIDToReturn.	
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:32:57'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:32:57'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:32:57'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:32:57'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:32:57'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:32:57'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:32:57'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:32:57'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:33:14' prior: 50476197!
test05

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.! !

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:33:14'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:33:14'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:33:14'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:33:14'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:33:14'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:33:14'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:33:14'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:33:14'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:33:14'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:33:14'!
ERROR!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:33:21' prior: 50476323!
test06

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:33:21'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:33:21'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:33:21'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:33:21'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:33:21'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:33:21'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:33:21'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:33:21'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:33:21'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:33:31' prior: 50476506!
test07

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: nil]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:33:31'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:33:31'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:33:31'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:33:31'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:33:31'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:33:31'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:33:31'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:33:31'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:33:31'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 12:33:38' prior: 50476688!
test08

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: nil]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:33:38'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:33:38'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:33:38'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:33:38'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:33:38'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:33:38'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:33:38'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:33:38'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:33:38'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 12:33:45' prior: 50475785!
test04

	| xxx xxxAuthenticator cartID1 cartID2 |
	
	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	xxx _ SystemFacade authenticatingWith: xxxAuthenticator with: catalog.
	
	cartID1 _ xxx createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ xxx createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self assert: (cartID1 = cartID2) not! !

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:33:45'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:33:45'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:33:45'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:33:45'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:33:45'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:33:45'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:33:45'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:33:45'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:33:45'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:35:14'!
test09

	| systemFacade systemAuthenticator cartID |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils unregisteredBook amount: 1 to: cartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 12:35:18'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:36:00' prior: 50476595!
add: aBook amount: anAmount to: aCartID

	(carts includesKey: aCartID ) ifFalse: [ self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription ].
	(catalog includesKey: aBook ) ifFalse: [ self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription ].
	(carts at: aCartID) add: aBook amount: anAmount 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:36:00'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:36:00'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:36:00'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:36:00'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:36:00'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:36:00'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:36:00'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:36:00'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 12:36:00'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:36:02'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:36:02'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:36:02'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:36:02'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:36:02'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:36:02'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:36:02'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:36:02'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 12:36:02'!
PASSED!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:36:08' prior: 50477238!
add: aBook amount: anAmount to: aCartID

	(carts includesKey: aCartID ) ifFalse: [ self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription ].
	(catalog includesKey: aBook ) ifFalse: [ self error: '' ].
	(carts at: aCartID) add: aBook amount: anAmount 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:36:09'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:36:09'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:36:09'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:36:09'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:36:09'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:36:09'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:36:09'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:36:09'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 12:36:09'!
FAILURE!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 12:36:09'!
FAILURE!
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 12:36:54'!
cannotAddBooksNotInCatalogErrorDescription

	^'Book is not edited by TusLibros.com'! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:37:22' prior: 50477295!
add: aBook amount: anAmount to: aCartID

	(carts includesKey: aCartID ) ifFalse: [ self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription ].
	(catalog includesKey: aBook ) ifFalse: [ self error: SystemFacade cannotAddBooksNotInCatalogErrorDescription ].
	(carts at: aCartID) add: aBook amount: anAmount 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:37:23'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:37:23'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:37:23'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:37:23'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:37:23'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:37:23'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:37:23'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:37:23'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 12:37:23'!
FAILURE!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 12:37:23'!
FAILURE!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:37:46' prior: 50477214!
test09

	| systemFacade systemAuthenticator cartID |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils unregisteredBook amount: 1 to: cartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddBooksNotInCatalogErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 12:37:47'!
PASSED!
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:40:49'!
unregisteredClientID

	^nil! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:40:58'!
invalidCartID

	^nil! !

!methodRemoval: TestingUtils #unregisteredClientID stamp: 'AF\ 6/11/2022 12:41:39'!
unregisteredClientID

	^nil!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 12:42:12' prior: 50477134!
test08

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: testingUtils invalidCartID ]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:42:19' prior: 50477091!
test07

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:43:01'!
test10

	| systemFacade systemAuthenticator cartID1 expectedCartContentsForCart1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:45:00' prior: 50477452!
test10

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	
	
	
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:46:10' prior: 50477473!
test10

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	
	systemFacade checkOut: cartID1 with	: testingUtils creditCardFundRegister.
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:46:32' prior: 50477489!
test10

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	
	systemFacade checkOut: cartID1 with	: testingUtils validCreditCard.
	! !

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 12:46:44'!
ERROR!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:47:11' prior: 50477507!
test10

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	
	systemFacade checkOut: cartID1 with: (testingUtils validCreditCard).
	! !

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 12:47:12'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:47:21'!
checkOut: aSmallInteger with: aCreditCard 
	self shouldBeImplemented.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:47:29' prior: 50477547!
checkOut: aCartID with: aCreditCard 
	self shouldBeImplemented.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:47:35' prior: 50477553!
checkOut: aCartID with: aCreditCard 
	
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:49:45' prior: 50477527!
test10

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: (MerchantProcessorSimulator with: 1) .
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	
	systemFacade checkOut: cartID1 with: (testingUtils validCreditCard).
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:50:28' prior: 50477564!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	
	systemFacade checkOut: cartID1 with: (testingUtils validCreditCard).
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:51:10' prior: 50477584!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	
	systemFacade checkOut: cartID1 with: (testingUtils validCreditCard).
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:51:54' prior: 50477606!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	
	systemFacade checkOut: cartID1 with: (testingUtils validCreditCard).
	! !

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 12:51:55'!
ERROR!
!SystemFacade class methodsFor: 'instance creation' stamp: 'AF\ 6/11/2022 12:52:01'!
authenticatingWith: aSystemAuthenticator with: aDictionary registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aDictionary registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator ! !
!SystemFacade class methodsFor: 'instance creation' stamp: 'AF\ 6/11/2022 12:52:36' prior: 50477657!
authenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator ! !

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 12:52:37'!
ERROR!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'AF\ 6/11/2022 12:52:41'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator carts currentCartId catalog salesBook'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'AF\ 6/11/2022 12:52:41'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator carts currentCartId catalog salesBook merchantProcessorSimulator'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 12:52:41'!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	self shouldBeImplemented.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.! !
!SystemFacade methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 12:52:48' prior: 50477705!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	
	
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.! !
!SystemFacade methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 12:53:03' prior: 50477718!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	
	currentCartId _ 1.
	carts _ Dictionary new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 12:53:04'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 12:53:04'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 12:53:04'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 12:53:04'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 12:53:04'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 12:53:04'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 12:53:04'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 12:53:04'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 12:53:04'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 12:53:04'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 12:59:17' prior: 50477630!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkOut: cartID1 with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckOutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 12:59:20'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 12:59:50'!
checkout: aCartID with: aCreditCard 
	
	! !

!methodRemoval: SystemFacade #checkOut:with: stamp: 'AF\ 6/11/2022 12:59:50'!
checkOut: aCartID with: aCreditCard 
	
	!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:00:27' prior: 50477799!
checkout: aCartID with: aCreditCard 
	
	(carts at: aCartID) isEmpty ifTrue: []! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:00:52' prior: 50477808!
checkout: aCartID with: aCreditCard 
	
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade ]! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:01:01' prior: 50477814!
checkout: aCartID with: aCreditCard 
	
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckOutAnEmptyCartErrorDescription]! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:01:02'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:01:02'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:01:02'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:01:02'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:01:02'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:01:02'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:01:02'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:01:02'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:01:02'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:01:02'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:01:02'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:01:14'!
ERROR!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:01:24' prior: 50477769!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckOutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:01:25'!
ERROR!
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 13:01:29'!
cantCheckOutAnEmptyCartErrorDescription
	self shouldBeImplemented.! !
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 13:01:54' prior: 50477889!
cantCheckOutAnEmptyCartErrorDescription
	
	^ 'cant checkout an empty cart'! !

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:01:54'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:01:54'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:01:54'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:01:54'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:01:54'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:01:54'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:01:54'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:01:54'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:01:54'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:01:54'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:01:54'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:02:05' prior: 50477858!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckOutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:02:53' prior: 50477928!
test10

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.

	
	self should: [systemFacade checkout: testingUtils invalidCartID with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckOutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:03:23' prior: 50477956!
test10

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.

	
	self should: [systemFacade checkout: testingUtils invalidCartID with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription  equals: anError messageText] .
	! !

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:03:25'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:04:15' prior: 50477821!
checkout: aCartID with: aCreditCard 
	
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckOutAnEmptyCartErrorDescription].
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:04:16'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:04:16'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:04:16'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:04:16'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:04:16'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:04:16'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:04:16'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:04:16'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:04:16'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:04:16'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:04:16'!
ERROR!
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 13:04:21'!
cantCheckoutWithAnInvalidCartIDErrorDescription
	self shouldBeImplemented.! !
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 13:04:29' prior: 50478047!
cantCheckoutWithAnInvalidCartIDErrorDescription
	! !
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 13:04:54' prior: 50478053!
cantCheckoutWithAnInvalidCartIDErrorDescription
	
	^'cant checkout to an invalid cartID'! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:05:00'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:05:00'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:05:00'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:05:00'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:05:00'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:05:00'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:05:00'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:05:00'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:05:00'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:05:00'!
PASSED!
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF\ 6/11/2022 13:05:24'!
cantCheckoutAnEmptyCartErrorDescription
	
	^ 'cant checkout an empty cart'! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:05:24' prior: 50478009!
checkout: aCartID with: aCreditCard 
	
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	! !

!methodRemoval: SystemFacade class #cantCheckOutAnEmptyCartErrorDescription stamp: 'AF\ 6/11/2022 13:05:24'!
cantCheckOutAnEmptyCartErrorDescription
	
	^ 'cant checkout an empty cart'!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:05:37'!
test11

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.

	
	self should: [systemFacade checkout: testingUtils invalidCartID with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription  equals: anError messageText] .
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:02:05' prior: 50477981!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckOutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:06:25'!
ERROR!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:06:34' prior: 50478136!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 13:06:35'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:11:28'!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	 
	! !

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:16:21'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:16:54' prior: 50478224!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	systemFacade checkout: cartID with: testingUtils validCreditCard .
	 
	! !

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:16:55'!
PASSED!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:17:40' prior: 50478094!
checkout: aCartID with: aCreditCard 
	
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:17:55' prior: 50478305!
checkout: aCartID with: aCreditCard 
	
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	^nil! !

a SalesBook!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:19:12' prior: 50478319!
checkout: aCartID with: aCreditCard 
	
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	^salesBook ! !

salesBook!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:21:17' prior: 50478334!
checkout: aCartID with: aCreditCard 
	
	| cashier |
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.

	cashier checkout: (carts at: aCartID)  with: aCreditCard on: TestingUtils today.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:22:21'!
checkout: aCartID with: aCreditCard on: aMonthOfYear
	
	| cashier |
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.

	cashier checkout: (carts at: aCartID)  with: aCreditCard on: aMonthOfYear.! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:22:52' prior: 50478249!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear .
	 
	! !

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:22:53'!
PASSED!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:23:40' prior: 50478366!
checkout: aCartID with: aCreditCard on: aMonthOfYear
	
	| cashier |
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.

	cashier checkout: (carts at: aCartID)  with: aCreditCard on: aMonthOfYear.
	
	^nil! !

salesBook!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:25:39' prior: 50478384!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID expectedPurchases |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases _ Bag with: testingUtils
	 
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:28:28' prior: 50478459!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID expectedPurchases |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases _ Bag with: testingUtils book.
	 
	self assert: expectedPurchases equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	! !

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:28:29'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:28:36'!
listPurchasesFor: aString withPassword: aString2 
	self shouldBeImplemented.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:28:59' prior: 50478521!
listPurchasesFor: aClientID withPassword: aPassword 
	
	^salesBook first! !

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:29:00'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:31:04' prior: 50478527!
listPurchasesFor: aClientID withPassword: aPassword 
	
	^salesBook contents first! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:31:05'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:31:05'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:31:05'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:31:05'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:31:05'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:31:05'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:31:05'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:31:05'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:31:05'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:31:05'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 13:31:05'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:31:05'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:31:05'!
ERROR!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:31:11'!
contents
	self shouldBeImplemented.! !
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:31:21' prior: 50478572!
contents
	^ sales copy! !

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:31:22'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:31:23'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:38:42'!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID expectedPurchases |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases _ OrderedCollection with: (Bag with: testingUtils book) with: (Bag with: testingUtils book2).
	 
	self assert: expectedPurchases equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:38:55' prior: 50478487!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID expectedPurchases |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases _  OrderedCollection with: (Bag with: testingUtils book).
	 
	self assert: expectedPurchases equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	! !

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:38:58'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:39:12' prior: 50478535!
listPurchasesFor: aClientID withPassword: aPassword 
	
	^ OrderedCollection with: ( salesBook contents first)! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:39:13'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 13:39:13'!
FAILURE!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 13:39:13'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:39:32' prior: 50478689!
listPurchasesFor: aClientID withPassword: aPassword 
	
	^ salesBook contents! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 13:39:32'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:41:53' prior: 50478612!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID expectedPurchases cartID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases _ OrderedCollection with: (Bag with: testingUtils book) with: (Bag with: testingUtils book2).
	 
	self assert: expectedPurchases equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:38:42' prior: 50478767!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID expectedPurchases |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases _ OrderedCollection with: (Bag with: testingUtils book) with: (Bag with: testingUtils book2).
	 
	self assert: expectedPurchases equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:42:06' prior: 50478810!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID expectedPurchases cartID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases _ OrderedCollection with: (Bag with: testingUtils book) with: (Bag with: testingUtils book2).
	 
	self assert: expectedPurchases equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:43:58' prior: 50478852!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID cartID2 expectedPurchases1 expectedPurchases2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases1 _ OrderedCollection with: (Bag with: testingUtils book).
	expectedPurchases2 _ OrderedCollection with: (Bag with: testingUtils book2).
	 
	self assert: expectedPurchases1 equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	self assert: expectedPurchases2 equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:44:07' prior: 50478895!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID cartID2 expectedPurchases1 expectedPurchases2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases1 _ OrderedCollection with: (Bag with: testingUtils book).
	expectedPurchases2 _ OrderedCollection with: (Bag with: testingUtils book2).
	 
	self assert: expectedPurchases1 equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	self assert: expectedPurchases2 equals: (systemFacade listPurchasesFor: testingUtils clientID2 withPassword: testingUtils password2).
	! !

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 13:44:14'!
ERROR!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:44:23' prior: 50478944!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID cartID2 expectedPurchases1 expectedPurchases2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	systemFacade checkout: cartID2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases1 _ OrderedCollection with: (Bag with: testingUtils book).
	expectedPurchases2 _ OrderedCollection with: (Bag with: testingUtils book2).
	 
	self assert: expectedPurchases1 equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	self assert: expectedPurchases2 equals: (systemFacade listPurchasesFor: testingUtils clientID2 withPassword: testingUtils password2).
	! !

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 13:44:23'!
FAILURE!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:45:08' prior: 50478167!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard) on: testingUtils validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 13:45:24' prior: 50478111!
test11

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.

	
	self should: [systemFacade checkout: testingUtils invalidCartID with: (testingUtils validCreditCard) on: testingUtils validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription  equals: anError messageText] .
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 13:45:26'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 13:45:26'!
FAILURE!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 13:45:26'!
FAILURE!

!methodRemoval: SystemFacade #checkout:with: stamp: 'AF\ 6/11/2022 13:45:33'!
checkout: aCartID with: aCreditCard 
	
	| cashier |
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.

	cashier checkout: (carts at: aCartID)  with: aCreditCard on: TestingUtils today.!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 13:48:46'!
getPurchasesOf: clientID

	^ sales copy! !

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF\ 6/11/2022 14:14:42'!
Object subclass: #Sale
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:14:37'!
test06
	
	| cart cashier testingUtils salesBook purchase merchantProcessor |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	purchase _ Sale with: cart content for: testingUtils clientID1.
		
	self assert: 100 equals: (cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).! !

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:14:44'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'AF\ 6/11/2022 14:14:48'!
with: aBag for: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aBag for: aString ! !
!Sale class methodsFor: 'instance creation' stamp: 'AF\ 6/11/2022 14:15:13' prior: 50479190!
with: aCartContents for: aClientID 
	
	^self new initializeWith: aCartContents for: aClientID ! !

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:15:16'!
ERROR!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF\ 6/11/2022 14:15:27'!
Object subclass: #Sale
	instanceVariableNames: 'cartContents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF\ 6/11/2022 14:15:27'!
Object subclass: #Sale
	instanceVariableNames: 'cartContents clientID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 14:15:27'!
initializeWith: aCartContents for: aClientID 
	self shouldBeImplemented.
	cartContents := aCartContents.
	clientID := aClientID.! !
!Sale methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 14:15:32' prior: 50479220!
initializeWith: aCartContents for: aClientID 

	cartContents := aCartContents.
	clientID := aClientID.! !

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:15:34'!
ERROR!
!Cashier methodsFor: 'checking out' stamp: 'AF\ 6/11/2022 14:15:47'!
checkout: aCart with: aCreditCard on: aGregorianMonthOfYear for: aString 
	self shouldBeImplemented.! !
!Cashier methodsFor: 'checking out' stamp: 'AF\ 6/11/2022 14:17:17' prior: 50479235!
checkout: aCart with: aCreditCard on: aDate for: aClientID 
	
	| subtotal |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	salesBook add: (Sale with: aCart content for: aClientID). 
	
	aCart clearContent.
	
	^subtotal! !
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:19:18' prior: 50479163!
test06
	
	| cart cashier testingUtils salesBook purchase merchantProcessor expectedPurchases |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	purchase _ Sale with: cart content for: testingUtils clientID1.
	expectedPurchases _ OrderedCollection with: purchase.
	
	self assert: 100 equals: (cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).
	self assert: purchase equals: (salesBook purchasesOf: testingUtils clientID1) ! !
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:19:29' prior: 50479259!
test06
	
	| cart cashier testingUtils salesBook purchase merchantProcessor expectedPurchases |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	purchase _ Sale with: cart content for: testingUtils clientID1.
	expectedPurchases _ OrderedCollection with: purchase.
	
	self assert: 100 equals: (cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID1) ! !
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:19:41' prior: 50479289!
test06
	
	| cart cashier testingUtils salesBook purchase merchantProcessor |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	purchase _ Sale with: cart content for: testingUtils clientID1.
	
	
	self assert: 100 equals: (cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).
	self assert: purchase equals: (salesBook purchasesOf: testingUtils clientID1) ! !

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:19:45'!
FAILURE!
!SalesBook methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:20:24' prior: 50475051!
hasRegistered: aSale
 
	^sales includes: aSale! !
!Sale methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 14:23:39' overrides: 16901772!
= aSale

	^(clientID = aSale clientID) and: [cartContents = aSale cartContentsSAFASFDFS].! !

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF\ 6/11/2022 14:23:46'!
Object subclass: #Sale
	instanceVariableNames: 'cartContentsAFDGRGESG clientID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 14:23:46' prior: 50479227!
initializeWith: aCartContents for: aClientID 

	cartContentsAFDGRGESG := aCartContents.
	clientID := aClientID.! !
!Sale methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 14:23:46' prior: 50479354 overrides: 16901772!
= aSale

	^(clientID = aSale clientID) and: [cartContentsAFDGRGESG = aSale cartContentsSAFASFDFS].! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:23:56'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 14:23:56'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 14:23:56'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:23:56'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:23:56'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:23:56'!
ERROR!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:23:56'!
ERROR!
!Sale methodsFor: 'accesing' stamp: 'AF\ 6/11/2022 14:24:04'!
clientID
	self shouldBeImplemented.
	^clientID! !
!Sale methodsFor: 'accesing' stamp: 'AF\ 6/11/2022 14:24:08' prior: 50479402!
clientID
	
	^clientID! !

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:24:11'!
ERROR!
!Sale methodsFor: 'accesing' stamp: 'AF\ 6/11/2022 14:24:15'!
cartContentsSAFASFDFS
	self shouldBeImplemented.! !
!Sale methodsFor: 'accesing' stamp: 'AF\ 6/11/2022 14:24:20' prior: 50479411!
cartContentsSAFASFDFS
	
	^cartContentsAFDGRGESG ! !

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:24:21'!
ERROR!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 14:24:28'!
purchasesOf: aString 
	self shouldBeImplemented.! !
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 14:24:59' prior: 50479423!
purchasesOf: aClientID
	
	^ sales first! !

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:25:00'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:25:01'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 14:25:01'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 14:25:01'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:25:01'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:25:01'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:25:01'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:29:47' prior: 50479319!
test06
	
	| cart cashier testingUtils salesBook purchase merchantProcessor cart1 cart2 purchaseForClient1 purchaseForClient2 |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	purchaseForClient1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart add: testingUtils book2 amount: 1.
	purchaseForClient2 _ Sale with: cart2 content for: testingUtils clientID2.

	
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: 100 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2).
	
	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).
	self assert: purchase equals: (salesBook purchasesOf: testingUtils clientID1) ! !
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:30:03' prior: 50479455!
test06
	
	| cart cashier testingUtils salesBook purchase merchantProcessor cart1 cart2 purchaseForClient1 purchaseForClient2 |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchaseForClient1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchaseForClient2 _ Sale with: cart2 content for: testingUtils clientID2.

	
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: 100 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2).
	
	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).
	self assert: purchase equals: (salesBook purchasesOf: testingUtils clientID1) ! !
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:31:23' prior: 50479495!
test06
	
	| cashier testingUtils salesBook purchase merchantProcessor cart1 cart2 purchaseForClient1 purchaseForClient2 |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchaseForClient1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchaseForClient2 _ Sale with: cart2 content for: testingUtils clientID2.

	
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient1).
	self assert: purchase equals: (salesBook purchasesOf: testingUtils clientID1).
	
	self assert: 100 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient2).
	self assert: purchase equals: (salesBook purchasesOf: testingUtils clientID2) ! !
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:32:11' prior: 50479535!
test06
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchaseForClient1 purchaseForClient2 |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchaseForClient1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchaseForClient2 _ Sale with: cart2 content for: testingUtils clientID2.

	
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient1).
	self assert: purchaseForClient1 equals: (salesBook purchasesOf: testingUtils clientID1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient2).
	self assert: purchaseForClient2 equals: (salesBook purchasesOf: testingUtils clientID2) ! !

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:32:13'!
FAILURE!
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:32:22'!
test07
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchaseForClient1 purchaseForClient2 |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchaseForClient1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchaseForClient2 _ Sale with: cart2 content for: testingUtils clientID2.

	
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient1).
	self assert: purchaseForClient1 equals: (salesBook purchasesOf: testingUtils clientID1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient2).
	self assert: purchaseForClient2 equals: (salesBook purchasesOf: testingUtils clientID2) ! !
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:19:41' prior: 50479580!
test06
	
	| cart cashier testingUtils salesBook purchase merchantProcessor |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	purchase _ Sale with: cart content for: testingUtils clientID1.
	
	
	self assert: 100 equals: (cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).
	self assert: purchase equals: (salesBook purchasesOf: testingUtils clientID1) ! !

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:32:53'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:32:53'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 14:32:53'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 14:32:53'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:32:53'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:32:53'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:32:53'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:32:53'!
FAILURE!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:32:53'!
FAILURE!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 14:34:26' prior: 50479428!
purchasesOf: aClientID
	
	^ sales do:[:aSale | aSale clientID = aClientID ]! !
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 14:34:36' prior: 50479729!
purchasesOf: aClientID
	
	 sales do:[:aSale | ^aSale clientID = aClientID ]! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 14:34:37'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 14:34:37'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:36:12' prior: 50479628!
test07
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchaseForClient1 purchaseForClient2 |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	cart1 add: testingUtils book2 amount: 1.

	purchaseForClient1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient1).
	self assert: purchaseForClient1 equals: (salesBook purchasesOf: testingUtils clientID1).! !
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:39:01' prior: 50479748!
test07
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchase1 purchase2 expectedPurchases |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchase1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchase2 _ Sale with: cart2 content for: testingUtils clientID1.

	expectedPurchases _ OrderedCollection with: purchase1 with: purchase2.
		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchase1).
	self assert: purchase1 equals: (salesBook purchasesOf: testingUtils clientID1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchase2).
	self assert: purchase2 equals: (salesBook purchasesOf: testingUtils clientID2) ! !
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:39:12' prior: 50479781!
test07
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchase1 purchase2 expectedPurchases |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchase1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchase2 _ Sale with: cart2 content for: testingUtils clientID1.

	expectedPurchases _ OrderedCollection with: purchase1 with: purchase2.
		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchase1).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchase2).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID2) ! !

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:39:13'!
FAILURE!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF\ 6/11/2022 14:40:50' prior: 50479735!
purchasesOf: aClientID
	
	| salesOfClient |
	salesOfClient _ OrderedCollection new.
	sales do:[:aSale | aSale clientID = aClientID  ifTrue: [salesOfClient add: aSale]].
	
	^salesOfClient! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 14:40:52'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 14:40:52'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:41:01'!
ERROR!
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:42:10' prior: 50479674!
test06
	
	| cart cashier testingUtils salesBook purchase merchantProcessor expectedPurchases |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	purchase _ Sale with: cart content for: testingUtils clientID1.
	expectedPurchases _ OrderedCollection  with: purchase.
		
	self assert: 100 equals: (cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID1) ! !

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:42:13'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:42:13'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 14:42:13'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 14:42:13'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:42:13'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:42:13'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:42:13'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:42:13'!
FAILURE!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:42:13'!
FAILURE!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:42:19'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:42:19'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 14:42:19'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 14:42:19'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:42:19'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:42:19'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:42:19'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:42:19'!
FAILURE!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:42:19'!
FAILURE!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:42:24'!
FAILURE!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:42:24'!
FAILURE!

expectedPurchases!
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:42:53'!
test08
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchase1 purchase2 expectedPurchases |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchase1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchase2 _ Sale with: cart2 content for: testingUtils clientID1.

	expectedPurchases _ OrderedCollection with: purchase1 with: purchase2.
		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchase1).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchase2).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID2) ! !
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:32:22' prior: 50479827!
test07
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchaseForClient1 purchaseForClient2 |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchaseForClient1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchaseForClient2 _ Sale with: cart2 content for: testingUtils clientID2.

	
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient1).
	self assert: purchaseForClient1 equals: (salesBook purchasesOf: testingUtils clientID1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient2).
	self assert: purchaseForClient2 equals: (salesBook purchasesOf: testingUtils clientID2) ! !

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:43:11'!
ERROR!
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:44:26' prior: 50480032!
test07
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchaseForClient1 purchaseForClient2 purchasesOfClient1 purchasesOfClient2 |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchaseForClient1 _ Sale with: cart1 content for: testingUtils clientID1.
	purchasesOfClient1 _ OrderedCollection  with: purchaseForClient1.
	
	
	cart2 add: testingUtils book2 amount: 1.
	purchaseForClient2 _ Sale with: cart2 content for: testingUtils clientID2.
	purchasesOfClient2 _ OrderedCollection  with: purchaseForClient2.
	
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient1).
	self assert: purchasesOfClient1 equals: (salesBook purchasesOf: testingUtils clientID1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient2).
	self assert: purchasesOfClient2 equals: (salesBook purchasesOf: testingUtils clientID2) ! !

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:44:29'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:44:29'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 14:44:29'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 14:44:29'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:44:29'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:44:29'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:44:29'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:44:29'!
PASSED!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 14:44:29'!
FAILURE!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 14:44:29'!
FAILURE!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 14:44:38'!
FAILURE!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 14:44:38'!
FAILURE!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 14:45:11'!
FAILURE!
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:45:24' prior: 50479985!
test08
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchase1 purchase2 expectedPurchases |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchase1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchase2 _ Sale with: cart2 content for: testingUtils clientID1.

	expectedPurchases _ OrderedCollection with: purchase1 with: purchase2.
		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchase1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchase2).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID2) ! !

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 14:45:25'!
FAILURE!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 14:45:30'!
FAILURE!
!CashierTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:45:46' prior: 50480167!
test08
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchase1 purchase2 expectedPurchases |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchase1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchase2 _ Sale with: cart2 content for: testingUtils clientID1.

	expectedPurchases _ OrderedCollection with: purchase1 with: purchase2.
		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchase1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchase2).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID1) ! !

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 14:45:46'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:45:46'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 14:45:46'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 14:45:46'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:45:46'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 14:45:46'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 14:45:46'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 14:45:46'!
PASSED!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 14:45:46'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:49:26'!
test06
	
	| cart cashier testingUtils salesBook purchase merchantProcessor expectedPurchases |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	purchase _ Sale with: cart content for: testingUtils clientID1.
	expectedPurchases _ OrderedCollection  with: purchase.
		
	self assert: 100 equals: (cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID1) ! !

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 14:49:27'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 14:49:27'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 14:49:27'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 14:49:27'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:49:44'!
test07
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchaseForClient1 purchaseForClient2 purchasesOfClient1 purchasesOfClient2 |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchaseForClient1 _ Sale with: cart1 content for: testingUtils clientID1.
	purchasesOfClient1 _ OrderedCollection  with: purchaseForClient1.
	
	
	cart2 add: testingUtils book2 amount: 1.
	purchaseForClient2 _ Sale with: cart2 content for: testingUtils clientID2.
	purchasesOfClient2 _ OrderedCollection  with: purchaseForClient2.
	
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient1).
	self assert: purchasesOfClient1 equals: (salesBook purchasesOf: testingUtils clientID1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient2).
	self assert: purchasesOfClient2 equals: (salesBook purchasesOf: testingUtils clientID2) ! !

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 14:49:45'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 14:49:45'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 14:49:45'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 14:49:45'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 14:49:45'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:50:06'!
test08
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchase1 purchase2 expectedPurchases |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchase1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchase2 _ Sale with: cart2 content for: testingUtils clientID1.

	expectedPurchases _ OrderedCollection with: purchase1 with: purchase2.
		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchase1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchase2).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID1) ! !

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 14:50:07'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 14:50:07'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 14:50:07'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 14:50:07'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 14:50:07'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 14:50:07'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:54:58'!
test09
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchase1 purchase2 purchasesOfClient |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchase1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchase2 _ Sale with: cart2 content for: testingUtils clientID1.
		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchase1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchase2).
	purchasesOfClient _ salesBook purchasesOf: testingUtils clientID1.
	self deny: purchasesOfClient first saleID = purchasesOfClient second saleID.! !

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 14:55:04'!
ERROR!
!SalesBookTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 14:55:36' prior: 50480454!
test09
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchasesOfClient |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book2 amount: 1.
		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	
	purchasesOfClient _ salesBook purchasesOf: testingUtils clientID1.
	self deny: purchasesOfClient first saleID = purchasesOfClient second saleID.! !
!Cashier methodsFor: 'checking out' stamp: 'AF\ 6/11/2022 15:03:51' prior: 50479241!
checkout: aCart with: aCreditCard on: aDate for: aClientID 
	
	| subtotal |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	salesBook addSaleOf: aCart for: aClientID. 
	
	aCart clearContent.
	
	^subtotal! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:03:59'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 15:03:59'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 15:03:59'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:03:59'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:03:59'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 15:03:59'!
ERROR!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 15:03:59'!
ERROR!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 15:03:59'!
ERROR!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 15:04:07'!
ERROR!
!SalesBook methodsFor: 'adding' stamp: 'AF\ 6/11/2022 15:04:19'!
addSaleOf: aCart for: aString 
	self shouldBeImplemented.! !
!SalesBook methodsFor: 'adding' stamp: 'AF\ 6/11/2022 15:05:06' prior: 50480579!
addSaleOf: aCart for: aString 
	
	| sale |
	sale _  Sale with: aCart content for: aString.
	sales add: sale.! !
!SalesBook methodsFor: 'adding' stamp: 'AF\ 6/11/2022 15:05:20' prior: 50480584!
addSaleOf: aCart for: aClientId 
	
	| sale |
	sale _  Sale with: aCart content for: aClientId.
	sales add: sale.! !
!SalesBook methodsFor: 'adding' stamp: 'AF\ 6/11/2022 15:05:25' prior: 50480591!
addSaleOf: aCart for: aClientID 
	
	| sale |
	sale _  Sale with: aCart content for: aClientID.
	sales add: sale.! !

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 15:05:33'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:05:34'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 15:05:34'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 15:05:34'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:05:34'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:05:34'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 15:05:34'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 15:05:34'!
PASSED!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 15:05:34'!
PASSED!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:05:50'!
ERROR!

!classDefinition: #SalesBook category: 'TusLibros' stamp: 'AF\ 6/11/2022 15:06:45'!
Object subclass: #SalesBook
	instanceVariableNames: 'sales lastSaleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SalesBook methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 15:06:44' prior: 50475060 overrides: 16920235!
initialize

	sales _ OrderedCollection new.
	lastSaleID _ 1.! !
!SalesBook methodsFor: 'adding' stamp: 'AF\ 6/11/2022 15:09:21' prior: 50480598!
addSaleOf: aCart for: aClientID 
	
	| sale idForThisSale |
	idForThisSale _ lastSaleID. 
	lastSaleID _ lastSaleID + 1.
	sale _  Sale with: aCart content for: aClientID withSaleID: idForThisSale.
	sales add: sale.! !
!SalesBook methodsFor: 'adding' stamp: 'AF\ 6/11/2022 15:09:39' prior: 50480647!
addSaleOf: aCart for: aClientID 
	
	| sale idForThisSale |
	
	idForThisSale _ lastSaleID. 
	lastSaleID _ lastSaleID + 1.
	
	sale _  Sale with: aCart content for: aClientID withSaleID: idForThisSale.
	
	sales add: sale.! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 15:09:39'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 15:09:39'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 15:09:39'!
ERROR!

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 15:09:39'!
ERROR!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 15:09:39'!
ERROR!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:09:39'!
ERROR!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 15:09:48'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'AF\ 6/11/2022 15:10:01'!
with: aBag for: aString withSaleID: aSmallInteger 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aBag for: aString withSaleID: aSmallInteger ! !
!Sale class methodsFor: 'instance creation' stamp: 'AF\ 6/11/2022 15:10:39' prior: 50480686!
with: aCartContents for: aClientID withSaleID: aSaleID 
	
	^self new initializeWith: aCartContents for: aClientID withSaleID: aSaleID ! !

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 15:10:40'!
ERROR!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF\ 6/11/2022 15:10:45'!
Object subclass: #Sale
	instanceVariableNames: 'cartContentsAFDGRGESG clientID cartContents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF\ 6/11/2022 15:10:45'!
Object subclass: #Sale
	instanceVariableNames: 'cartContentsAFDGRGESG clientID cartContents saleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 15:10:45'!
initializeWith: aCartContents for: aClientID withSaleID: aSaleID 
	self shouldBeImplemented.
	cartContents := aCartContents.
	clientID := aClientID.
	saleID := aSaleID.! !
!Sale methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 15:10:49' prior: 50480721!
initializeWith: aCartContents for: aClientID withSaleID: aSaleID 
	.
	cartContents := aCartContents.
	clientID := aClientID.
	saleID := aSaleID.! !
!Sale methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 15:11:08' prior: 50480729!
initializeWith: aCartContents for: aClientID withSaleID: aSaleID 
	
	cartContentsAFDGRGESG := aCartContents.
	clientID := aClientID.
	saleID := aSaleID.! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 15:11:09'!
PASSED!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:11:09'!
ERROR!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:11:09'!
ERROR!

!methodRemoval: Sale #initializeWith:for: stamp: 'AF\ 6/11/2022 15:11:21'!
initializeWith: aCartContents for: aClientID 

	cartContentsAFDGRGESG := aCartContents.
	clientID := aClientID.!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:11:41'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 15:11:41'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 15:11:41'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:11:41'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:11:41'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 15:11:41'!
ERROR!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 15:11:41'!
ERROR!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 15:11:41'!
ERROR!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 15:11:41'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 15:11:41'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 15:11:41'!
ERROR!

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 15:11:41'!
ERROR!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 15:11:41'!
ERROR!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:11:41'!
ERROR!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 15:12:00'!
ERROR!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 15:12:04'!
ERROR!
!Sale methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 15:12:09'!
initializeWith: aCartContents for: aClientID 
	self shouldBeImplemented.
	cartContents := aCartContents.
	clientID := aClientID.! !
!Sale methodsFor: 'initialization' stamp: 'AF\ 6/11/2022 15:12:14' prior: 50480840!
initializeWith: aCartContents for: aClientID 
	
	cartContentsAFDGRGESG := aCartContents.
	clientID := aClientID.! !

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 15:12:15'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 15:12:17'!
PASSED!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:12:17'!
ERROR!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:12:17'!
ERROR!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:12:30'!
ERROR!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:12:30'!
ERROR!
!Sale methodsFor: 'accesing' stamp: 'AF\ 6/11/2022 15:12:37'!
saleID
	self shouldBeImplemented.
	^saleID! !
!Sale methodsFor: 'accesing' stamp: 'AF\ 6/11/2022 15:12:40' prior: 50480904!
saleID
	
	^saleID! !

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:12:41'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 15:12:43'!
ttest09
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchasesOfClient |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book2 amount: 1.
		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	
	purchasesOfClient _ salesBook purchasesOf: testingUtils clientID1.
	self deny: purchasesOfClient first saleID = purchasesOfClient second saleID.! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 15:12:43'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 15:12:43'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 15:12:43'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 15:12:43'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 15:12:43'!
PASSED!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:12:43'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 15:13:08'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 15:13:08'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 15:13:08'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 15:13:08'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 15:13:08'!
PASSED!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:13:08'!
PASSED!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 15:13:11'!
PASSED!

!methodRemoval: SalesBookTest #ttest09 stamp: 'AF\ 6/11/2022 15:13:25'!
ttest09
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchasesOfClient |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book2 amount: 1.
		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	
	purchasesOfClient _ salesBook purchasesOf: testingUtils clientID1.
	self deny: purchasesOfClient first saleID = purchasesOfClient second saleID.!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:15:19'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:15:19'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 15:15:19'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF\ 6/11/2022 15:15:19'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:15:19'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF\ 6/11/2022 15:15:19'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF\ 6/11/2022 15:15:19'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF\ 6/11/2022 15:15:19'!
PASSED!

!testRun: #CashierTest #test08 stamp: 'AF\ 6/11/2022 15:15:19'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF\ 6/11/2022 15:16:00'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 17:02:46'!
test01CreatingACartWithAnUnregi

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!methodRemoval: SystemFacadeTest #test01 stamp: 'AF\ 6/11/2022 17:02:46'!
test01

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 17:03:18'!
test01CreatingACartWithAnUnregisteredUsernameShouldRiseAnError

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!methodRemoval: SystemFacadeTest #test01CreatingACartWithAnUnregi stamp: 'AF\ 6/11/2022 17:03:18'!
test01CreatingACartWithAnUnregi

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 17:03:27'!
test01CreatingACartWithAnUnregisteredUsernameShouldRaiseAnError

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!methodRemoval: SystemFacadeTest #test01CreatingACartWithAnUnregisteredUsernameShouldRiseAnError stamp: 'AF\ 6/11/2022 17:03:27'!
test01CreatingACartWithAnUnregisteredUsernameShouldRiseAnError

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 17:04:09'!
test02CreatingACartWithAnUnregistered

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!methodRemoval: SystemFacadeTest #test02 stamp: 'AF\ 6/11/2022 17:04:09'!
test02

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 17:05:53'!
test02CreatingACartWithARegisteredUsernameAndAWrongPassworrdShouldRiseError

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!methodRemoval: SystemFacadeTest #test02CreatingACartWithAnUnregistered stamp: 'AF\ 6/11/2022 17:05:53'!
test02CreatingACartWithAnUnregistered

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	
	 !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 17:06:45'!
test03NewCartShouldBeEmpy

	| systemFacade cartID systemAuthenticator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !

!methodRemoval: SystemFacadeTest #test03 stamp: 'AF\ 6/11/2022 17:06:45'!
test03

	| systemFacade cartID systemAuthenticator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 17:07:13' prior: 50477176!
test04

	| systemFacade xxxAuthenticator cartID1 cartID2 |
	
	xxxAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: xxxAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self assert: (cartID1 = cartID2) not! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 17:07:19' prior: 50481283!
test04

	| systemFacade systemAuthenticator cartID1 cartID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self assert: (cartID1 = cartID2) not! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 17:08:38'!
test04TwoCreatedCartsShouldHaveDifferentsIDs

	| systemFacade systemAuthenticator cartID1 cartID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self assert: (cartID1 = cartID2) not! !

!methodRemoval: SystemFacadeTest #test04 stamp: 'AF\ 6/11/2022 17:08:38'!
test04

	| systemFacade systemAuthenticator cartID1 cartID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self assert: (cartID1 = cartID2) not!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF\ 6/11/2022 17:09:15'!
test08CantListCartOfAnInvalidCartID

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: testingUtils invalidCartID ]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!methodRemoval: SystemFacadeTest #test08 stamp: 'AF\ 6/11/2022 17:09:15'!
test08

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: testingUtils invalidCartID ]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:11:19'!
test05AddingABookToACart

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.! !

!methodRemoval: SystemFacadeTest #test05 stamp: 'AF\ 6/11/2022 17:11:19'!
test05

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:11:25' prior: 50481396!
test05AddingABookToACart

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.! !
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:12:52'!
test05ListCartShouldNotBeEmptyAfterAddingAProduct

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.! !

!methodRemoval: SystemFacadeTest #test05AddingABookToACart stamp: 'AF\ 6/11/2022 17:12:52'!
test05AddingABookToACart

	| systemFacade systemAuthenticator cartID1 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:14:06'!
test06AddingProductsToTwoDifferentCartsShould

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !

!methodRemoval: SystemFacadeTest #test06 stamp: 'AF\ 6/11/2022 17:14:06'!
test06

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:14:37' prior: 50481482!
test06AddingProductsToTwoDifferentCartsShould

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:14:39' prior: 50481546!
test06AddingProductsToTwoDifferentCartsShould

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartWithAnUnregisteredUsernameShouldRaiseAnError stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartWithARegisteredUsernameAndAWrongPassworrdShouldRiseError stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test03NewCartShouldBeEmpy stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test04TwoCreatedCartsShouldHaveDifferentsIDs stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartShouldNotBeEmptyAfterAddingAProduct stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test08CantListCartOfAnInvalidCartID stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 17:14:39'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:14:39'!
FAILURE!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:14:39'!
FAILURE!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:14:56' prior: 50481579!
test06AddingProductsToTwoDifferentCartsShould

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartWithAnUnregisteredUsernameShouldRaiseAnError stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartWithARegisteredUsernameAndAWrongPassworrdShouldRiseError stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test03NewCartShouldBeEmpy stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test04TwoCreatedCartsShouldHaveDifferentsIDs stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartShouldNotBeEmptyAfterAddingAProduct stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test08CantListCartOfAnInvalidCartID stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 17:14:56'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:14:56'!
FAILURE!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:14:56'!
FAILURE!

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartWithAnUnregisteredUsernameShouldRaiseAnError stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartWithARegisteredUsernameAndAWrongPassworrdShouldRiseError stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test03NewCartShouldBeEmpy stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test04TwoCreatedCartsShouldHaveDifferentsIDs stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartShouldNotBeEmptyAfterAddingAProduct stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test08CantListCartOfAnInvalidCartID stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 17:14:59'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:14:59'!
FAILURE!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:14:59'!
FAILURE!

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartWithAnUnregisteredUsernameShouldRaiseAnError stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartWithARegisteredUsernameAndAWrongPassworrdShouldRiseError stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test03NewCartShouldBeEmpy stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test04TwoCreatedCartsShouldHaveDifferentsIDs stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartShouldNotBeEmptyAfterAddingAProduct stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test08CantListCartOfAnInvalidCartID stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 17:15:05'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:15:05'!
FAILURE!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:15:05'!
FAILURE!

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:15:15'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:15:28' prior: 50481659!
test06AddingProductsToTwoDifferentCartsShould

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartWithAnUnregisteredUsernameShouldRaiseAnError stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartWithARegisteredUsernameAndAWrongPassworrdShouldRiseError stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test03NewCartShouldBeEmpy stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test04TwoCreatedCartsShouldHaveDifferentsIDs stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartShouldNotBeEmptyAfterAddingAProduct stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test08CantListCartOfAnInvalidCartID stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 17:15:29'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:15:29'!
FAILURE!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:15:29'!
FAILURE!

!testRun: #SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:15:32'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:17:50'!
test06ListingTwoDifferentCartsMustHaveAddedProductsRespectively

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !

!methodRemoval: SystemFacadeTest #test06AddingProductsToTwoDifferentCartsShould stamp: 'AF\ 6/11/2022 17:17:50'!
test06AddingProductsToTwoDifferentCartsShould

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:18:08' prior: 50477431!
test07

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:18:31'!
test07CannotAddProductsToAnInvalidCartID

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!methodRemoval: SystemFacadeTest #test07 stamp: 'AF\ 6/11/2022 17:18:31'!
test07

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:18:50'!
test0AddProductsToAnInvalidCartIDShouldRaiseError

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!methodRemoval: SystemFacadeTest #test07CannotAddProductsToAnInvalidCartID stamp: 'AF\ 6/11/2022 17:18:50'!
test07CannotAddProductsToAnInvalidCartID

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:19:01'!
test07AddProductsToAnInvalidCartIDShouldRaiseError

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!methodRemoval: SystemFacadeTest #test0AddProductsToAnInvalidCartIDShouldRaiseError stamp: 'AF\ 6/11/2022 17:19:01'!
test0AddProductsToAnInvalidCartIDShouldRaiseError

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:19:19'!
test07AddingProductsWithAnInvalidCartIDShouldRaiseError

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!methodRemoval: SystemFacadeTest #test07AddProductsToAnInvalidCartIDShouldRaiseError stamp: 'AF\ 6/11/2022 17:19:19'!
test07AddProductsToAnInvalidCartIDShouldRaiseError

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF\ 6/11/2022 17:19:52'!
test09AddingAProductNotInCatalogShouldRaiseError

	| systemFacade systemAuthenticator cartID |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils unregisteredBook amount: 1 to: cartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddBooksNotInCatalogErrorDescription equals: anError messageText ].
! !

!methodRemoval: SystemFacadeTest #test09 stamp: 'AF\ 6/11/2022 17:19:52'!
test09

	| systemFacade systemAuthenticator cartID |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils unregisteredBook amount: 1 to: cartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddBooksNotInCatalogErrorDescription equals: anError messageText ].
!

!testRun: #SystemFacadeTest #test09AddingAProductNotInCatalogShouldRaiseError stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartWithAnUnregisteredUsernameShouldRaiseAnError stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartWithARegisteredUsernameAndAWrongPassworrdShouldRiseError stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test03NewCartShouldBeEmpy stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test04TwoCreatedCartsShouldHaveDifferentsIDs stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartShouldNotBeEmptyAfterAddingAProduct stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test06ListingTwoDifferentCartsMustHaveAddedProductsRespectively stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test07AddingProductsWithAnInvalidCartIDShouldRaiseError stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test08CantListCartOfAnInvalidCartID stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test09AddingAProductNotInCatalogShouldRaiseError stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 17:19:55'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:19:55'!
FAILURE!

!testRun: #SystemFacadeTest #test13 stamp: 'AF\ 6/11/2022 17:19:55'!
FAILURE!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 17:20:27'!
test10CheckoutOfAnEmotyCartShouldRiseError

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard) on: testingUtils validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !

!methodRemoval: SystemFacadeTest #test10 stamp: 'AF\ 6/11/2022 17:20:27'!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard) on: testingUtils validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutAnEmptyCartErrorDescription  equals: anError messageText] .
	!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 17:20:58'!
test11CheckoutOfAnInvalidCartIDShouldRaiseError

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.

	
	self should: [systemFacade checkout: testingUtils invalidCartID with: (testingUtils validCreditCard) on: testingUtils validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription  equals: anError messageText] .
	! !

!methodRemoval: SystemFacadeTest #test11 stamp: 'AF\ 6/11/2022 17:20:58'!
test11

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.

	
	self should: [systemFacade checkout: testingUtils invalidCartID with: (testingUtils validCreditCard) on: testingUtils validCheckoutMonthOfYear ] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription  equals: anError messageText] .
	!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 17:22:15'!
test12ListingPurchasesOfClientMustHaveChackedoutCarts

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID expectedPurchases |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases _  OrderedCollection with: (Bag with: testingUtils book).
	 
	self assert: expectedPurchases equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	! !

!methodRemoval: SystemFacadeTest #test12 stamp: 'AF\ 6/11/2022 17:22:15'!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID expectedPurchases |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases _  OrderedCollection with: (Bag with: testingUtils book).
	 
	self assert: expectedPurchases equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 17:22:24'!
test12ListingPurchasesOfClientMustHaveChackedoutCartsSADFDFERGTEGRDFSGDFSG

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID expectedPurchases |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases _  OrderedCollection with: (Bag with: testingUtils book).
	 
	self assert: expectedPurchases equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	! !

!methodRemoval: SystemFacadeTest #test12ListingPurchasesOfClientMustHaveChackedoutCarts stamp: 'AF\ 6/11/2022 17:22:24'!
test12ListingPurchasesOfClientMustHaveChackedoutCarts

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID expectedPurchases |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	systemFacade checkout: cartID with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	expectedPurchases _  OrderedCollection with: (Bag with: testingUtils book).
	 
	self assert: expectedPurchases equals: (systemFacade listPurchasesFor: testingUtils clientID1 withPassword: testingUtils password1).
	!

!methodRemoval: CashierTest #test06 stamp: 'AF\ 6/11/2022 17:23:09'!
test06
	
	| cart cashier testingUtils salesBook purchase merchantProcessor expectedPurchases |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	purchase _ Sale with: cart content for: testingUtils clientID1.
	expectedPurchases _ OrderedCollection  with: purchase.
		
	self assert: 100 equals: (cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: purchase).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID1) !

!methodRemoval: CashierTest #test07 stamp: 'AF\ 6/11/2022 17:23:10'!
test07
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchaseForClient1 purchaseForClient2 purchasesOfClient1 purchasesOfClient2 |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchaseForClient1 _ Sale with: cart1 content for: testingUtils clientID1.
	purchasesOfClient1 _ OrderedCollection  with: purchaseForClient1.
	
	
	cart2 add: testingUtils book2 amount: 1.
	purchaseForClient2 _ Sale with: cart2 content for: testingUtils clientID2.
	purchasesOfClient2 _ OrderedCollection  with: purchaseForClient2.
	
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient1).
	self assert: purchasesOfClient1 equals: (salesBook purchasesOf: testingUtils clientID1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchaseForClient2).
	self assert: purchasesOfClient2 equals: (salesBook purchasesOf: testingUtils clientID2) !

!methodRemoval: CashierTest #test08 stamp: 'AF\ 6/11/2022 17:23:11'!
test08
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 purchase1 purchase2 expectedPurchases |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	purchase1 _ Sale with: cart1 content for: testingUtils clientID1.
	
	cart2 add: testingUtils book2 amount: 1.
	purchase2 _ Sale with: cart2 content for: testingUtils clientID1.

	expectedPurchases _ OrderedCollection with: purchase1 with: purchase2.
		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.
	self assert: (salesBook hasRegistered: purchase1).
	
	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	self assert: (salesBook hasRegistered: purchase2).
	self assert: expectedPurchases equals: (salesBook purchasesOf: testingUtils clientID1) !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 17:23:14'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 17:23:14'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 17:23:14'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 17:23:14'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 17:23:14'!
PASSED!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 17:23:14'!
PASSED!

Object subclass: #Sale
	instanceVariableNames: 'cartContentsAFDGRGESG clientID saleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF\ 6/11/2022 17:24:53'!
Object subclass: #Sale
	instanceVariableNames: 'cartContentsAFDGRGESG clientID saleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 17:24:54'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 17:24:54'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 17:24:54'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 17:24:54'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 17:24:54'!
PASSED!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 17:24:54'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 17:36:44' prior: 50480394!
test08
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 expectedPurchases expectedFirstPurchaseContents expectedSecondPurchaseContents purchasesOfClient1 |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	expectedFirstPurchaseContents _ Bag with: testingUtils book.
		
	cart2 add: testingUtils book2 amount: 1.
	expectedSecondPurchaseContents _ Bag with: testingUtils book2.

		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.

	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	
	purchasesOfClient1 _ salesBook purchasesOf: testingUtils clientID1.
	
	self assert: testingUtils clientID1 equals: purchasesOfClient1 first clientID.
	self assert: expectedFirstPurchaseContents equals:  purchasesOfClient1 first content.
	
	self assert: testingUtils clientID1 equals: purchasesOfClient1 second clientID.
	self assert: expectedSecondPurchaseContents equals:  purchasesOfClient1 second content.
	

	self deny: purchasesOfClient1 first saleID = purchasesOfClient1 second saleID! !
!SalesBookTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 17:36:56' prior: 50482694!
test08
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 expectedFirstPurchaseContents expectedSecondPurchaseContents purchasesOfClient |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	expectedFirstPurchaseContents _ Bag with: testingUtils book.
		
	cart2 add: testingUtils book2 amount: 1.
	expectedSecondPurchaseContents _ Bag with: testingUtils book2.

		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.

	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	
	purchasesOfClient _ salesBook purchasesOf: testingUtils clientID1.
	
	self assert: testingUtils clientID1 equals: purchasesOfClient first clientID.
	self assert: expectedFirstPurchaseContents equals:  purchasesOfClient first content.
	
	self assert: testingUtils clientID1 equals: purchasesOfClient second clientID.
	self assert: expectedSecondPurchaseContents equals:  purchasesOfClient second content.
	

	self deny: purchasesOfClient first saleID = purchasesOfClient second saleID! !

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 17:37:03'!
ERROR!
!SalesBookTest methodsFor: 'testing' stamp: 'AF\ 6/11/2022 17:37:38' prior: 50482747!
test08
	
	| cashier testingUtils salesBook merchantProcessor cart1 cart2 expectedFirstPurchaseContents expectedSecondPurchaseContents purchasesOfClient |
	testingUtils _ TestingUtils new.
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog	.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart1 add: testingUtils book amount: 1.
	expectedFirstPurchaseContents _ Bag with: testingUtils book.
		
	cart2 add: testingUtils book2 amount: 1.
	expectedSecondPurchaseContents _ Bag with: testingUtils book2.

		
	self assert: 100 equals: (cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart1 isEmpty.

	self assert: 50 equals: (cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1).	
	self assert: cart2 isEmpty.
	
	purchasesOfClient _ salesBook purchasesOf: testingUtils clientID1.
	
	self assert: testingUtils clientID1 equals: purchasesOfClient first clientID.
	self assert: expectedFirstPurchaseContents equals:  purchasesOfClient first cartContentsSAFASFDFS.
	
	self assert: testingUtils clientID1 equals: purchasesOfClient second clientID.
	self assert: expectedSecondPurchaseContents equals:  purchasesOfClient second cartContentsSAFASFDFS.
	

	self deny: purchasesOfClient first saleID = purchasesOfClient second saleID! !

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 17:37:38'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF\ 6/11/2022 17:37:38'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF\ 6/11/2022 17:37:38'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF\ 6/11/2022 17:37:38'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF\ 6/11/2022 17:37:38'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF\ 6/11/2022 17:37:38'!
PASSED!

!testRun: #SalesBookTest #test09 stamp: 'AF\ 6/11/2022 17:37:38'!
PASSED!

----STARTUP---- (12 June 2022 18:27:06) as /home/agus/Documents/ing1 2022/tusLibros-it3-preSale/CuisUniversity-5096.image!


----End fileIn of /home/agus/Documents/ing1 2022/tusLibros-it3-preSale/TusLibros.st----!

!classRemoval: #TestingUtils stamp: 'AF 6/12/2022 18:33:47'!
Object subclass: #TestingUtils
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #SystemFacade stamp: 'AF 6/12/2022 18:33:47'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator carts currentCartId catalog salesBook merchantProcessorSimulator'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #SystemAuthenticator stamp: 'AF 6/12/2022 18:33:48'!
Object subclass: #SystemAuthenticator
	instanceVariableNames: 'userRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #SalesBook stamp: 'AF 6/12/2022 18:33:48'!
Object subclass: #SalesBook
	instanceVariableNames: 'sales lastSaleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Sale stamp: 'AF 6/12/2022 18:33:48'!
Object subclass: #Sale
	instanceVariableNames: 'cartContentsAFDGRGESG clientID saleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #MerchantProcessorSimulator stamp: 'AF 6/12/2022 18:33:48'!
Object subclass: #MerchantProcessorSimulator
	instanceVariableNames: 'stolenCardRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CreditCard stamp: 'AF 6/12/2022 18:33:49'!
Object subclass: #CreditCard
	instanceVariableNames: 'cardNumber expirationDate name'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CatchOutMerchantProcessorSimulator stamp: 'AF 6/12/2022 18:33:49'!
Object subclass: #CatchOutMerchantProcessorSimulator
	instanceVariableNames: 'stolenCardRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cashier stamp: 'AF 6/12/2022 18:33:49'!
Object subclass: #Cashier
	instanceVariableNames: 'salesBook merchantProcessorSimulator'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #Cart stamp: 'AF 6/12/2022 18:33:49'!
Object subclass: #Cart
	instanceVariableNames: 'content catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #SystemFacadeTest stamp: 'AF 6/12/2022 18:33:49'!
TestCase subclass: #SystemFacadeTest
	instanceVariableNames: 'testingUtils catalog'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #SalesBookTest stamp: 'AF 6/12/2022 18:33:50'!
TestCase subclass: #SalesBookTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #MerchantProcessorSimulatorTest stamp: 'AF 6/12/2022 18:33:50'!
TestCase subclass: #MerchantProcessorSimulatorTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CreditCardTest stamp: 'AF 6/12/2022 18:33:50'!
TestCase subclass: #CreditCardTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CashierTest stamp: 'AF 6/12/2022 18:33:50'!
TestCase subclass: #CashierTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classRemoval: #CartTest stamp: 'AF 6/12/2022 18:33:51'!
TestCase subclass: #CartTest
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

----End fileIn of /home/agus/Downloads/TusLibros-2.st----!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/12/2022 18:43:21' prior: 50476237!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier testingUtils salesBook merchantProcessor sale |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 18:43:34'!
ERROR!
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 18:43:41'!
checkout: aCart with: aCreditCard on: aGregorianMonthOfYear for: aString 
	self shouldBeImplemented.! !
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 18:45:33' prior: 50477630!
checkout: aCart with: aCreditCard on: aDate for: aClientID 
	|
	 subtotal |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	salesBook addSaleWith: aCart for: aClientID.	
	
	aCart clearContent.
	! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 18:45:35'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 18:45:35'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 18:45:35'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 18:45:35'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 18:45:35'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 18:45:35'!
ERROR!
!SalesBook methodsFor: 'adding' stamp: 'AF 6/12/2022 18:45:40'!
addSaleWith: aCart for: aString 
	self shouldBeImplemented.! !

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF 6/12/2022 18:48:22'!
Object subclass: #Sale
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SalesBook methodsFor: 'adding' stamp: 'AF 6/12/2022 18:48:19' prior: 50477674!
addSaleWith: aCart for: aString 
	
	
	| sale |
	sale _ Sale with: aCart total.
	sales add: sale.
	
	^sale.! !
!SalesBook methodsFor: 'adding' stamp: 'AF 6/12/2022 18:48:29' prior: 50477685!
addSaleWith: aCart for: aString 
	
	| sale |
	
	sale _ Sale with: aCart total.
	sales add: sale.
	
	^sale.! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 18:48:29'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 18:48:29'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/12/2022 18:49:24' prior: 50477602!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier testingUtils salesBook merchantProcessor sale |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !

!methodRemoval: Cashier #checkout:with:on:for: stamp: 'AF 6/12/2022 18:49:34'!
checkout: aCart with: aCreditCard on: aDate for: aClientID 
	|
	 subtotal |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	salesBook addSaleWith: aCart for: aClientID.	
	
	aCart clearContent.
	!
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 18:50:18' prior: 50476905!
checkout: aCart with: aCreditCard on: aDate
	
	| subtotal |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	salesBook addSaleWith: subtotal.	
	
	aCart clearContent.
	
	^subtotal! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 18:50:21'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 18:50:21'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 18:50:21'!
ERROR!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 18:50:21'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 18:50:21'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 18:50:23'!
ERROR!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 18:50:29'!
addSaleWith: aSmallInteger 
	self shouldBeImplemented.! !
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 18:50:59' prior: 50477782!
addSaleWith: aFinalPrice 
	
	| sale |
	sale _ Sale with: aFinalPrice.
	sales add: sale.
	
	^sale.! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 18:51:03'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 18:51:03'!
ERROR!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 18:51:03'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 18:51:09'!
with: aSmallInteger 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aSmallInteger ! !
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 18:51:27' prior: 50477804!
with: aFinalPrice 
	
	^self new initializeWith: aFinalPrice ! !

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 18:51:27'!
ERROR!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF 6/12/2022 18:51:38'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'AF 6/12/2022 18:51:38'!
initializeWith: aFinalPrice 
	self shouldBeImplemented.
	finalPrice := aFinalPrice.! !
!Sale methodsFor: 'initialization' stamp: 'AF 6/12/2022 18:51:42' prior: 50477827!
initializeWith: aFinalPrice 
	
	finalPrice := aFinalPrice.! !

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 18:51:43'!
FAILURE!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 18:51:59'!
ERROR!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 18:52:00'!
ERROR!
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 18:52:41' prior: 50477745!
checkout: aCart with: aCreditCard on: aDate
	
	| subtotal sale |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	sale _ salesBook addSaleWith: subtotal.	
	
	aCart clearContent.
	
	^sale! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 18:52:43'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 18:52:43'!
ERROR!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 18:52:43'!
FAILURE!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 18:52:43'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 18:52:43'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 18:52:48'!
ERROR!
!Sale methodsFor: 'category-name' stamp: 'AF 6/12/2022 18:52:53'!
total
	self shouldBeImplemented.! !
!Sale methodsFor: 'category-name' stamp: 'AF 6/12/2022 18:53:04' prior: 50477887!
total
	
	^finalPrice ! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 18:53:06'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 18:53:07'!
FAILURE!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 18:53:10'!
FAILURE!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/12/2022 18:53:59' prior: 50476261!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice testingUtils salesBook merchantProcessor sale |
	
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 3.
	cart add: testingUtils book2 amount: 1.
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: sale total .
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 18:54:03'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 18:55:52' prior: 50476514!
test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook

	| salesBook cart cashier testingUtils purchase merchantProcessor sale |
	testingUtils _ TestingUtils new.	
	cart _ Cart with: testingUtils catalog.
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	self assert: (salesBook hasRegistered: sale).
	self deny: salesBook isEmpty .
	! !

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 18:56:01'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 18:56:01'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 18:56:01'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 18:57:00'!
test03

	| salesBook cart cashier testingUtils purchase merchantProcessor sale |
	testingUtils _ TestingUtils new.	
	cart _ Cart with: testingUtils catalog.
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear.
	
	
	self assert: testingUtils clientID1 equals: sale clientID.
	! !

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 18:58:12'!
ERROR!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 18:58:31' prior: 50477971!
test03

	| salesBook cart cashier testingUtils purchase merchantProcessor sale clientID |
	testingUtils _ TestingUtils new.	
	cart _ Cart with: testingUtils catalog.
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: clientID.
	
	
	self assert: testingUtils clientID1 equals: sale clientID.
	! !
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 18:58:43' prior: 50477995!
test03

	| salesBook cart cashier testingUtils purchase merchantProcessor sale |
	testingUtils _ TestingUtils new.	
	cart _ Cart with: testingUtils catalog.
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	
	self assert: testingUtils clientID1 equals: sale clientID.
	! !
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 18:59:01' prior: 50478018!
test03

	| salesBook cart cashier testingUtils merchantProcessor sale |
	testingUtils _ TestingUtils new.	
	cart _ Cart with: testingUtils catalog.
	cart add: testingUtils book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	
	self assert: testingUtils clientID1 equals: sale clientID.
	! !

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 18:59:04'!
ERROR!
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 18:59:12'!
checkout: aCart with: aCreditCard on: aGregorianMonthOfYear for: aString 
	self shouldBeImplemented.! !
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 18:59:51' prior: 50478065!
checkout: aCart with: aCreditCard on: aGregorianMonthOfYear for: aString 
	
	
	| aDate sale subtotal |
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	sale _ salesBook addSaleWith: subtotal.	
	
	aCart clearContent.
	
	^sale! !
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 19:00:07' prior: 50478071!
checkout: aCart with: aCreditCard on: aDate for: aString 

	| sale subtotal |
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	sale _ salesBook addSaleWith: subtotal.	
	
	aCart clearContent.
	
	^sale! !
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 19:00:25' prior: 50478089!
checkout: aCart with: aCreditCard on: aDate for: aClientID 

	| sale subtotal |
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	sale _ salesBook addSaleWith: subtotal for: aClientID.	
	
	aCart clearContent.
	
	^sale! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 19:00:26'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 19:00:26'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 19:00:26'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:00:26'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:00:26'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:00:32'!
ERROR!
!SalesBook methodsFor: 'adding' stamp: 'AF 6/12/2022 19:00:57' prior: 50477691!
addSaleWith: aCart for: aClientID 
	
	| sale |
	
	sale _ Sale with: aCart total for: aClientID.
	sales add: sale.
	
	^sale.! !
!SalesBook methodsFor: 'adding' stamp: 'AF 6/12/2022 19:01:23' prior: 50478143!
addSaleWith: aFinalPrice for: aClientID 
	
	| sale |
	
	sale _ Sale with: aFinalPrice total for: aClientID.
	sales add: sale.
	
	^sale.! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:01:27'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:01:27'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:01:27'!
ERROR!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:01:27'!
ERROR!
!SalesBook methodsFor: 'adding' stamp: 'AF 6/12/2022 19:01:36' prior: 50478150!
addSaleWith: aFinalPrice for: aClientID 
	
	| sale |
	
	sale _ Sale with: aFinalPrice for: aClientID.
	sales add: sale.
	
	^sale.! !

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:01:36'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:01:43'!
with: aSmallInteger for: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aSmallInteger for: aString ! !
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:01:50' prior: 50478178!
with: aSmallInteger for: aString 
	
	^self new initializeWith: aSmallInteger for: aString ! !
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:01:57' prior: 50478187!
with: aFinalPrice for: aString 
	
	^self new initializeWith: aFinalPrice for: aString ! !
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:02:05' prior: 50478193!
with: aFinalPrice for: aClientID 
	
	^self new initializeWith: aFinalPrice for: aClientID ! !

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:02:06'!
ERROR!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF 6/12/2022 19:02:11'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice clientID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:02:11'!
initializeWith: aFinalPrice for: aClientID 
	self shouldBeImplemented.
	finalPrice := aFinalPrice.
	clientID := aClientID.! !
!Sale methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:02:15' prior: 50478214!
initializeWith: aFinalPrice for: aClientID 

	finalPrice := aFinalPrice.
	clientID := aClientID.! !

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:02:16'!
ERROR!
!Sale methodsFor: 'category-name' stamp: 'AF 6/12/2022 19:02:21'!
clientID
	self shouldBeImplemented.
	^clientID! !
!Sale methodsFor: 'category-name' stamp: 'AF 6/12/2022 19:02:24' prior: 50478229!
clientID
	.
	^clientID! !
!Sale methodsFor: 'category-name' stamp: 'AF 6/12/2022 19:02:27' prior: 50478234!
clientID

	^clientID! !

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:02:28'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:02:33'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:02:33'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:02:33'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:02:33'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:08:59'!
test04

	| salesBook cart cashier testingUtils merchantProcessor sale saleContents |
	testingUtils _ TestingUtils new.	
	cart _ Cart with: testingUtils catalog.
	
	cart add: testingUtils book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	saleContents _ cart contents.	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self assert: saleContents  equals: sale contents.
	! !
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 19:12:29' prior: 50478106!
checkout: aCart with: aCreditCard on: aDate for: aClientID 

	| sale subtotal |
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	sale _ salesBook with: aCart contents pricing: subtotal for: aClientID.	
	
	aCart clearContent.
	
	^sale! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 19:12:29'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 19:12:29'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 19:12:29'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:12:29'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:12:29'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:12:50'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:12:50'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:12:50'!
ERROR!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:12:50'!
ERROR!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:12:52'!
ERROR!
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 19:13:00' prior: 50478279!
checkout: aCart with: aCreditCard on: aDate for: aClientID 

	| sale subtotal |
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	sale _ salesBook with: aCart content pricing: subtotal for: aClientID.	
	
	aCart clearContent.
	
	^sale! !

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:13:01'!
ERROR!
!SalesBook methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:13:07'!
with: aBag pricing: aSmallInteger for: aString 
	self shouldBeImplemented.! !
!SalesBook methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:14:29' prior: 50478349!
with: aSaleContents pricing: aFinalPrice for: aClientID 

		^self new initializeWith: aSaleContents pricing: aFinalPrice for: aClientID ! !
!SalesBook methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:14:31' prior: 50478355!
with: aSaleContents pricing: aFinalPrice for: aClientID 

	^self new initializeWith: aSaleContents pricing: aFinalPrice for: aClientID ! !

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:14:32'!
ERROR!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:14:42'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:14:42'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:14:42'!
ERROR!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:14:42'!
ERROR!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:14:44'!
ERROR!
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 19:15:47' prior: 50478329!
checkout: aCart with: aCreditCard on: aDate for: aClientID 

	| sale subtotal |
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	sale _ salesBook addSaleWith: aCart content pricing: subtotal for: aClientID.	
	
	aCart clearContent.
	
	^sale! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 19:15:49'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 19:15:49'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 19:15:49'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:15:49'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:15:49'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:15:53'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:15:53'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:15:53'!
ERROR!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:15:53'!
ERROR!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:15:54'!
ERROR!
!SalesBook methodsFor: 'adding' stamp: 'AF 6/12/2022 19:15:57'!
addSaleWith: aBag pricing: aSmallInteger for: aString 
	self shouldBeImplemented.! !
!SalesBook methodsFor: 'adding' stamp: 'AF 6/12/2022 19:16:00' prior: 50478436!
addSaleWith: aBag pricing: aSmallInteger for: aString 
	! !

!methodRemoval: SalesBook #with:pricing:for: stamp: 'AF 6/12/2022 19:16:06'!
with: aSaleContents pricing: aFinalPrice for: aClientID 

	^self new initializeWith: aSaleContents pricing: aFinalPrice for: aClientID !
!SalesBook methodsFor: 'adding' stamp: 'AF 6/12/2022 19:16:48' prior: 50478442!
addSaleWith: aSaleContents pricing: aFinalPrice for: aClientID 
	
	| sale |
	
	sale _ Sale with: aSaleContents pricing: aFinalPrice for: aClientID.
	sales add: sale.
	
	^sale.! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:16:50'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:16:50'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:16:50'!
ERROR!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:16:50'!
ERROR!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:17:05'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:17:08'!
with: aBag pricing: aSmallInteger for: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aBag pricing: aSmallInteger for: aString ! !
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:17:13' prior: 50478477!
with: aBag pricing: aSmallInteger for: aString 
	
	^self new initializeWith: aBag pricing: aSmallInteger for: aString ! !
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:17:21' prior: 50478487!
with: aSaleContents pricing: aSmallInteger for: aString 
	
	^self new initializeWith: aSaleContents pricing: aSmallInteger for: aString ! !
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:17:28' prior: 50478494!
with: aSaleContents pricing: aFinalPrice for: aString 
	
	^self new initializeWith: aSaleContents pricing: aFinalPrice for: aString ! !
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:17:35' prior: 50478502!
with: aSaleContents pricing: aFinalPrice for: aClientID 
	
	^self new initializeWith: aSaleContents pricing: aFinalPrice for: aClientID ! !

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:17:37'!
ERROR!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF 6/12/2022 19:17:56'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice clientID saleContents'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:17:56'!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID 
	self shouldBeImplemented.
	saleContents := aSaleContents.
	finalPrice := aFinalPrice.
	clientID := aClientID.! !
!Sale methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:17:58' prior: 50478526!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID 
	.
	saleContents := aSaleContents.
	finalPrice := aFinalPrice.
	clientID := aClientID.! !

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:17:59'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:18:01'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:18:01'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:18:01'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:18:01'!
ERROR!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:18:01'!
ERROR!
!Cart methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 19:18:05'!
contents
	self shouldBeImplemented.! !
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:18:17' prior: 50478256!
test04

	| salesBook cart cashier testingUtils merchantProcessor sale saleContents |
	testingUtils _ TestingUtils new.	
	cart _ Cart with: testingUtils catalog.
	
	cart add: testingUtils book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	saleContents _ cart content.	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self assert: saleContents  equals: sale contents.
	! !

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:18:18'!
ERROR!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:18:24' prior: 50478563!
test04

	| salesBook cart cashier testingUtils merchantProcessor sale saleContents |
	testingUtils _ TestingUtils new.	
	cart _ Cart with: testingUtils catalog.
	
	cart add: testingUtils book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	saleContents _ cart content.	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self assert: saleContents  equals: sale content.
	! !

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:18:25'!
ERROR!
!Sale methodsFor: 'category-name' stamp: 'AF 6/12/2022 19:18:29'!
content
	self shouldBeImplemented.! !
!Sale methodsFor: 'category-name' stamp: 'AF 6/12/2022 19:19:04' prior: 50478613!
content
	^saleContents ! !

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:19:07'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:20:40'!
test05

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	sale2 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self assert: sale1 saleIDAAAAAAAAA  equals: sale2 saleIDAAAAAAAAA.
	! !

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:20:49'!
ERROR!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:21:03' prior: 50478623!
test05

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self assert: sale1 saleIDAAAAAAAAA  equals: sale2 saleIDAAAAAAAAA.
	! !

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:21:04'!
ERROR!

!classDefinition: #SalesBook category: 'TusLibros' stamp: 'AF 6/12/2022 19:22:34'!
Object subclass: #SalesBook
	instanceVariableNames: 'sales nextSaleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SalesBook methodsFor: 'adding' stamp: 'AF 6/12/2022 19:22:31' prior: 50478454!
addSaleWith: aSaleContents pricing: aFinalPrice for: aClientID 
	
	| sale saleID |
	
	saleID _ nextSaleID.
	nextSaleID _ nextSaleID + 1	.
	sale _ Sale with: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: nextSaleID.
	sales add: sale.
	
	^sale.! !
!SalesBook methodsFor: 'adding' stamp: 'AF 6/12/2022 19:22:45' prior: 50478694!
addSaleWith: aSaleContents pricing: aFinalPrice for: aClientID 
	
	| sale saleID |
	
	saleID _ nextSaleID.
	nextSaleID _ nextSaleID + 1	.
	sale _ Sale with: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: saleID.
	sales add: sale.
	
	^sale.! !
!SalesBook methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:22:56' prior: 50477226 overrides: 16920235!
initialize

	sales _ OrderedCollection new.
	nextSaleID _ 1.! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:23:00'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:23:00'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:23:00'!
ERROR!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:23:00'!
ERROR!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:23:00'!
ERROR!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:23:02'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:23:06'!
with: aBag pricing: aSmallInteger for: aString identifyingBy: aSmallInteger4 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aBag pricing: aSmallInteger for: aString identifyingBy: aSmallInteger4 ! !

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:23:22'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:23:51' prior: 50478738!
with: aBag pricing: aSmallInteger for: aString identifyingBy: aSmallInteger4 
	
	^self new initializeWith: aBag pricing: aSmallInteger for: aString identifyingBy: aSmallInteger4 ! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 19:24:01'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:24:03'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:24:03'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:24:03'!
ERROR!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:24:03'!
ERROR!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:24:03'!
ERROR!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:24:06'!
ERROR!
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:25:12'!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID  identifyingBy: aSmallInteger4 
	
	^self new initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: aSmallInteger4 ! !
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:25:18' prior: 50478806!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID  identifyingBy: aSaleID 
	
	^self new initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: aSaleID ! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:25:25'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:25:25'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:25:25'!
ERROR!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:25:25'!
ERROR!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:25:25'!
ERROR!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:25:29'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:25:29'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:25:29'!
ERROR!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:25:29'!
ERROR!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:25:29'!
ERROR!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:25:30'!
ERROR!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF 6/12/2022 19:25:41'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice clientID saleContents bag'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF 6/12/2022 19:25:41'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice clientID saleContents bag smallInteger'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF 6/12/2022 19:25:41'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice clientID saleContents bag smallInteger string'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF 6/12/2022 19:25:41'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice clientID saleContents bag smallInteger string smallInteger4'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:25:42'!
initializeWith: aBag pricing: aSmallInteger for: aString identifyingBy: aSmallInteger4 
	self shouldBeImplemented.
	bag := aBag.
	smallInteger := aSmallInteger.
	string := aString.
	smallInteger4 := aSmallInteger4.! !
!Sale methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:25:48' prior: 50478887!
initializeWith: aBag pricing: aSmallInteger for: aString identifyingBy: aSmallInteger4 
	
	bag := aBag.
	smallInteger := aSmallInteger.
	string := aString.
	smallInteger4 := aSmallInteger4.! !

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:25:49'!
FAILURE!
!Sale methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:26:22' prior: 50478897!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: aSmallInteger4 
	
	| aBag aSmallInteger aString |
	bag := aBag.
	smallInteger := aSmallInteger.
	string := aString.
	smallInteger4 := aSmallInteger4.! !
!Sale methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:26:32' prior: 50478908!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: aSmallInteger4 
	
	saleContents := aSaleContents.
	finalPrice := aFinalPrice.
	clientID := aClientID.
	smallInteger4 := aSmallInteger4.! !

!classDefinition: #Sale category: 'TusLibros' stamp: 'AF 6/12/2022 19:26:44'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice clientID saleContents bag smallInteger string saleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 19:26:44' prior: 50478918!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: aSmallInteger4 
	
	saleContents := aSaleContents.
	finalPrice := aFinalPrice.
	clientID := aClientID.
	saleID := aSmallInteger4.! !
!Sale methodsFor: 'initialization' stamp: 'AF 6/12/2022 19:26:54' prior: 50478936!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: aSaleID 
	
	saleContents := aSaleContents.
	finalPrice := aFinalPrice.
	clientID := aClientID.
	saleID := aSaleID.! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:27:04'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:27:04'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:27:04'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:27:04'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:27:04'!
ERROR!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:27:04'!
ERROR!
!Sale methodsFor: 'category-name' stamp: 'AF 6/12/2022 19:27:08'!
saleIDAAAAAAAAA
	self shouldBeImplemented.! !
!Sale methodsFor: 'category-name' stamp: 'AF 6/12/2022 19:27:14' prior: 50478971!
saleIDAAAAAAAAA
	
	^saleID ! !

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:27:15'!
FAILURE!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:27:41' prior: 50478655!
test05

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self deny: (sale1 saleIDAAAAAAAAA) = (sale2 saleIDAAAAAAAAA).
	! !

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:27:44'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:27:44'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:27:44'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:27:44'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:27:44'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:27:44'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:29:28'!
test06

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 expectedSaleOfClient |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	expectedSaleOfClient _ sale1.
	
	self assert: expectedSaleOfClient equals: (salesBook getSalesBy: testingUtils clientID1).
	! !

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:29:38'!
ERROR!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 19:29:45'!
getSalesBy: aString 
	self shouldBeImplemented.! !
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 19:29:59' prior: 50479057!
getSalesBy: aClientID
	
	^sales first! !

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:30:03'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:30:03'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:30:03'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:30:03'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:30:03'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:30:03'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:30:03'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:31:54'!
test07

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 expectedSaleOfClient |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	expectedSaleOfClient _ sale1.
	
	self assert: expectedSaleOfClient equals: (salesBook getSalesBy: testingUtils clientID1).
	! !
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:33:02' prior: 50479085!
test07

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 expectedSaleOfClient1 expectedSaleOfClient2 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2.
	
	expectedSaleOfClient1 _ sale1.
	expectedSaleOfClient2 _ sale2.
	
	self assert: expectedSaleOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).
	self assert: expectedSaleOfClient2 equals: (salesBook getSalesBy: testingUtils clientID1).
	! !
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:33:14' prior: 50479113!
test07

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 expectedSaleOfClient1 expectedSaleOfClient2 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2.
	
	expectedSaleOfClient1 _ sale1.
	expectedSaleOfClient2 _ sale2.
	
	self assert: expectedSaleOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).
	self assert: expectedSaleOfClient2 equals: (salesBook getSalesBy: testingUtils clientID2).
	! !

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:33:16'!
FAILURE!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 19:34:05' prior: 50479062!
getSalesBy: aClientID
	
	^sales do: [ :aSale | aSale]! !
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 19:34:59' prior: 50479189!
getSalesBy: aClientID
	
	^sales do: [ :aSale | (aSale clientID = aClientID) ifTrue:[ ^aSale ]]! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:35:00'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:35:00'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:35:00'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:35:00'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:35:00'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:35:00'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:35:00'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:35:44' prior: 50479150!
test07

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 expectedSalesOfClient1 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	expectedSalesOfClient1 _ OrderedCollection with: sale1 with: sale2.
	
	self assert: expectedSalesOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).! !

----End fileIn of /home/agus/Documents/ing1 2022/tusLibros-it3-preSale/Packages/TerseGuide.pck.st----!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 19:37:33' prior: 50479194!
getSalesBy: aClientID
	
	
	sales select: [ :aSale | (aSale clientID = aClientID)].
	! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:37:34'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:37:34'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:37:34'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:37:34'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:37:34'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:37:34'!
FAILURE!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:37:34'!
FAILURE!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:37:52' prior: 50479027!
test06

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 expectedSaleOfClient |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	expectedSaleOfClient _ OrderedCollection with: sale1.
	
	self assert: expectedSaleOfClient equals: (salesBook getSalesBy: testingUtils clientID1).
	! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:37:54'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:37:54'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:37:54'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:37:54'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:37:54'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:37:54'!
FAILURE!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:37:54'!
FAILURE!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:38:10'!
FAILURE!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 19:38:20' prior: 50482173!
getSalesBy: aClientID
	
	
	^sales select: [ :aSale | (aSale clientID = aClientID)].
	! !

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:38:21'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:38:21'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:38:21'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:38:21'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:38:21'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:38:21'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:38:21'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:33:14' prior: 50479219!
test07

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 expectedSaleOfClient1 expectedSaleOfClient2 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2.
	
	expectedSaleOfClient1 _ sale1.
	expectedSaleOfClient2 _ sale2.
	
	self assert: expectedSaleOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).
	self assert: expectedSaleOfClient2 equals: (salesBook getSalesBy: testingUtils clientID2).
	! !
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:38:53'!
test08

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 expectedSalesOfClient1 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	expectedSalesOfClient1 _ OrderedCollection with: sale1 with: sale2.
	
	self assert: expectedSalesOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).
	! !
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:39:04' prior: 50482273!
test07

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 expectedSaleOfClient1 expectedSaleOfClient2 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2.
	
	expectedSaleOfClient1 _ OrderedCollection with: sale1.
	expectedSaleOfClient2 _ OrderedCollection with: sale2.
	
	self assert: expectedSaleOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).
	self assert: expectedSaleOfClient2 equals: (salesBook getSalesBy: testingUtils clientID2).
	! !

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:39:05'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:39:05'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:39:05'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:39:05'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:39:05'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:39:05'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:39:05'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:39:05'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF 6/12/2022 19:39:05'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:39:41' prior: 50477705!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier testingUtils salesBook merchantProcessor sale |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1 .
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:39:44' prior: 50482405!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier testingUtils salesBook merchantProcessor sale |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 19:39:44'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 19:39:44'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 19:39:44'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 19:39:44'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:39:44'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:39:44'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:39:50' prior: 50477905!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice testingUtils salesBook merchantProcessor sale |
	
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 3.
	cart add: testingUtils book2 amount: 1.
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: sale total .
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 19:39:51'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 19:39:51'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 19:39:51'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 19:39:51'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:39:51'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:39:51'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:40:05' prior: 50476212!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier testingUtils salesBook merchantProcessor |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	self should: [cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:40:14' prior: 50476287!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier testingUtils salesBook purchase merchantProcessor |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:40:18' prior: 50476316!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier testingUtils salesBook purchase merchantProcessor |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!SalesBookTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:40:23' prior: 50477935!
test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook

	| salesBook cart cashier testingUtils purchase merchantProcessor sale |
	testingUtils _ TestingUtils new.	
	cart _ Cart with: testingUtils catalog.
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self assert: (salesBook hasRegistered: sale).
	self deny: salesBook isEmpty .
	! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 19:40:33'!
PASSED!

!methodRemoval: Cashier #checkout:with:on: stamp: 'AF 6/12/2022 19:40:37'!
checkout: aCart with: aCreditCard on: aDate
	
	| subtotal sale |
	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	subtotal _ aCart subtotal.
	
	merchantProcessorSimulator debit: subtotal from: aCreditCard on: aDate.
	
	sale _ salesBook addSaleWith: subtotal.	
	
	aCart clearContent.
	
	^sale!

!methodRemoval: Sale class #with:pricing:for: stamp: 'AF 6/12/2022 19:40:50'!
with: aSaleContents pricing: aFinalPrice for: aClientID 
	
	^self new initializeWith: aSaleContents pricing: aFinalPrice for: aClientID !

!methodRemoval: SalesBook #addSaleWith:for: stamp: 'AF 6/12/2022 19:41:14'!
addSaleWith: aFinalPrice for: aClientID 
	
	| sale |
	
	sale _ Sale with: aFinalPrice for: aClientID.
	sales add: sale.
	
	^sale.!

!methodRemoval: SalesBook #addSaleWith: stamp: 'AF 6/12/2022 19:41:17'!
addSaleWith: aFinalPrice 
	
	| sale |
	sale _ Sale with: aFinalPrice.
	sales add: sale.
	
	^sale.!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 19:41:30'!
PASSED!

!methodRemoval: SalesBook #add: stamp: 'AF 6/12/2022 19:41:36'!
add: aPurchaseBag

	sales add: aPurchaseBag!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 19:41:39'!
PASSED!

!methodRemoval: Sale #initializeWith: stamp: 'AF 6/12/2022 19:41:53'!
initializeWith: aFinalPrice 
	
	finalPrice := aFinalPrice.!

!methodRemoval: Sale #initializeWith:for: stamp: 'AF 6/12/2022 19:41:56'!
initializeWith: aFinalPrice for: aClientID 

	finalPrice := aFinalPrice.
	clientID := aClientID.!

!methodRemoval: Sale #initializeWith:pricing:for: stamp: 'AF 6/12/2022 19:41:57'!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID 
	.
	saleContents := aSaleContents.
	finalPrice := aFinalPrice.
	clientID := aClientID.!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 19:41:59'!
PASSED!

!methodRemoval: Sale class #initializeWith:pricing:for:identifyingBy: stamp: 'AF 6/12/2022 19:42:06'!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID  identifyingBy: aSaleID 
	
	^self new initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: aSaleID !

!methodRemoval: Sale class #with: stamp: 'AF 6/12/2022 19:42:07'!
with: aFinalPrice 
	
	^self new initializeWith: aFinalPrice !

!methodRemoval: Sale class #with:for: stamp: 'AF 6/12/2022 19:42:08'!
with: aFinalPrice for: aClientID 
	
	^self new initializeWith: aFinalPrice for: aClientID !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 19:42:10'!
PASSED!
!Sale class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 19:42:25' prior: 50478752!
with: aBag pricing: aSmallInteger for: aString identifyingBy: aSaleID 
	
	^self new initializeWith: aBag pricing: aSmallInteger for: aString identifyingBy: aSaleID ! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:53:50' prior: 50476700!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID cartID1 cartID2 transactionID1 transactionID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.
		
	transactionID1 _ systemFacade checkout: cartID with: testingUtils validCreditCard.
	transactionID2 _ systemFacade checkout: cartID with: testingUtils validCreditCard	.
	
	self deny: transactionID1 = transactionID2
	
	
	 
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 19:54:00' prior: 50483317!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 transactionID1 transactionID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.
		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	transactionID2 _ systemFacade checkout: cartID2 with: testingUtils validCreditCard	.
	
	self deny: transactionID1 = transactionID2
	
	
	 
	! !

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 19:54:04'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 19:58:17' prior: 50477324!
checkout: aCartID with: aCreditCard 
	
	| cart cashier |
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	cart _ carts at: aCartID.
	cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: TestingUtils new clientID1 .
	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 19:58:34' prior: 50483391!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale |
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	cart _ carts at: aCartID.
	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: TestingUtils new clientID1 .
	
	^sale saleID.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 19:58:37'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 19:58:37'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 19:58:37'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 19:58:37'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 19:58:37'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 19:58:37'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 19:58:37'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 19:58:37'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 19:58:37'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 19:58:37'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 19:58:37'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 19:58:37'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 19:58:37'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 19:59:01' prior: 50483411!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale |
	(carts includesKey: aCartID) ifFalse: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	cart _ carts at: aCartID.
	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: TestingUtils new clientID1 .
	
	^sale saleIDAAAAAAAAA.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 19:59:01'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 20:20:55'!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 transactionID1 transactionID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	self deny: transactionID1 = transactionID2
	
	
	 
	! !
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 20:22:26'!
finalPrice: aSubtotal

	^ aSubtotal! !
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 20:23:22' prior: 50478387!
checkout: aCart with: aCreditCard on: aDate for: aClientID 

	| sale finalPrice |
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	finalPrice _ self finalPrice: aCart subtotal.
	
	merchantProcessorSimulator debit: finalPrice from: aCreditCard on: aDate.
	
	
	sale _ salesBook addSaleWith: aCart content pricing: finalPrice for: aClientID.	
	
	aCart clearContent.
	
	^sale! !
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 20:23:26' prior: 50483546!
checkout: aCart with: aCreditCard on: aDate for: aClientID 

	| sale finalPrice |
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	finalPrice _ self finalPrice: aCart subtotal.
	
	merchantProcessorSimulator debit: finalPrice from: aCreditCard on: aDate.

	
	sale _ salesBook addSaleWith: aCart content pricing: finalPrice for: aClientID.	
	
	aCart clearContent.
	
	^sale! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 20:23:26'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 20:23:26'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 20:23:26'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 20:23:26'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 20:23:26'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 20:23:28'!
PASSED!
!Cashier methodsFor: 'checking out' stamp: 'AF 6/12/2022 20:23:46' prior: 50483565!
checkout: aCart with: aCreditCard on: aDate for: aClientID 

	| sale finalPrice |
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. 
	
	finalPrice _ self finalPrice: aCart subtotal.
	
	merchantProcessorSimulator debit: finalPrice from: aCreditCard on: aDate.
	
	sale _ salesBook addSaleWith: aCart content pricing: finalPrice for: aClientID.	
	
	aCart clearContent.
	
	^sale! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 20:36:53' prior: 50483512!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 transactionID1 expectedPurchase purchase |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase.
	
	 
	! !

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 20:37:09'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 20:37:13'!
listPurchasesOf: aString withPassword: aString2 
	self shouldBeImplemented.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 20:38:37' prior: 50483778!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchase clientPurchases |
	clientPurchases _ salesBook getSalesBy: aClientID.
	
	^ clientPurchase first content
	! !

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 20:38:46'!
ERROR!

sales!

Sale!

self first!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 20:40:07'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 20:40:08'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 20:40:08'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 20:40:08'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 20:40:20' prior: 50483784!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases |
	clientPurchases _ salesBook getSalesBy: aClientID.
	
	^ clientPurchases first content
	! !

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 20:40:22'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 20:44:33'!
test14

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 transactionID1 expectedPurchase purchase |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase.
	
	 
	! !

bag1 _ Bag new.
bag1 add: 10 withOccurrences: 100.

bag2 _ Bag new.
bag2 add: 10 withOccurrences: 100.
bag2 add: 11 withOccurrences: 1.

bag1 addAll: bag2!

bag1!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 20:51:31' prior: 50483848!
test14

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 transactionID1 expectedPurchase purchase cartID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.	
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	transactionID1 _ systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag new.
	expectedPurchase add: testingUtils book withOccurrences: 2.
	expectedPurchase add: testingUtils book2 withOccurrences: 1.
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase.
	
	 
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 20:52:04' prior: 50483886!
test14

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase cartID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.	
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag new.
	expectedPurchase add: testingUtils book withOccurrences: 2.
	expectedPurchase add: testingUtils book2 withOccurrences: 1.
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase.
	
	 
	! !

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 20:52:07'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 20:54:20' prior: 50483806!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient |
	
	clientPurchases _ salesBook getSalesBy: aClientID.
	productsBoughtByClient _ Bag new.
	
	clientPurchases do:[ :aSale | productsBoughtByClient addAll: aSale content].
	
	^ productsBoughtByClient. 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 20:54:23'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 20:58:48'!
test15

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 transactionID1 expectedPurchase purchase expectedTotalAmmount testingutils |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	expectedTotalAmmount _ testingutils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase.
	
	 
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 20:58:56' prior: 50484025!
test15

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase expectedTotalAmmount testingutils |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	expectedTotalAmmount _ testingutils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase.
	
	 
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:02:37' prior: 50484060!
test15

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase expectedTotalAmmount testingutils |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	expectedTotalAmmount _ testingUtils catalog at: testingUtils book..
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	self assert: expectedPurchase equals: purchase value.
	 
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:02:42' prior: 50484094!
test15

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase expectedTotalAmmount |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	expectedTotalAmmount _ testingUtils catalog at: testingUtils book..
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	self assert: expectedTotalAmmount equals: purchase value.
	 
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:02:49' prior: 50484131!
test15

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase expectedTotalAmmount |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	expectedTotalAmmount _ testingUtils catalog at: testingUtils book..
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	self assert: expectedTotalAmmount equals: purchase value.
	 
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:04:06' prior: 50483979!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient totalPRice |
	
	clientPurchases _ salesBook getSalesBy: aClientID.
	productsBoughtByClient _ Bag new.
	totalPRice _ 0.
	clientPurchases do:[ :aSale | | totalPrice | 
		productsBoughtByClient addAll: aSale content.
		totalPrice _ aSale total.
	].
	
	^ productsBoughtByClient. 
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:04:21' prior: 50484204!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient totalPrice |
	
	clientPurchases _ salesBook getSalesBy: aClientID.
	productsBoughtByClient _ Bag new.
	totalPrice _ 0.
	clientPurchases do:[ :aSale |
		productsBoughtByClient addAll: aSale content.
		totalPrice _ aSale total.
	].
	
	^ productsBoughtByClient. 
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:04:33' prior: 50484219!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient totalPrice |
	
	clientPurchases _ salesBook getSalesBy: aClientID.
	productsBoughtByClient _ Bag new.
	totalPrice _ 0.
	clientPurchases do:[ :aSale |
		productsBoughtByClient addAll: aSale content.
		totalPrice _ totalPrice + aSale total.
	].
	
	^ productsBoughtByClient. 
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:05:03' prior: 50484234!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient totalPrice |
	
	clientPurchases _ salesBook getSalesBy: aClientID.
	productsBoughtByClient _ Bag new.
	totalPrice _ 0.
	clientPurchases do:[ :aSale |
		productsBoughtByClient addAll: aSale content.
		totalPrice _ totalPrice + aSale total.
	].
	
	^ productsBoughtByClient -> totalPrice. 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:05:05'!
FAILURE!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:05:05'!
FAILURE!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:05:05'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:05:32' prior: 50483743!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 transactionID1 expectedPurchase purchase |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase key equals: purchase.
	
	 
	! !

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:05:36'!
ERROR!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:05:47' prior: 50484301!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 transactionID1 expectedPurchase purchase |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:05:48'!
FAILURE!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:05:48'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:05:48'!
FAILURE!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:06:05' prior: 50484336!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 transactionID1 expectedPurchase purchase |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	 systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:06:07' prior: 50484410!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:06:08'!
FAILURE!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:06:08'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:06:08'!
FAILURE!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:06:22' prior: 50483932!
test14

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase cartID2 |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.	
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag new.
	expectedPurchase add: testingUtils book withOccurrences: 2.
	expectedPurchase add: testingUtils book2 withOccurrences: 1.
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:06:23'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:09:19'!
test16

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase expectedTotalAmmount |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	expectedTotalAmmount _ testingUtils catalog at: testingUtils book..
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	 
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:12:22' prior: 50484598!
test16

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.

	self should: [ systemFacade listPurchasesOf: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	 
	! !

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:12:28'!
FAILURE!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:12:57' prior: 50484631!
test16

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.

	self should: [ systemFacade listPurchasesOf: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemAuthenticator invalidCredentialsErrorDescription equals: anError messageText ]
	 
	! !

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:12:59'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:13:20' prior: 50484249!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient totalPrice |
	
	systemAuthenticator authenticate: aClientID with: aPassword.
	
	clientPurchases _ salesBook getSalesBy: aClientID.
	productsBoughtByClient _ Bag new.
	totalPrice _ 0.
	clientPurchases do:[ :aSale |
		productsBoughtByClient addAll: aSale content.
		totalPrice _ totalPrice + aSale total.
	].
	
	^ productsBoughtByClient -> totalPrice. 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:13:21'!
PASSED!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:15:27' prior: 50484660!
test16

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.

	self should: [ systemFacade listPurchasesOf: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	 
	! !
!SystemAuthenticator methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:16:00' prior: 50477268!
authenticate: aClientID with: aPassword
	
	^self assert: aClientID isRegisteredWith: aPassword! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:16:31' prior: 50477335!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn |
	(systemAuthenticator authenticate: aClientID with: aPassword) ifFalse: [self error: SystemAuthenticator invalidCredentialsErrorDescription].

	cartIDToReturn _ self idForNewCart. 
	carts at: cartIDToReturn put: (Cart with: catalog).
	
	^cartIDToReturn.	
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:16:31'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:16:31'!
FAILURE!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:16:31'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:16:42' prior: 50484777!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn |
	(systemAuthenticator authenticate: aClientID with: aPassword) ifFalse: [self error: SystemFacade invalidCredentialsErrorDescription].

	cartIDToReturn _ self idForNewCart. 
	carts at: cartIDToReturn put: (Cart with: catalog).
	
	^cartIDToReturn.	
	! !
!SystemFacade class methodsFor: 'error descriptions' stamp: 'AF 6/12/2022 21:16:52'!
invalidCredentialsErrorDescription
	
	^'invalid ID or password'! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:16:58'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:16:58'!
FAILURE!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:16:58'!
FAILURE!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:17:24'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:17:24'!
FAILURE!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:17:24'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:17:51' prior: 50484688!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient totalPrice |
	
	(systemAuthenticator authenticate: aClientID with: aPassword) ifFalse: [self error: SystemFacade invalidCredentialsErrorDescription]..
	
	clientPurchases _ salesBook getSalesBy: aClientID.
	productsBoughtByClient _ Bag new.
	totalPrice _ 0.
	clientPurchases do:[ :aSale |
		productsBoughtByClient addAll: aSale content.
		totalPrice _ totalPrice + aSale total.
	].
	
	^ productsBoughtByClient -> totalPrice. 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:17:52'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF 6/12/2022 21:18:00' prior: 50476557!
test01

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:18:00'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'AF 6/12/2022 21:18:04' prior: 50476576!
test02

	| systemFacade systemAuthenticator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:18:04'!
PASSED!

!methodRemoval: SystemAuthenticator class #invalidCredentialsErrorDescription stamp: 'AF 6/12/2022 21:18:13'!
invalidCredentialsErrorDescription
	
	^'invalid ID or password'!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:27:08'!
test17

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils book.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils book.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils book2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils book2.
	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	! !
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:27:24' prior: 50485117!
test17

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils book.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils book.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils book2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils book2.
	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	! !

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:27:30'!
FAILURE!

!classDefinition: #CartSession category: 'TusLibros' stamp: 'AF 6/12/2022 21:32:59'!
Object subclass: #CartSession
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'AF 6/12/2022 21:33:19'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator carts currentCartId catalog salesBook merchantProcessorSimulator cartSessions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:32:55' prior: 50484832!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn cartSession |
	(systemAuthenticator authenticate: aClientID with: aPassword) ifFalse: [self error: SystemFacade invalidCredentialsErrorDescription].
	
	cartIDToReturn _ self idForNewCart.
	cartSession _ CartSession with: (Cart with: catalog) identifyingAs: cartIDToReturn of: aClientID.
	cartSessions add: cartSession.
	
	^cartIDToReturn.	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:36:42' prior: 50483463!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(carts at: aCartID) isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	cart _ cartSessions cart.
	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: TestingUtils new clientID1 .
	
	^sale saleIDAAAAAAAAA.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:37:16' prior: 50477311!
add: aBook amount: anAmount to: aCartID

	(carts includesKey: aCartID ) ifFalse: [ self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription ].
	(catalog includesKey: aBook ) ifFalse: [ self error: SystemFacade cannotAddBooksNotInCatalogErrorDescription ].
	(carts at: aCartID) add: aBook amount: anAmount 
	! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:37:16'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:37:16'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:37:43' prior: 50485298!
add: aBook amount: anAmount to: aCartID

	| cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	(catalog includesKey: aBook ) ifFalse: [ self error: SystemFacade cannotAddBooksNotInCatalogErrorDescription ].
	cartSession cart add: aBook amount: anAmount 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:37:46'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:37:46'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:37:46'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:37:46'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:37:48'!
ERROR!
!CartSession class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 21:37:54'!
with: aCart identifyingAs: aSmallInteger of: aString 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aCart identifyingAs: aSmallInteger of: aString ! !
!CartSession class methodsFor: 'instance creation' stamp: 'AF 6/12/2022 21:38:21' prior: 50485501!
with: aCart identifyingAs: aCartID of: aClientID 
	
	^self new initializeWith: aCart identifyingAs: aCartID of: aClientID ! !

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:38:22'!
ERROR!

!classDefinition: #CartSession category: 'TusLibros' stamp: 'AF 6/12/2022 21:38:30'!
Object subclass: #CartSession
	instanceVariableNames: 'cart'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartSession category: 'TusLibros' stamp: 'AF 6/12/2022 21:38:30'!
Object subclass: #CartSession
	instanceVariableNames: 'cart cartID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #CartSession category: 'TusLibros' stamp: 'AF 6/12/2022 21:38:30'!
Object subclass: #CartSession
	instanceVariableNames: 'cart cartID clientID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartSession methodsFor: 'initialization' stamp: 'AF 6/12/2022 21:38:30'!
initializeWith: aCart identifyingAs: aCartID of: aClientID 
	self shouldBeImplemented.
	cart := aCart.
	cartID := aCartID.
	clientID := aClientID.! !
!CartSession methodsFor: 'initialization' stamp: 'AF 6/12/2022 21:38:37' prior: 50485542!
initializeWith: aCart identifyingAs: aCartID of: aClientID 

	cart := aCart.
	cartID := aCartID.
	clientID := aClientID.! !

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:38:38'!
ERROR!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:39:14'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:39:15'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:39:15'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:39:15'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:39:16'!
ERROR!
!SystemFacade methodsFor: 'initialization' stamp: 'AF 6/12/2022 21:39:59' prior: 50477377!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	
	currentCartId _ 1.
	carts _ Dictionary new.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:40:00'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:40:00'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:40:00'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:40:00'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:40:00'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:40:02'!
ERROR!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:40:17'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:40:17'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:40:17'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:40:17'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:40:17'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:40:19'!
ERROR!
!SystemFacade methodsFor: 'initialization' stamp: 'AF 6/12/2022 21:40:28' prior: 50485602!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	
	currentCartId _ 1.
	carts _ Dictionary new.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:40:49'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:40:49'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:40:49'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:40:49'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:40:49'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:40:50'!
ERROR!
!SystemFacade methodsFor: 'initialization' stamp: 'AF 6/12/2022 21:41:09' prior: 50477368!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog 

	currentCartId _ 1.
	carts _ Dictionary new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	cartSessions _ OrderedCollection new.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:41:12'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:41:12'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:41:12'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:41:12'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:41:12'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:41:12'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:41:12'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:41:12'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:41:12'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:41:12'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:41:12'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:41:12'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:41:12'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:41:12'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:41:12'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:41:12'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:41:12'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:41:14'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:42:26' prior: 50477353!
listCart: aCartID 
	
	| cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	^ cartSession cart content.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:42:28'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:42:28'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:42:28'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:42:28'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:42:28'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:42:28'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:42:30'!
ERROR!
!CartSession methodsFor: 'initialization' stamp: 'AF 6/12/2022 21:42:34'!
cartID
	self shouldBeImplemented.
	^cartID! !
!CartSession methodsFor: 'initialization' stamp: 'AF 6/12/2022 21:42:36' prior: 50485867!
cartID
	
	^cartID! !

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:42:38'!
ERROR!
!CartSession methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:42:44'!
cart
	self shouldBeImplemented.
	^cart! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:42:47' prior: 50485878!
cart
	
	^cart! !

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:42:48'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:42:50'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:42:50'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:42:50'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:42:50'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:42:50'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:42:50'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:42:50'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:42:50'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:42:50'!
FAILURE!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:42:50'!
FAILURE!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:42:50'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:42:50'!
FAILURE!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:42:50'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:42:50'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:42:50'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:42:50'!
ERROR!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:42:50'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:42:51'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:43:18' prior: 50485814!
listCart: aCartID 
	
	| cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantListAnInvalidCartIdErrorDescription ].
	^ cartSession cart content.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:43:18'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:43:18'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:43:18'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:43:18'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:43:18'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:43:18'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:43:18'!
FAILURE!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:43:18'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:43:18'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:43:18'!
FAILURE!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:43:18'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:43:18'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:43:18'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:43:18'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:43:18'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:43:18'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:43:18'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:43:37' prior: 50485443!
add: aBook amount: anAmount to: aCartID

	| cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription ].
	(catalog includesKey: aBook ) ifFalse: [ self error: SystemFacade cannotAddBooksNotInCatalogErrorDescription ].
	cartSession cart add: aBook amount: anAmount 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:43:37'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:43:37'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:43:37'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:43:37'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:43:37'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:43:37'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:43:37'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:43:37'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:43:37'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:43:37'!
FAILURE!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:43:37'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:43:37'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:43:37'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:43:37'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:43:37'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:43:37'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:43:37'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:43:39'!
FAILURE!

cartSessions!

self first!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:48:05' prior: 50485275!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cartSession cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	cart _ cartSessions cart.
	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: TestingUtils new clientID1 .
	
	^sale saleIDAAAAAAAAA.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:48:33' prior: 50486045!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSessions cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	

	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: TestingUtils new clientID1 .
	
	^sale saleIDAAAAAAAAA.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:48:34'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:48:34'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:48:34'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:48:34'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:48:34'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:48:34'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:48:34'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:48:34'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:48:34'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:48:34'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:48:34'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:48:34'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:48:34'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:48:34'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:48:34'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:48:34'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:48:34'!
ERROR!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:48:40' prior: 50486068!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSessions cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	

	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: TestingUtils new clientID1 .
	
	^sale saleIDAAAAAAAAA.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:48:51' prior: 50486131!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	

	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: TestingUtils new clientID1 .
	
	^sale saleIDAAAAAAAAA.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:48:52'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:48:52'!
FAILURE!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:48:52'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:49:12' prior: 50486154!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	

	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: cartSession clientID .
	
	^sale saleIDAAAAAAAAA.! !

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:49:14'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:49:14'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:49:14'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:49:14'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:49:14'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:49:14'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:49:22'!
ERROR!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:49:39'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:49:39'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:49:39'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:49:39'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:49:39'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:49:39'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:49:40'!
ERROR!
!CartSession methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:49:44'!
clientID
	self shouldBeImplemented.
	^clientID! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'AF 6/12/2022 21:49:46' prior: 50486328!
clientID
	
	^clientID! !

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:49:48'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:49:49'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:49:49'!
FAILURE!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:49:49'!
FAILURE!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:50:22'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:50:22'!
FAILURE!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:50:22'!
FAILURE!
!SystemFacadeTest methodsFor: 'testing' stamp: 'AF 6/12/2022 21:51:25' prior: 50485178!
test17

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils book.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils book.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils book2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils book2.
	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID2 withPassword: testingUtils password2.
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	! !

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:51:26'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'AF 6/12/2022 21:51:28'!
PASSED!

----STARTUP---- (12 June 2022 22:15:20) as /home/jerodacunda/Escritorio/10-TusLibros3/3/linux64/CuisUniversity-5096.image!


----End fileIn of /home/jerodacunda/Descargas/TusLibros-checkpoint-cartSessionAntesDeQueElCartSessionExpire.st----!

!classDefinition: #Sale category: 'TusLibros' stamp: 'JDR 6/12/2022 22:18:50'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice clientID saleContents smallInteger string saleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'JDR 6/12/2022 22:18:50'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice clientID saleContents string saleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!classDefinition: #Sale category: 'TusLibros' stamp: 'JDR 6/12/2022 22:18:50'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice clientID saleContents saleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!methodRemoval: SystemFacade #initializeAuthenticatingWith: stamp: 'JDR 6/12/2022 22:27:38'!
initializeAuthenticatingWith: aXXXAuthenticator 
	
	currentCartId _ 1.
	carts _ Dictionary new.
	systemAuthenticator := aXXXAuthenticator.!

!methodRemoval: SystemFacade class #authenticatingWith: stamp: 'JDR 6/12/2022 22:27:41'!
authenticatingWith: aXXXAuthenticator 

	^self new initializeAuthenticatingWith: aXXXAuthenticator !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:38:40'!
PASSED!
!SystemFacade methodsFor: 'initialization' stamp: 'JDR 6/12/2022 22:38:57' prior: 50475917!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog 

	currentCartId _ 1.	
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	cartSessions _ OrderedCollection new.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:38:57'!
PASSED!
!SystemFacade methodsFor: 'initialization' stamp: 'JDR 6/12/2022 22:39:03' prior: 50475927!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:39:03'!
PASSED!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'JDR 6/12/2022 22:39:28'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator currentCartId catalog salesBook merchantProcessorSimulator cartSessions'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/12/2022 22:44:49' prior: 50475120!
test01

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:44:54'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/12/2022 22:45:04' prior: 50475139!
test02

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:45:05'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/12/2022 22:45:15' prior: 50475158!
test03

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:45:20'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/12/2022 22:46:09' prior: 50475173!
test04

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self assert: (cartID1 = cartID2) not! !

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:46:18'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/12/2022 22:47:27' prior: 50475022!
test05

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.! !

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:47:29'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/12/2022 22:47:40' prior: 50475039!
test06

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:47:43'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/12/2022 22:47:49' prior: 50475071!
test07

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:47:51'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/12/2022 22:47:58' prior: 50475092!
test09

	| systemFacade systemAuthenticator cartID merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils unregisteredBook amount: 1 to: cartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddBooksNotInCatalogErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:47:59'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:47:59'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:47:59'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:47:59'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:47:59'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:47:59'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:48:00'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/12/2022 22:48:10' prior: 50475190!
test08

	| systemFacade systemAuthenticator merchantProcessor salesBook |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: testingUtils invalidCartID ]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:48:12'!
PASSED!

!methodRemoval: SystemFacade class #authenticatingWith:with: stamp: 'JDR 6/12/2022 22:49:02'!
authenticatingWith: aSystemAuthenticator with: aCatalog 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog !

!methodRemoval: SystemFacade #initializeAuthenticatingWith:with: stamp: 'JDR 6/12/2022 22:49:05'!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog 

	currentCartId _ 1.	
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	cartSessions _ OrderedCollection new.!
!Sale methodsFor: 'initialization' stamp: 'JDR 6/12/2022 22:53:17'!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingAs: aSaleID 
	
	saleContents := aSaleContents.
	finalPrice := aFinalPrice.
	clientID := aClientID.
	saleID := aSaleID.! !
!Sale class methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 22:53:17' prior: 50475697!
with: aBag pricing: aSmallInteger for: aString identifyingBy: aSaleID 
	
	^self new initializeWith: aBag pricing: aSmallInteger for: aString identifyingAs: aSaleID ! !

!methodRemoval: Sale #initializeWith:pricing:for:identifyingBy: stamp: 'JDR 6/12/2022 22:53:17'!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: aSaleID 
	
	saleContents := aSaleContents.
	finalPrice := aFinalPrice.
	clientID := aClientID.
	saleID := aSaleID.!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 22:53:20'!
PASSED!
!Sale methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:06:06'!
transactionID
	
	^saleID ! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:06:06' prior: 50475836!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	

	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: cartSession clientID .
	
	^sale transactionID.! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:06:06' prior: 50474597!
test05

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self deny: (sale1 transactionID) = (sale2 transactionID).
	! !

!methodRemoval: Sale #saleIDAAAAAAAAA stamp: 'JDR 6/12/2022 23:06:06'!
saleIDAAAAAAAAA
	
	^saleID !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 23:06:10'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 23:06:11'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 23:06:11'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 23:06:11'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 23:06:11'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 23:06:11'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 23:06:11'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 23:06:11'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 23:06:11'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 23:06:11'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 23:06:11'!
PASSED!

!classDefinition: #Sale category: 'TusLibros' stamp: 'JDR 6/12/2022 23:06:16'!
Object subclass: #Sale
	instanceVariableNames: 'finalPrice clientID saleContents transactionID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Sale methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:06:16' prior: 50478115!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingAs: aSaleID 
	
	saleContents := aSaleContents.
	finalPrice := aFinalPrice.
	clientID := aClientID.
	transactionID := aSaleID.! !
!Sale methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:06:16' prior: 50478275!
transactionID
	
	^transactionID ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 23:06:18'!
PASSED!
!Sale class methodsFor: 'instance creation' stamp: 'JDR 6/12/2022 23:08:03' prior: 50478125!
with: aBag pricing: aSmallInteger for: aString identifyingBy: atransactionID 
	
	^self new initializeWith: aBag pricing: aSmallInteger for: aString identifyingAs: atransactionID ! !
!Sale methodsFor: 'initialization' stamp: 'JDR 6/12/2022 23:08:08' prior: 50478476!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingAs: atransactionID 
	
	saleContents := aSaleContents.
	finalPrice := aFinalPrice.
	clientID := aClientID.
	transactionID := atransactionID.! !
!Sale methodsFor: 'initialization' stamp: 'JDR 6/12/2022 23:08:12' prior: 50478633!
initializeWith: aSaleContents pricing: aFinalPrice for: aClientID identifyingAs: aTransactionID 
	
	saleContents := aSaleContents.
	finalPrice := aFinalPrice.
	clientID := aClientID.
	transactionID := aTransactionID.! !
!Sale class methodsFor: 'instance creation' stamp: 'JDR 6/12/2022 23:08:18' prior: 50478624!
with: aBag pricing: aSmallInteger for: aString identifyingBy: aTransactionID 
	
	^self new initializeWith: aBag pricing: aSmallInteger for: aString identifyingAs: aTransactionID ! !

!classDefinition: #TimeROBERTOSimulator category: 'TusLibros' stamp: 'JDR 6/12/2022 23:18:05'!
Object subclass: #TimeROBERTOSimulator
	instanceVariableNames: ''
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/12/2022 23:17:08'!
test18

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorROBERTO |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorROBERTO _ TimeROBERTOSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorROBERTO.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorROBERTO thirtyMinutesPassed.	
	
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotListAnExpiredCartErrorDescription equals: anError messageText ]! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:18:17'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:18:17'!
ERROR!
!SystemFacade class methodsFor: 'instance creation' stamp: 'JDR 6/12/2022 23:18:33'!
authenticatingWith: aSystemAuthenticator with: aDictionary registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: aTimeROBERTOSimulator 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aDictionary registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: aTimeROBERTOSimulator ! !
!SystemFacade class methodsFor: 'instance creation' stamp: 'JDR 6/12/2022 23:19:21' prior: 50478705!
authenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: aTimeROBERTOSimulator 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: aTimeROBERTOSimulator ! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:19:28'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:19:28'!
ERROR!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'JDR 6/12/2022 23:19:33'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator currentCartId catalog salesBook merchantProcessorSimulator cartSessions timeROBERTOSimulator'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'initialization' stamp: 'JDR 6/12/2022 23:19:33'!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: aTimeROBERTOSimulator 
	self shouldBeImplemented.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timeROBERTOSimulator := aTimeROBERTOSimulator.! !
!SystemFacade methodsFor: 'initialization' stamp: 'JDR 6/12/2022 23:19:49' prior: 50478752!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: aTimeROBERTOSimulator 
	
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timeROBERTOSimulator := aTimeROBERTOSimulator.! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:19:52'!
ERROR!
!SystemFacade methodsFor: 'initialization' stamp: 'JDR 6/12/2022 23:20:23' prior: 50478768!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: aTimeROBERTOSimulator 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timeROBERTOSimulator := aTimeROBERTOSimulator.! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:20:36'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:20:36'!
ERROR!
!TimeROBERTOSimulator methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:20:41'!
thirtyMinutesPassed
	self shouldBeImplemented.! !
!CartSession class methodsFor: 'nil' stamp: 'JDR 6/12/2022 23:22:47'!
cannotListAnExpiredCartErrorDescription

	^'cannot list an expired cart'! !
!TimeROBERTOSimulator methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:23:26' prior: 50478808!
thirtyMinutesPassed! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:25:13' prior: 50475881!
listCart: aCartID 
	
	| cartSession |
	cartSession _ cartSessions detect: [ :aCartSession | aCartSession cartID = aCartID ] ifNone: [self error: SystemFacade cantListAnInvalidCartIdErrorDescription ].
	^ cartSession cart content.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:31:58' prior: 50478822!
listCart: aCartID 
	
	| cartSession |	
	cartSession _ cartSessions detect: [ :aCartSession | aCartSession cartID = aCartID ] ifNone: [self error: SystemFacade cantListAnInvalidCartIdErrorDescription ].
	(timeROBERTOSimulator isCartExpired: aCartID) ifTrue: [ self error: CartSession cannotListAnExpiredCartErrorDescription ].
	
	^ cartSession cart content.! !

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'JDR 6/12/2022 23:32:10'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator currentCartId catalog salesBook merchantProcessorSimulator cartSessions timeSimulatorAAAAA'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:32:10' prior: 50478833!
listCart: aCartID 
	
	| cartSession |	
	cartSession _ cartSessions detect: [ :aCartSession | aCartSession cartID = aCartID ] ifNone: [self error: SystemFacade cantListAnInvalidCartIdErrorDescription ].
	(timeSimulatorAAAAA isCartExpired: aCartID) ifTrue: [ self error: CartSession cannotListAnExpiredCartErrorDescription ].
	
	^ cartSession cart content.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:32:10' prior: 50478786!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: aTimeROBERTOSimulator 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timeSimulatorAAAAA := aTimeROBERTOSimulator.! !

!classRenamed: #TimeROBERTOSimulator as: #TimeSimulatorAAAA stamp: 'JDR 6/12/2022 23:32:31'!
Smalltalk renameClassNamed: #TimeROBERTOSimulator as: #TimeSimulatorAAAA!
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:32:31' prior: 50478669!
test18

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorROBERTO |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorROBERTO _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorROBERTO.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorROBERTO thirtyMinutesPassed.	
	
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotListAnExpiredCartErrorDescription equals: anError messageText ]! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/12/2022 23:32:47' prior: 50478896!
test18

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA thirtyMinutesPassed.	
	
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotListAnExpiredCartErrorDescription equals: anError messageText ]! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:34:00' prior: 50478858!
listCart: aCartID 
	
	| cartSession |	
	cartSession _ cartSessions detect: [ :aCartSession | aCartSession cartID = aCartID ] ifNone: [self error: SystemFacade cantListAnInvalidCartIdErrorDescription ].
	(cartSession isExpired) ifTrue: [ self error: CartSession cannotListAnExpiredCartErrorDescription ].
	
	^ cartSession cart content.! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:34:42'!
ERROR!
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:34:51'!
isExpired
	self shouldBeImplemented.! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:35:08' prior: 50478975!
isExpired
	^true! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 23:35:10'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 23:35:10'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 23:35:10'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:35:10'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 23:35:16'!
ERROR!
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:38:13' prior: 50478980!
isExpired
	
	| timeSimulatorAAAA |
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	
	! !
!SystemFacade methodsFor: 'initialization' stamp: 'JDR 6/12/2022 23:40:17' prior: 50478873!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: atimeSimulatorAAAAA 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timeSimulatorAAAAA := atimeSimulatorAAAAA.! !
!SystemFacade class methodsFor: 'instance creation' stamp: 'JDR 6/12/2022 23:40:35' prior: 50478723!
authenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: atimeSimulatorAAAAA 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: atimeSimulatorAAAAA ! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:46:41' prior: 50475858!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn cartSession |
	(systemAuthenticator authenticate: aClientID with: aPassword) ifFalse: [self error: SystemFacade invalidCredentialsErrorDescription].
	
	cartIDToReturn _ self idForNewCart.
	cartSession _ CartSession with: (Cart with: catalog) identifyingAs: cartIDToReturn of: aClientID createdOn: timeSimulatorAAAAA now.
	cartSessions add: cartSession.
	
	^cartIDToReturn.	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:47:46' prior: 50478959!
listCart: aCartID 
	
	| cartSession |	
	cartSession _ cartSessions detect: [ :aCartSession | aCartSession cartID = aCartID ] ifNone: [self error: SystemFacade cantListAnInvalidCartIdErrorDescription ].
	(cartSession isExpiredOn: timeSimulatorAAAAA now) ifTrue: [ self error: CartSession cannotListAnExpiredCartErrorDescription ].
	
	^ cartSession cart content.! !

!classDefinition: #TimeSimulatorAAAA category: 'TusLibros' stamp: 'JDR 6/12/2022 23:48:38'!
Object subclass: #TimeSimulatorAAAA
	instanceVariableNames: 'jJUIA'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:48:36'!
now

	^jJUIA! !
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:48:48' overrides: 16920235!
initialize

	jJUIA _ false.! !
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:48:55' prior: 50478818!
thirtyMinutesPassed

	jJUIA _ true.! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:49:28'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:49:28'!
ERROR!
!CartSession class methodsFor: 'instance creation' stamp: 'JDR 6/12/2022 23:49:34'!
with: aCart identifyingAs: aSmallInteger of: aString createdOn: aFalse 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeWith: aCart identifyingAs: aSmallInteger of: aString createdOn: aFalse ! !
!CartSession class methodsFor: 'instance creation' stamp: 'JDR 6/12/2022 23:50:22' prior: 50479129!
with: aCart identifyingAs: aCartID of: aClientID createdOn: aDateTime 
	
	^self new initializeWith: aCart identifyingAs: aCartID of: aClientID createdOn: aDateTime

	! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:50:28'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:50:28'!
ERROR!

!classDefinition: #CartSession category: 'TusLibros' stamp: 'JDR 6/12/2022 23:50:33'!
Object subclass: #CartSession
	instanceVariableNames: 'cart cartID clientID dateTime'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartSession methodsFor: 'initialization' stamp: 'JDR 6/12/2022 23:50:33'!
initializeWith: aCart identifyingAs: aCartID of: aClientID createdOn: aDateTime 
	self shouldBeImplemented.
	cart := aCart.
	cartID := aCartID.
	clientID := aClientID.
	dateTime := aDateTime.! !

!classDefinition: #CartSession category: 'TusLibros' stamp: 'JDR 6/12/2022 23:51:01'!
Object subclass: #CartSession
	instanceVariableNames: 'cart cartID clientID dateTime kHVV'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartSession methodsFor: 'initialization' stamp: 'JDR 6/12/2022 23:50:58' prior: 50479162!
initializeWith: aCart identifyingAs: aCartID of: aClientID createdOn: aDateTime 
	
	cart := aCart.
	cartID := aCartID.
	clientID := aClientID.
	kHVV := aDateTime.! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:51:03'!
ERROR!
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:51:12'!
isExpiredOn: aTrue 
	self shouldBeImplemented.! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:51:59' prior: 50479190!
isExpiredOn: aDateTime
	
	^aDateTime! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:52:01'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:52:05'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 23:52:08'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:52:08'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 23:52:17'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 23:53:00'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 23:53:00'!
ERROR!

!methodRemoval: CartSession #isExpired stamp: 'JDR 6/12/2022 23:53:28'!
isExpired
	
	| timeSimulatorAAAA |
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	
	!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/12/2022 23:54:22' prior: 50476955!
test03

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA..
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/12/2022 23:54:26'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/12/2022 23:54:26'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/12/2022 23:54:32' prior: 50479355!
test03

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/12/2022 23:58:39' prior: 50479089!
listCart: aCartID 
	
	| cartSession |	
	cartSession _ cartSessions detect: [ :aCartSession | aCartSession cartID = aCartID ] ifNone: [self error: SystemFacade cantListAnInvalidCartIdErrorDescription ].
	(cartSession isExpiredOn: timeSimulatorAAAAA now) ifTrue: [ self error: CartSession cannotListAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timeSimulatorAAAAA now.
	^ cartSession cart content.! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:02:30'!
test19

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA tenMinutesPassed.		
	systemFacade listCart: cartID.
	
	timeSimulatorAAAA twentyFiveMinutesPassed.	
	systemFacade listCart: cartID.
	! !

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 00:02:34'!
ERROR!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 00:02:34'!
ERROR!
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:02:50'!
tenMinutesPassed
	self shouldBeImplemented.! !
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:02:52' prior: 50479592!
tenMinutesPassed
	! !

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 00:02:55'!
ERROR!
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:03:02'!
updateLastInteraction: aFalse 
	self shouldBeImplemented.! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:03:55' prior: 50479603!
updateLastInteraction: aDateTime

	kHVV _ aDateTime
	
	! !

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 00:03:56'!
ERROR!
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:04:10'!
twentyFiveMinutesPassed
	self shouldBeImplemented.! !
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:04:14' prior: 50479615!
twentyFiveMinutesPassed
	! !

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 00:04:16'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 00:04:19'!
PASSED!

!classDefinition: #CartSession category: 'TusLibros' stamp: 'JDR 6/13/2022 00:04:40'!
Object subclass: #CartSession
	instanceVariableNames: 'cart cartID clientID kHVV'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 00:04:57'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:07:10' prior: 50478928!
test18

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 30.	
	
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotListAnExpiredCartErrorDescription equals: anError messageText ]! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:07:12'!
ERROR!
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:07:17'!
minutesPassed: aSmallInteger 
	self shouldBeImplemented.! !
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:09:16' prior: 50479672!
minutesPassed: anAmountOfMinutes
	
	jJUIA _ jJUIA + anAmountOfMinutes .! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:09:17'!
ERROR!
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:09:48' prior: 50479115 overrides: 16920235!
initialize

	jJUIA _ 0.! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:14:23' prior: 50479195!
isExpiredOn: aDateTime
	
	^(aDateTime >= kHVV + 30)  ! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:14:27'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:14:27'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:14:42'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:14:42'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:15:19'!
ERROR!
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:15:38' prior: 50479691!
isExpiredOn: aDateTime
	
	^aDateTime >= (kHVV + 30)  ! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:15:43'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 00:15:45'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:16:07' prior: 50479559!
test19

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10.		
	systemFacade listCart: cartID.
	
	timeSimulatorAAAA minutesPassed: 25.	
	systemFacade listCart: cartID.
	! !

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 00:16:10'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:19:03'!
test20

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 25.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	! !

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 00:19:05'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:19:58' prior: 50479748!
test20

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 25.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:20:37' prior: 50479780!
test20

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 25.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 30.
	
	! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:21:11' prior: 50479810!
test20

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 25.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 30.
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID.]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotAddToAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 00:21:23'!
FAILURE!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 00:21:23'!
FAILURE!
!CartSession class methodsFor: 'error descriptions' stamp: 'JDR 6/13/2022 00:21:41'!
cannotAddToAnExpiredCartErrorDescription

	^'cannot add to an expired cart'! !

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 00:21:53'!
FAILURE!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 00:21:53'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:22:22' prior: 50475821!
add: aBook amount: anAmount to: aCartID

	| cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription ].
	(catalog includesKey: aBook ) ifFalse: [ self error: SystemFacade cannotAddBooksNotInCatalogErrorDescription ].
	(cartSession isExpiredOn: timeSimulatorAAAAA now) ifTrue: [ self error: CartSession cannotAddToAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timeSimulatorAAAAA now.
	cartSession cart add: aBook amount: anAmount 
	! !

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 00:22:25'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:24:53'!
test21

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	
	timeSimulatorAAAA minutesPassed: 30.
	
	self should: [ systemFacade checkout: cartID with: testingUtils password1 ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotCheckoutAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !
!CartSession class methodsFor: 'error descriptions' stamp: 'JDR 6/13/2022 00:25:36'!
cannotCheckoutAnExpiredCartErrorDescription

	^'cannot checkout an expired cart'! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:26:05' prior: 50479919!
test21

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	
	timeSimulatorAAAA minutesPassed: 30.
	
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotCheckoutAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 00:26:06'!
FAILURE!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 00:26:06'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:26:53' prior: 50478279!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	(cartSession isExpiredOn: timeSimulatorAAAAA now) ifTrue: [ self error: CartSession cannotCheckoutAnExpiredCartErrorDescription ].
	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: cartSession clientID .
	
	^sale transactionID.! !

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 00:26:58'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:28:41' prior: 50479639!
test18

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 30 * minute .	
	
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotListAnExpiredCartErrorDescription equals: anError messageText ]! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:28:50' prior: 50479718!
test19

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10* minute.		
	systemFacade listCart: cartID.
	
	timeSimulatorAAAA minutesPassed: 25* minute.	
	systemFacade listCart: cartID.
	! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:29:02' prior: 50479841!
test20

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10* minute.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 25* minute.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 30* minute.
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID.]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotAddToAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !

af _ GregorianDateTime now!

af + 30!

af + 30*minute!

cc _ GregorianDateTime now!

af distanceTo: af!

af distanceTo: cc!

!methodRemoval: TimeSimulatorAAAA #tenMinutesPassed stamp: 'JDR 6/13/2022 00:35:05'!
tenMinutesPassed
	!

!methodRemoval: TimeSimulatorAAAA #thirtyMinutesPassed stamp: 'JDR 6/13/2022 00:35:06'!
thirtyMinutesPassed

	jJUIA _ true.!

!methodRemoval: TimeSimulatorAAAA #twentyFiveMinutesPassed stamp: 'JDR 6/13/2022 00:35:07'!
twentyFiveMinutesPassed
	!

(GregorianDateTime now) next: 10 * minute!

GregorianDateTime date: (GregorianDate year: 2022 month: June dayNumber: 10) timeOfDay: (TimeOfDay hours: 1)!

GregorianDateTime date: (FixedGregorianDate year: 2022 month: June dayNumber: 10) timeOfDay: (TimeOfDay hours: 1)!

----End fileIn of /home/jerodacunda/Escritorio/10-TusLibros3/3/linux64/Packages/TerseGuide.pck.st----!
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:50:22' prior: 50479687 overrides: 16920235!
initialize

	jJUIA _ GregorianDateTime date: (Date newDay: 12 month: #June year: 2022) timeOfDay: (TimeOfDay fromTime: 0).! !

GregorianDateTime date: (Date newDay: 12 month: #June year: 2022) timeOfDay: (TimeOfDay fromTime: 0)!
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:52:49' prior: 50483072 overrides: 16920235!
initialize

	jJUIA _ GregorianDateTime
			date: (FixedGregorianDate yearNumber: 2022 monthNumber: 06 dayNumber: 11)
			timeOfDay: (TimeOfDay  hours: 00).! !
!TimeSimulatorAAAA methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:53:17' prior: 50479678!
minutesPassed: anAmountOfMinutes
	
	jJUIA _ jJUIA next: anAmountOfMinutes .! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:53:36' prior: 50479959!
test21

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	
	timeSimulatorAAAA minutesPassed: 30 * minute.
	
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotCheckoutAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:53:37'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:53:37'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:53:53'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:53:53'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:54:38'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:54:38'!
ERROR!
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 00:55:19' prior: 50479708!
isExpiredOn: aDateTime
	
	^aDateTime >= (kHVV next: 30*minute)  ! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:55:21'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 00:55:23'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 00:55:25'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 00:55:27'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 00:55:28'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 00:56:53'!
test22

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotCheckoutAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:00:09' prior: 50483164!
test22

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimeSimulatorAAAA new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription equals: anError messageText ].		
	
	! !

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:00:34'!
FAILURE!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:00:34'!
FAILURE!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:01:36' prior: 50479998!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	(cartSession isExpiredOn: timeSimulatorAAAAA now) ifTrue: [ self error: CartSession cannotCheckoutAnExpiredCartErrorDescription ].
	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: cartSession clientID .
	
	cartSessions remove: cartSession.
	
	^sale transactionID.! !

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:01:42'!
PASSED!

!classRenamed: #TimeSimulatorAAAA as: #TimePassSimulator stamp: 'JDR 6/13/2022 01:04:36'!
Smalltalk renameClassNamed: #TimeSimulatorAAAA as: #TimePassSimulator!
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:04:36' prior: 50483200!
test22

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription equals: anError messageText ].		
	
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:04:36' prior: 50480088!
test20

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10* minute.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 25* minute.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 30* minute.
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID.]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotAddToAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:04:36' prior: 50479518!
test03

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timeSimulatorAAAA _ TimePassSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:04:36' prior: 50480059!
test19

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10* minute.		
	systemFacade listCart: cartID.
	
	timeSimulatorAAAA minutesPassed: 25* minute.	
	systemFacade listCart: cartID.
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:04:36' prior: 50483098!
test21

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	
	timeSimulatorAAAA minutesPassed: 30 * minute.
	
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotCheckoutAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:04:36' prior: 50480027!
test18

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 30 * minute .	
	
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotListAnExpiredCartErrorDescription equals: anError messageText ]! !

!classDefinition: #TimePassSimulator category: 'TusLibros' stamp: 'JDR 6/13/2022 01:05:10'!
Object subclass: #TimePassSimulator
	instanceVariableNames: 'now'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TimePassSimulator methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:05:10' prior: 50483092!
minutesPassed: anAmountOfMinutes
	
	now _ now next: anAmountOfMinutes .! !
!TimePassSimulator methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:05:10' prior: 50483083 overrides: 16920235!
initialize

	now _ GregorianDateTime
			date: (FixedGregorianDate yearNumber: 2022 monthNumber: 06 dayNumber: 11)
			timeOfDay: (TimeOfDay  hours: 00).! !
!TimePassSimulator methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:05:10' prior: 50479111!
now

	^now! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:05:13'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:05:13'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:05:19'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:05:33'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:05:37'!
ERROR!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:05:37'!
ERROR!

!classDefinition: #SystemFacadeTest category: 'TusLibros' stamp: 'JDR 6/13/2022 01:07:39'!
TestCase subclass: #SystemFacadeTest
	instanceVariableNames: 'testingUtils catalog dateTime'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacadeTest methodsFor: 'setUp' stamp: 'JDR 6/13/2022 01:07:37' prior: 50475114 overrides: 16961394!
setUp

	testingUtils _ TestingUtils new.
	catalog _ testingUtils catalog.
	dateTime _ GregorianDateTime
			date: (FixedGregorianDate yearNumber: 2022 monthNumber: 06 dayNumber: 11)
			timeOfDay: (TimeOfDay  hours: 00).! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:07:54' prior: 50483379!
test03

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timeSimulatorAAAA _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:07:57'!
ERROR!
!TimePassSimulator class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 01:08:02'!
startingOn: aGregorianDateTime 
	"DO NOT FORGET TO RENAME COLLABORATORS AND REMOVE THIS COMMENT!!!!"
	self shouldBeImplemented.
	^self new initializeStartingOn: aGregorianDateTime ! !
!TimePassSimulator class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 01:08:23' prior: 50483729!
startingOn: aGregorianDateTime 
	
	^self new initializeStartingOn: aGregorianDateTime ! !

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:08:27'!
ERROR!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:08:27'!
ERROR!

!classDefinition: #TimePassSimulator category: 'TusLibros' stamp: 'JDR 6/13/2022 01:08:32'!
Object subclass: #TimePassSimulator
	instanceVariableNames: 'now gregorianDateTime'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!TimePassSimulator methodsFor: 'initialization' stamp: 'JDR 6/13/2022 01:08:32'!
initializeStartingOn: aGregorianDateTime 
	self shouldBeImplemented.
	gregorianDateTime := aGregorianDateTime.! !
!TimePassSimulator methodsFor: 'initialization' stamp: 'JDR 6/13/2022 01:08:51' prior: 50483757!
initializeStartingOn: aGregorianDateTime 
	
	now := aGregorianDateTime.! !

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:08:53'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:08:55'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:09:25' prior: 50483701!
test03

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:09:57' prior: 50477113!
test04

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self assert: (cartID1 = cartID2) not! !

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:10:07'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:10:17' prior: 50477936!
test08

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: testingUtils invalidCartID ]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
! !
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/13/2022 01:10:30' prior: 50477274!
test05

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.! !

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:10:31'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:10:31'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:10:31'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:10:31'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:10:31'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:10:31'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:10:31'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:10:31'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:10:31'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:10:31'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/13/2022 01:10:41' prior: 50477434!
test06

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:10:43'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:10:43'!
ERROR!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:10:43'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:10:43'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:10:44'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:10:44'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:10:44'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:10:44'!
ERROR!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:10:44'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:11:01'!
ERROR!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:11:01'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:11:01'!
ERROR!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:11:01'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:11:01'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:11:01'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:11:01'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:11:01'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:11:01'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/13/2022 01:11:07' prior: 50477608!
test07

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:11:08'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:11:08'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:11:08'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:11:08'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:11:08'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:11:08'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:11:08'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:11:09'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:11:09'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:11:09'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:11:09'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:11:09'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:11:09'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:11:09'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:11:09'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:11:09'!
ERROR!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:11:09'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:11:09'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:11:09'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:11:09'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:11:09'!
ERROR!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:11:09'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/13/2022 01:11:13' prior: 50477772!
test09

	| systemFacade systemAuthenticator cartID merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils unregisteredBook amount: 1 to: cartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddBooksNotInCatalogErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:11:14'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:11:15'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:11:15'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:11:15'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:11:15'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:11:15'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:11:15'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:11:15'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:11:15'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:11:15'!
ERROR!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:11:15'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - checkout' stamp: 'JDR 6/13/2022 01:11:20' prior: 50474738!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:11:24'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:11:24'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:11:24'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:11:24'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:11:24'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:11:24'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:11:24'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:11:24'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:11:24'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:11:24'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:11:25'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:11:25'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:11:25'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:11:25'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:11:25'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:11:25'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:11:25'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:11:25'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:11:25'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:11:25'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:11:25'!
ERROR!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:11:25'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - checkout' stamp: 'JDR 6/13/2022 01:11:37' prior: 50474791!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 transactionID1 transactionID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.
		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	transactionID2 _ systemFacade checkout: cartID2 with: testingUtils validCreditCard	.
	
	self deny: transactionID1 = transactionID2
	
	
	 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:11:39'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:11:39'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:11:39'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:11:39'!
ERROR!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:11:39'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 01:11:43' prior: 50474826!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:11:45'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:11:45'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:11:45'!
ERROR!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:11:45'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 01:11:50' prior: 50474857!
test14

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase cartID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.	
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag new.
	expectedPurchase add: testingUtils book withOccurrences: 2.
	expectedPurchase add: testingUtils book2 withOccurrences: 1.
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:11:52'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:11:52'!
ERROR!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:11:52'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 01:11:55' prior: 50474901!
test15

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase expectedTotalAmmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	expectedTotalAmmount _ testingUtils catalog at: testingUtils book..
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	self assert: expectedTotalAmmount equals: purchase value.
	 
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:11:57'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:11:57'!
ERROR!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:11:57'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:12:10'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:12:10'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:12:10'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 01:12:21' prior: 50474962!
test17

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils book.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils book.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils book2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils book2.
	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID2 withPassword: testingUtils password2.
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	! !

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:12:23'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:12:25'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:12:26'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:12:26'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:12:26'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:12:26'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:12:26'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:12:26'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:12:26'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:12:35'!
PASSED!

!methodRemoval: TimePassSimulator #initialize stamp: 'JDR 6/13/2022 01:12:47'!
initialize

	now _ GregorianDateTime
			date: (FixedGregorianDate yearNumber: 2022 monthNumber: 06 dayNumber: 11)
			timeOfDay: (TimeOfDay  hours: 00).!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'JDR 6/13/2022 01:13:09'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator currentCartId catalog salesBook merchantProcessorSimulator cartSessions timePassSimulator'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:13:09' prior: 50479039!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: atimeSimulatorAAAAA 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timePassSimulator := atimeSimulatorAAAAA.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:13:09' prior: 50479895!
add: aBook amount: anAmount to: aCartID

	| cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription ].
	(catalog includesKey: aBook ) ifFalse: [ self error: SystemFacade cannotAddBooksNotInCatalogErrorDescription ].
	(cartSession isExpiredOn: timePassSimulator now) ifTrue: [ self error: CartSession cannotAddToAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePassSimulator now.
	cartSession cart add: aBook amount: anAmount 
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:13:09' prior: 50479543!
listCart: aCartID 
	
	| cartSession |	
	cartSession _ cartSessions detect: [ :aCartSession | aCartSession cartID = aCartID ] ifNone: [self error: SystemFacade cantListAnInvalidCartIdErrorDescription ].
	(cartSession isExpiredOn: timePassSimulator now) ifTrue: [ self error: CartSession cannotListAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePassSimulator now.
	^ cartSession cart content.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:13:09' prior: 50483255!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	(cartSession isExpiredOn: timePassSimulator now) ifTrue: [ self error: CartSession cannotCheckoutAnExpiredCartErrorDescription ].
	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: cartSession clientID .
	
	cartSessions remove: cartSession.
	
	^sale transactionID.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:13:09' prior: 50479071!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn cartSession |
	(systemAuthenticator authenticate: aClientID with: aPassword) ifFalse: [self error: SystemFacade invalidCredentialsErrorDescription].
	
	cartIDToReturn _ self idForNewCart.
	cartSession _ CartSession with: (Cart with: catalog) identifyingAs: cartIDToReturn of: aClientID createdOn: timePassSimulator now.
	cartSessions add: cartSession.
	
	^cartIDToReturn.	
	! !

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'JDR 6/13/2022 01:13:15'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator currentCartId catalog salesBook merchantProcessorSimulator cartSessions timePass'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:13:15' prior: 50485171!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: atimeSimulatorAAAAA 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timePass := atimeSimulatorAAAAA.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:13:15' prior: 50485188!
add: aBook amount: anAmount to: aCartID

	| cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription ].
	(catalog includesKey: aBook ) ifFalse: [ self error: SystemFacade cannotAddBooksNotInCatalogErrorDescription ].
	(cartSession isExpiredOn: timePass now) ifTrue: [ self error: CartSession cannotAddToAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePass now.
	cartSession cart add: aBook amount: anAmount 
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:13:15' prior: 50485210!
listCart: aCartID 
	
	| cartSession |	
	cartSession _ cartSessions detect: [ :aCartSession | aCartSession cartID = aCartID ] ifNone: [self error: SystemFacade cantListAnInvalidCartIdErrorDescription ].
	(cartSession isExpiredOn: timePass now) ifTrue: [ self error: CartSession cannotListAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePass now.
	^ cartSession cart content.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:13:15' prior: 50485227!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	(cartSession isExpiredOn: timePass now) ifTrue: [ self error: CartSession cannotCheckoutAnExpiredCartErrorDescription ].
	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: cartSession clientID .
	
	cartSessions remove: cartSession.
	
	^sale transactionID.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:13:15' prior: 50485255!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn cartSession |
	(systemAuthenticator authenticate: aClientID with: aPassword) ifFalse: [self error: SystemFacade invalidCredentialsErrorDescription].
	
	cartIDToReturn _ self idForNewCart.
	cartSession _ CartSession with: (Cart with: catalog) identifyingAs: cartIDToReturn of: aClientID createdOn: timePass now.
	cartSessions add: cartSession.
	
	^cartIDToReturn.	
	! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:13:53' prior: 50476632!
test01

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:14:00' prior: 50476794!
test02

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!SystemFacadeTest methodsFor: 'testing - checkout' stamp: 'JDR 6/13/2022 01:14:05' prior: 50474766!
test11

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.

	
	self should: [systemFacade checkout: testingUtils invalidCartID with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription  equals: anError messageText] .
	! !
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 01:14:10' prior: 50474937!
test16

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor rOBERTINgFROM: timePassSimulator.

	self should: [ systemFacade listPurchasesOf: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	 
	! !

!methodRemoval: SystemFacade class #authenticatingWith:with:registeringSalesOn:debitingFrom: stamp: 'JDR 6/13/2022 01:14:20'!
authenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator !

!methodRemoval: SystemFacade #initializeAuthenticatingWith:with:registeringSalesOn:debitingFrom: stamp: 'JDR 6/13/2022 01:14:27'!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.!
!SystemFacade class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 01:14:59'!
authenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: atimeSimulatorAAAAA 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: atimeSimulatorAAAAA ! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:14:59' prior: 50483775!
test03

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:14:59' prior: 50484097!
test07

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:14:59' prior: 50485467!
test16

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	self should: [ systemFacade listPurchasesOf: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	 
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50483340!
test20

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10* minute.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 25* minute.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 30* minute.
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID.]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotAddToAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50484791!
test17

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils book.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils book.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils book2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils book2.
	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID2 withPassword: testingUtils password2.
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50483468!
test18

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 30 * minute .	
	
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotListAnExpiredCartErrorDescription equals: anError messageText ]! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50485380!
test01

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50483946!
test06

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50485409!
test02

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50484445!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50484182!
test09

	| systemFacade systemAuthenticator cartID merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils unregisteredBook amount: 1 to: cartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddBooksNotInCatalogErrorDescription equals: anError messageText ].
! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50485438!
test11

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	
	self should: [systemFacade checkout: testingUtils invalidCartID with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription  equals: anError messageText] .
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50483433!
test21

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	
	timeSimulatorAAAA minutesPassed: 30 * minute.
	
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotCheckoutAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50483290!
test22

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription equals: anError messageText ].		
	
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50483801!
test04

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self assert: (cartID1 = cartID2) not! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50484352!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 transactionID1 transactionID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.
		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	transactionID2 _ systemFacade checkout: cartID2 with: testingUtils validCreditCard	.
	
	self deny: transactionID1 = transactionID2
	
	
	 
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50483863!
test05

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50484534!
test14

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase cartID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.	
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag new.
	expectedPurchase add: testingUtils book withOccurrences: 2.
	expectedPurchase add: testingUtils book2 withOccurrences: 1.
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50484267!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cantCheckoutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50483404!
test19

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator new.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10* minute.		
	systemFacade listCart: cartID.
	
	timeSimulatorAAAA minutesPassed: 25* minute.	
	systemFacade listCart: cartID.
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50483832!
test08

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: testingUtils invalidCartID ]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:00' prior: 50484636!
test15

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase expectedTotalAmmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	expectedTotalAmmount _ testingUtils catalog at: testingUtils book..
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	self assert: expectedTotalAmmount equals: purchase value.
	 
	! !

!methodRemoval: SystemFacade class #authenticatingWith:with:registeringSalesOn:debitingFrom:rOBERTINgFROM: stamp: 'JDR 6/13/2022 01:15:00'!
authenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: atimeSimulatorAAAAA 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: atimeSimulatorAAAAA !
!SystemFacade methodsFor: 'initialization' stamp: 'JDR 6/13/2022 01:15:19'!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: atimeSimulatorAAAAA 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timePass := atimeSimulatorAAAAA.! !
!SystemFacade class methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:15:19' prior: 50485524!
authenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: atimeSimulatorAAAAA 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: atimeSimulatorAAAAA ! !

!methodRemoval: SystemFacade #initializeAuthenticatingWith:with:registeringSalesOn:debitingFrom:rOBERTINgFROM: stamp: 'JDR 6/13/2022 01:15:19'!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator rOBERTINgFROM: atimeSimulatorAAAAA 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timePass := atimeSimulatorAAAAA.!
!SystemFacade class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 01:15:34' prior: 50486357!
authenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: aTimePassSimulator 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: aTimePassSimulator ! !
!SystemFacade methodsFor: 'initialization' stamp: 'JDR 6/13/2022 01:15:46' prior: 50486340!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: aTimePassSimulator 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timePass := aTimePassSimulator.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:15:48'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:15:49'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:15:49'!
ERROR!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:15:49'!
ERROR!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:15:49'!
ERROR!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:15:49'!
ERROR!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:15:49'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:16:04'!
ERROR!
!SystemFacade class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 01:16:43' prior: 50486390!
authenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: aTimePassSimulator 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: aTimePassSimulator ! !
!SystemFacade methodsFor: 'initialization' stamp: 'JDR 6/13/2022 01:16:59' prior: 50486405!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: aTimePassSimulator 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timePass := aTimePassSimulator.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:17:00'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:17:01'!
ERROR!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:17:01'!
ERROR!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:17:01'!
ERROR!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:17:01'!
ERROR!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:17:01'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:17:03'!
ERROR!
!SystemFacade methodsFor: 'initialization' stamp: 'JDR 6/13/2022 01:15:19' prior: 50486585!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: atimeSimulatorAAAAA 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timePass := atimeSimulatorAAAAA.! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:18:07'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:18:07'!
ERROR!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:18:07'!
ERROR!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:18:07'!
ERROR!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:18:07'!
ERROR!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:18:07'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:18:09'!
ERROR!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:18:52'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:18:52'!
ERROR!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:18:52'!
ERROR!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:18:52'!
ERROR!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:18:52'!
ERROR!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:18:52'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:18:55'!
ERROR!
!SystemFacade methodsFor: 'initialization' stamp: 'JDR 6/13/2022 01:20:03' prior: 50486749!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: aTimePass 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessorSimulator.
	timePass := aTimePass.! !
!SystemFacade class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 01:20:10' prior: 50486570!
authenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: aTimePass 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: aTimePass ! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:20:16'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:20:18'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:20:18'!
ERROR!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:20:18'!
ERROR!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:20:18'!
ERROR!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:20:18'!
ERROR!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:20:18'!
ERROR!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:20:40'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:20:40'!
ERROR!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:20:40'!
ERROR!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:20:40'!
ERROR!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:20:40'!
ERROR!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:20:40'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:20:44' prior: 50485731!
test18

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 30 * minute .	
	
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotListAnExpiredCartErrorDescription equals: anError messageText ]! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:20:45'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:20:45'!
ERROR!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:20:45'!
ERROR!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:20:45'!
ERROR!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:20:45'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:20:50' prior: 50486225!
test19

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10* minute.		
	systemFacade listCart: cartID.
	
	timeSimulatorAAAA minutesPassed: 25* minute.	
	systemFacade listCart: cartID.
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:20:51'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:20:51'!
ERROR!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:20:51'!
ERROR!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:20:51'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:20:55' prior: 50485627!
test20

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timeSimulatorAAAA minutesPassed: 10* minute.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 25* minute.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timeSimulatorAAAA minutesPassed: 30* minute.
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID.]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotAddToAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:20:55'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:20:55'!
ERROR!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:20:55'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:20:59' prior: 50485962!
test21

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	
	timeSimulatorAAAA minutesPassed: 30 * minute.
	
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotCheckoutAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:21:00'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:21:00'!
ERROR!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:21:00'!
ERROR!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:21:07' prior: 50485997!
test22

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timeSimulatorAAAA |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timeSimulatorAAAA _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timeSimulatorAAAA.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription equals: anError messageText ].		
	
	! !

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:21:10'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:21:14'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:21:37' prior: 50487018!
test18

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 30 * minute .	
	
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotListAnExpiredCartErrorDescription equals: anError messageText ]! !

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:21:42'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:21:47' prior: 50487104!
test19

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 10* minute.		
	systemFacade listCart: cartID.
	
	timePassSimulator minutesPassed: 25* minute.	
	systemFacade listCart: cartID.
	! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:21:51' prior: 50487187!
test20

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 10* minute.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 25* minute.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 30* minute.
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID.]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotAddToAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:21:55' prior: 50487281!
test21

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	
	timePassSimulator minutesPassed: 30 * minute.
	
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotCheckoutAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 01:21:59' prior: 50487373!
test22

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription equals: anError messageText ].		
	
	! !
!SystemFacade methodsFor: 'adding' stamp: 'JDR 6/13/2022 01:27:26' prior: 50485299!
add: aBook amount: anAmount to: aCartID

	| cartSession |
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription].
	
	(catalog includesKey: aBook ) ifFalse: [ self error: SystemFacade cannotAddBooksNotInCatalogErrorDescription ].
	(cartSession isExpiredOn: timePass now) ifTrue: [ self error: CartSession cannotAddToAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePass now.
	cartSession cart add: aBook amount: anAmount 
	! !
!SystemFacade methodsFor: 'adding' stamp: 'JDR 6/13/2022 01:28:30'!
getCartSessionBy: aCartID ifAbsent: aClosure.
	
	^cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: aClosure.! !
!SystemFacade methodsFor: 'adding' stamp: 'JDR 6/13/2022 01:29:18' prior: 50487837!
getCartSessionBy: aCartID ifAbsent: exceptionBlock.
	
	^cartSessions detect: [ :aCartSessione | aCartSessione cartID = aCartID ] ifNone: exceptionBlock.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:29:25'!
PASSED!
!SystemFacade methodsFor: 'adding' stamp: 'JDR 6/13/2022 01:30:56' prior: 50487818!
add: aBook amount: anAmount to: aCartID

	| cartSession |
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription].
	self assertRegisteredProduct: aBook.	
	(cartSession isExpiredOn: timePass now) ifTrue: [ self error: CartSession cannotAddToAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePass now.
	cartSession cart add: aBook amount: anAmount 
	! !
!SystemFacade methodsFor: 'adding' stamp: 'JDR 6/13/2022 01:31:07' prior: 50487998!
add: anItem amount: anAmount to: aCartID

	| cartSession |
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription].
	self assertRegisteredProduct: anItem.	
	(cartSession isExpiredOn: timePass now) ifTrue: [ self error: CartSession cannotAddToAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePass now.
	cartSession cart add: anItem amount: anAmount 
	! !
!SystemFacade methodsFor: 'adding' stamp: 'JDR 6/13/2022 01:31:14' prior: 50488015!
add: aBook amount: anAmount to: aCartID

	| cartSession |
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription].
	self assertRegisteredProduct: aBook.	
	(cartSession isExpiredOn: timePass now) ifTrue: [ self error: CartSession cannotAddToAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePass now.
	cartSession cart add: aBook amount: anAmount 
	! !
!SystemFacade methodsFor: 'adding' stamp: 'JDR 6/13/2022 01:31:42'!
assertRegisteredProduct: aBook
	
	(catalog includesKey: aBook ) ifFalse: [ self error: SystemFacade cannotAddBooksNotInCatalogErrorDescription ].! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:31:43'!
PASSED!
!SystemFacade methodsFor: 'adding' stamp: 'JDR 6/13/2022 01:34:28' prior: 50488032!
add: aBook amount: anAmount to: aCartID

	| cartSession |
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cantAddToAnInvalidCartIdErrorDescription].
	self assertRegisteredProduct: aBook.	
	
	cartSession isExpiredOn: (timePass now) do: [ self error: CartSession cannotAddToAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePass now.
	cartSession cart add: aBook amount: anAmount 
	! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:34:32'!
ERROR!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:34:32'!
ERROR!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:34:32'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:34:32'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:34:32'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:34:32'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:34:32'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:34:32'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:34:32'!
ERROR!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:34:32'!
ERROR!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:34:32'!
ERROR!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:34:36'!
ERROR!
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:34:40'!
isExpiredOn: aGregorianDateTime do: aBlockClosure 
	self shouldBeImplemented.! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:35:30' prior: 50488365!
isExpiredOn: aDateTime do: aBlockClosure 
	
	(aDateTime >= (kHVV next: 30*minute)) ifTrue: aBlockClosure ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:35:32'!
PASSED!
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:36:27' prior: 50488371!
isExpiredOn: aDateTime do: anExceptionBlock 
	
	(aDateTime >= (kHVV next: 30*minute)) ifTrue: anExceptionBlock ! !

!classDefinition: #CartSession category: 'TusLibros' stamp: 'JDR 6/13/2022 01:36:56'!
Object subclass: #CartSession
	instanceVariableNames: 'cart cartID clientID lastInteraction'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:36:56' prior: 50488523!
isExpiredOn: aDateTime do: anExceptionBlock 
	
	(aDateTime >= (lastInteraction next: 30*minute)) ifTrue: anExceptionBlock ! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:36:56' prior: 50479608!
updateLastInteraction: aDateTime

	lastInteraction _ aDateTime
	
	! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:36:56' prior: 50479179!
initializeWith: aCart identifyingAs: aCartID of: aClientID createdOn: aDateTime 
	
	cart := aCart.
	cartID := aCartID.
	clientID := aClientID.
	lastInteraction := aDateTime.! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:36:56' prior: 50483147!
isExpiredOn: aDateTime
	
	^aDateTime >= (lastInteraction next: 30*minute)  ! !

!classDefinition: #CartSession category: 'TusLibros' stamp: 'JDR 6/13/2022 01:37:03'!
Object subclass: #CartSession
	instanceVariableNames: 'cart cartID clientID lastInteractionDateTime'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:37:03' prior: 50488538!
isExpiredOn: aDateTime do: anExceptionBlock 
	
	(aDateTime >= (lastInteractionDateTime next: 30*minute)) ifTrue: anExceptionBlock ! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:37:03' prior: 50488545!
updateLastInteraction: aDateTime

	lastInteractionDateTime _ aDateTime
	
	! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:37:03' prior: 50488551!
initializeWith: aCart identifyingAs: aCartID of: aClientID createdOn: aDateTime 
	
	cart := aCart.
	cartID := aCartID.
	clientID := aClientID.
	lastInteractionDateTime := aDateTime.! !
!CartSession methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:37:03' prior: 50488560!
isExpiredOn: aDateTime
	
	^aDateTime >= (lastInteractionDateTime next: 30*minute)  ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:37:06'!
PASSED!
!SystemFacade methodsFor: 'accessing' stamp: 'JDR 6/13/2022 01:39:03' prior: 50485320!
listCart: aCartID 
	
	| cartSession |	
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cantListAnInvalidCartIdErrorDescription ].
	cartSession isExpiredOn: timePass now do: [ self error: CartSession cannotListAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePass now.
	^ cartSession cart content.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:39:04'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:39:05'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:39:05'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:39:05'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:39:05'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:39:05'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:39:05'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:39:05'!
PASSED!
!SystemFacade methodsFor: 'checkout' stamp: 'JDR 6/13/2022 01:40:12' prior: 50485336!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	cartSession isExpiredOn: timePass now do: [ self error: CartSession cannotCheckoutAnExpiredCartErrorDescription ].
	sale _ cashier checkout: cart with: aCreditCard on: TestingUtils new validCheckoutMonthOfYear for: cartSession clientID .
	
	cartSessions remove: cartSession.
	
	^sale transactionID.! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:40:13'!
PASSED!
!SystemFacade methodsFor: 'creating' stamp: 'JDR 6/13/2022 01:43:29' prior: 50485363!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn cartSession |
	self assert: aClientID authenticatedWith: aPassword.
	(systemAuthenticator authenticate: aClientID with: aPassword) ifFalse: [self error: SystemFacade invalidCredentialsErrorDescription].
	
	cartIDToReturn _ self idForNewCart.
	cartSession _ CartSession with: (Cart with: catalog) identifyingAs: cartIDToReturn of: aClientID createdOn: timePass now.
	cartSessions add: cartSession.
	
	^cartIDToReturn.	
	! !
!SystemFacade methodsFor: 'creating' stamp: 'JDR 6/13/2022 01:43:51' prior: 50489079!
createCartForUser: aClientID withPassword: aPassword

	| cartIDToReturn cartSession |
	self assert: aClientID authenticatedWith: aPassword.	
	
	cartIDToReturn _ self idForNewCart.
	cartSession _ CartSession with: (Cart with: catalog) identifyingAs: cartIDToReturn of: aClientID createdOn: timePass now.
	cartSessions add: cartSession.
	
	^cartIDToReturn.	
	! !
!SystemFacade methodsFor: 'creating' stamp: 'JDR 6/13/2022 01:44:02'!
assert: aClientID authenticatedWith: aPassword.	
	
	(systemAuthenticator authenticate: aClientID with: aPassword) ifFalse: [self error: SystemFacade invalidCredentialsErrorDescription].! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:44:02'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:44:03'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:44:03'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:44:03'!
PASSED!
!SystemFacade methodsFor: 'accessing' stamp: 'JDR 6/13/2022 01:44:22' prior: 50475891!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient totalPrice |
	
	self assert: aClientID authenticatedWith: aPassword.	
	
	clientPurchases _ salesBook getSalesBy: aClientID.
	productsBoughtByClient _ Bag new.
	totalPrice _ 0.
	clientPurchases do:[ :aSale |
		productsBoughtByClient addAll: aSale content.
		totalPrice _ totalPrice + aSale total.
	].
	
	^ productsBoughtByClient -> totalPrice. 
	! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:44:23'!
PASSED!
!SystemFacade methodsFor: 'accessing' stamp: 'JDR 6/13/2022 01:46:15' prior: 50489266!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient totalPrice |
	
	self assert: aClientID authenticatedWith: aPassword.	
	
	clientPurchases _ salesBook getSalesBy: aClientID.
	productsBoughtByClient _ Bag new.
	
	totalPrice _ clientPurchases sum: [:aSale | aSale total ].
	
	clientPurchases do:[ :aSale | 		productsBoughtByClient addAll: aSale content	].
	
	^ productsBoughtByClient -> totalPrice. 
	! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:46:15'!
PASSED!
!SystemFacade methodsFor: 'accessing' stamp: 'JDR 6/13/2022 01:46:30' prior: 50489428!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient totalPrice |
	
	self assert: aClientID authenticatedWith: aPassword.	
	
	clientPurchases _ salesBook getSalesBy: aClientID.
	productsBoughtByClient _ Bag new.
	
	totalPrice _ clientPurchases sum: [:aSale | aSale total ].
	
	clientPurchases do:[ :aSale | 		productsBoughtByClient addAll: aSale content	].
	
	^ productsBoughtByClient -> totalPrice. 
	! !
!SystemFacade methodsFor: 'accessing' stamp: 'JDR 6/13/2022 01:48:47' prior: 50489591!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient totalPrice |
	
	self assert: aClientID authenticatedWith: aPassword.	
	
	clientPurchases _ salesBook getSalesBy: aClientID.	
	
	totalPrice _ clientPurchases sum: [:aSale | aSale total ].
	
	productsBoughtByClient _ self getContentOfAll: clientPurchases.	
	
	^ productsBoughtByClient -> totalPrice. 
	! !
!SystemFacade methodsFor: 'accessing' stamp: 'JDR 6/13/2022 01:49:15'!
getContentOfAll: clientPurchases| productsBoughtByClient |
.	
	
	productsBoughtByClient _ Bag new.
	clientPurchases do:[ :aSale | 		productsBoughtByClient addAll: aSale content	].
	! !
!SystemFacade methodsFor: 'accessing' stamp: 'JDR 6/13/2022 01:49:39' prior: 50489623!
getContentOfAll: clientPurchases

	| productsBoughtByClient |	
	
	productsBoughtByClient _ Bag new.
	clientPurchases do:[ :aSale | 		productsBoughtByClient addAll: aSale content	].
	^productsBoughtByClient ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:49:47'!
PASSED!
!SystemFacade methodsFor: 'accessing' stamp: 'JDR 6/13/2022 01:50:00' prior: 50489608!
listPurchasesOf: aClientID withPassword: aPassword 
	
	| clientPurchases productsBoughtByClient totalPrice |
	
	self assert: aClientID authenticatedWith: aPassword.	
	
	clientPurchases _ salesBook getSalesBy: aClientID.		
	totalPrice _ clientPurchases sum: [:aSale | aSale total ].	
	productsBoughtByClient _ self getContentOfAll: clientPurchases.	
	
	^ productsBoughtByClient -> totalPrice. 
	! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:50:00'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:50:01'!
PASSED!
!SystemFacade methodsFor: 'checkout' stamp: 'JDR 6/13/2022 01:52:56' prior: 50488908!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cantCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	cartSession isExpiredOn: timePass now do: [ self error: CartSession cannotCheckoutAnExpiredCartErrorDescription ].
	sale _ cashier checkout: cart with: aCreditCard on: timePass nowAsMonthOfYear for: cartSession clientID .
	
	cartSessions remove: cartSession.
	
	^sale transactionID.! !
!SystemFacadeTest methodsFor: 'setUp' stamp: 'JDR 6/13/2022 01:55:58' prior: 50483690 overrides: 16961394!
setUp

	testingUtils _ TestingUtils new.
	catalog _ testingUtils catalog.
	dateTime _ testingUtils dateTime.
! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 01:56:34'!
dateTime
	^GregorianDateTime
			date: (FixedGregorianDate yearNumber: 2022 monthNumber: 06 dayNumber: 11)
			timeOfDay: (TimeOfDay  hours: 00).! !
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/13/2022 01:58:48' prior: 50476093!
validCheckoutMonthOfYear
	^(self validMonth) of: self validYear. ! !
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/13/2022 01:59:05'!
validMonth

	^July! !
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/13/2022 01:59:30'!
validYear

	^2022! !

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:59:51'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 01:59:51'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 01:59:51'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 01:59:51'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 01:59:51'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 01:59:51'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 01:59:51'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 01:59:56'!
ERROR!

FixedGregorianDate yearNumber: self validYear monthNumber: self validMonth number dayNumber: 11!
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 02:01:23' prior: 50489981!
dateTime
	^GregorianDateTime
			date: (FixedGregorianDate yearNumber: (self validYear) monthNumber: self validMonth number dayNumber: 11)
			timeOfDay: (TimeOfDay  hours: 00).! !

FixedGregorianDate yearNumber: (self validYear) monthNumber: self validMonth number dayNumber: 11!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:02:11'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:02:11'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:02:11'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:02:11'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:02:11'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:02:11'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:02:11'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:02:11'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:02:11'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:02:11'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:02:11'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:02:11'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:02:12'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:02:12'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:02:12'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:02:12'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:02:12'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:02:12'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:02:12'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:02:12'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:02:12'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:02:12'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:02:15'!
ERROR!

June number!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:03:41'!
ERROR!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:03:41'!
ERROR!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:03:41'!
ERROR!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:03:41'!
ERROR!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:03:41'!
ERROR!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:03:41'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:03:41'!
ERROR!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:03:43'!
ERROR!
!TimePassSimulator methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 02:03:51'!
nowAsMonthOfYear
	self shouldBeImplemented.! !
!TimePassSimulator methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 02:03:57' prior: 50490280!
nowAsMonthOfYear
	! !
!TimePassSimulator methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 02:05:00' prior: 50490285!
nowAsMonthOfYear
		
	^now monthOfYear ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:05:02'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:39:14' prior: 50474330!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier testingUtils salesBook purchase merchantProcessor |
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'JDR 6/13/2022 02:39:52'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'testingUtils1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:39:50' overrides: 16961394!
setUp

	testingUtils1 _ TestingUtils new.! !
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:40:20' prior: 50490439!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	cart _ Cart with: testingUtils1 catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils1 book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: testingUtils1 stolenCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:41:13' prior: 50474300!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	cart _ Cart with: testingUtils1 catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils1 book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: testingUtils1 expiredCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:41:15'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:41:26' prior: 50490510!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils1 catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils1 book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: testingUtils1 expiredCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:41:26'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:41:27'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:41:30' prior: 50490481!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils1 catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils1 book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: testingUtils1 stolenCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:41:30'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:41:31'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:41:31'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:41:31'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:41:31'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:41:31'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:41:31'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:41:31'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:41:31'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:41:31'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:41:31'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:41:31'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:41:50' prior: 50474273!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice salesBook merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils1 book amount: 3.
	cart add: testingUtils1 book2 amount: 1.
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: sale total .
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:41:51'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:41:52'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:42:10' prior: 50474248!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier salesBook merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils1 book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:42:11'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:42:23' prior: 50474222!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier salesBook merchantProcessor |
	
	cart _ Cart with: testingUtils1 catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	self should: [cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:42:24'!
PASSED!

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'JDR 6/13/2022 02:42:31'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'testingUtils'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 02:42:31' prior: 50490866!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 02:42:31' prior: 50490476 overrides: 16961394!
setUp

	testingUtils _ TestingUtils new.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 02:42:31' prior: 50491392!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier salesBook merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	self should: [cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 02:42:31' prior: 50491044!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice salesBook merchantProcessor sale |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 3.
	cart add: testingUtils book2 amount: 1.
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: sale total .
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 02:42:31' prior: 50491219!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier salesBook merchantProcessor sale |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 02:42:31' prior: 50490688!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:42:33'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:42:33'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:42:33'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:42:33'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:42:33'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:42:33'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:42:33'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:42:33'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:42:34'!
PASSED!

!methodRemoval: Cart #contents stamp: 'JDR 6/13/2022 02:42:49'!
contents
	self shouldBeImplemented.!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:42:52'!
PASSED!

!methodRemoval: CartSession #isExpiredOn: stamp: 'JDR 6/13/2022 02:43:32'!
isExpiredOn: aDateTime
	
	^aDateTime >= (lastInteractionDateTime next: 30*minute)  !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:43:35'!
PASSED!

!methodRemoval: CartSession class #with:identifyingAs:of: stamp: 'JDR 6/13/2022 02:43:45'!
with: aCart identifyingAs: aCartID of: aClientID 
	
	^self new initializeWith: aCart identifyingAs: aCartID of: aClientID !

!methodRemoval: CartSession #initializeWith:identifyingAs:of: stamp: 'JDR 6/13/2022 02:43:50'!
initializeWith: aCart identifyingAs: aCartID of: aClientID 

	cart := aCart.
	cartID := aCartID.
	clientID := aClientID.!
!Sale class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 02:49:47' prior: 50478653!
with: aCartContent pricing: aSmallInteger for: aString identifyingBy: aTransactionID 
	
	^self new initializeWith: aCartContent pricing: aSmallInteger for: aString identifyingAs: aTransactionID ! !
!Sale class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 02:49:54' prior: 50492170!
with: aCartContent pricing: anAmount for: aString identifyingBy: aTransactionID 
	
	^self new initializeWith: aCartContent pricing: anAmount for: aString identifyingAs: aTransactionID ! !
!Sale class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 02:50:00' prior: 50492180!
with: aCartContent pricing: anAmount for: aClientID identifyingBy: aTransactionID 
	
	^self new initializeWith: aCartContent pricing: anAmount for: aClientID identifyingAs: aTransactionID ! !
!Sale class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 02:50:29' prior: 50492189!
with: aSaleContent pricing: anAmount for: aClientID identifyingBy: aTransactionID 
	
	^self new initializeWith: aSaleContent pricing: anAmount for: aClientID identifyingAs: aTransactionID ! !
!Sale class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 02:50:42' prior: 50492198!
with: aSaleContent pricing: aFinalPrice for: aClientID identifyingBy: aTransactionID 
	
	^self new initializeWith: aSaleContent pricing: aFinalPrice for: aClientID identifyingAs: aTransactionID ! !
!Sale methodsFor: 'accessing' stamp: 'JDR 6/13/2022 02:50:53' prior: 50475679!
content

	^saleContents ! !
!SalesBook methodsFor: 'adding' stamp: 'JDR 6/13/2022 02:52:58' prior: 50475716!
addSaleWith: aSaleContents pricing: aFinalPrice for: aClientID 
	
	| sale saleID |
	saleID _ self getNextSaleID.
	sale _ Sale with: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: saleID.
	sales add: sale.
	
	^sale.! !
!SalesBook methodsFor: 'adding' stamp: 'JDR 6/13/2022 02:53:15'!
getNextSaleID
	
	| saleID |
	saleID _ nextSaleID.
	nextSaleID _ nextSaleID + 1	.
	^saleID! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:53:18'!
PASSED!

!classDefinition: #SalesBookTest category: 'TusLibros' stamp: 'JDR 6/13/2022 02:55:31'!
TestCase subclass: #SalesBookTest
	instanceVariableNames: 'testingUtils1'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:55:30' overrides: 16961394!
setUp

	testingUtils1 _ TestingUtils new.	! !
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:55:50' prior: 50474529!
test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook

	| salesBook cart cashier testingUtils purchase merchantProcessor sale |
	
	cart _ Cart with: testingUtils catalog.
	cart add: testingUtils1 book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self assert: (salesBook hasRegistered: sale).
	self deny: salesBook isEmpty .
	! !

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:55:53'!
ERROR!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:55:59' prior: 50492394!
test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook

	| salesBook cart cashier purchase merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.
	cart add: testingUtils1 book amount: 1.
	purchase _ cart content.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self assert: (salesBook hasRegistered: sale).
	self deny: salesBook isEmpty .
	! !

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:56:03'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:56:11' prior: 50492423!
test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.
	cart add: testingUtils1 book amount: 1.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self assert: (salesBook hasRegistered: sale).
	self deny: salesBook isEmpty .
	! !

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:56:12'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 02:56:43' prior: 50474554!
test03

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.
	cart add: testingUtils1 book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.	
	
	self assert: testingUtils1 clientID1 equals: sale clientID.
	! !

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SalesBookTest #test03 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 02:56:47'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:01:24'!
test03CheckoutShouldRegisterClientIDOnSale

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.
	cart add: testingUtils1 book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.	
	
	self assert: testingUtils1 clientID1 equals: sale clientID.
	! !

!methodRemoval: SalesBookTest #test03 stamp: 'JDR 6/13/2022 03:01:24'!
test03

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.
	cart add: testingUtils1 book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.	
	
	self assert: testingUtils1 clientID1 equals: sale clientID.
	!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:03:29'!
test03ClientIDOfACheckedOutSaleShouldBeBuyerID

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.
	cart add: testingUtils1 book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.	
	
	self assert: testingUtils1 clientID1 equals: sale clientID.
	! !

!methodRemoval: SalesBookTest #test03CheckoutShouldRegisterClientIDOnSale stamp: 'JDR 6/13/2022 03:03:29'!
test03CheckoutShouldRegisterClientIDOnSale

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.
	cart add: testingUtils1 book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.	
	
	self assert: testingUtils1 clientID1 equals: sale clientID.
	!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:04:20' prior: 50474575!
test04

	| salesBook cart cashier merchantProcessor sale saleContents |
	
	cart _ Cart with: testingUtils1 catalog.
	
	cart add: testingUtils1 book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	saleContents _ cart content.	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self assert: saleContents  equals: sale content.
	! !

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:04:21'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SalesBookTest #test04 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:04:22'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:05:12'!
test04ContentOfACheckedOutSaleShouldBeSaleContent

	| salesBook cart cashier merchantProcessor sale saleContents |
	
	cart _ Cart with: testingUtils1 catalog.
	
	cart add: testingUtils1 book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	saleContents _ cart content.	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self assert: saleContents  equals: sale content.
	! !

!methodRemoval: SalesBookTest #test04 stamp: 'JDR 6/13/2022 03:05:12'!
test04

	| salesBook cart cashier merchantProcessor sale saleContents |
	
	cart _ Cart with: testingUtils1 catalog.
	
	cart add: testingUtils1 book amount: 1.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	saleContents _ cart content.	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self assert: saleContents  equals: sale content.
	!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:06:17' prior: 50478302!
test05

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	sale2 _ cashier checkout: cart2 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self deny: (sale1 transactionID) = (sale2 transactionID).
	! !

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SalesBookTest #test05 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:06:18'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:06:53'!
test05TransactionIDOfTwoDifferentCheckoutsShouldBeDifferent

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	sale2 _ cashier checkout: cart2 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self deny: (sale1 transactionID) = (sale2 transactionID).
	! !

!methodRemoval: SalesBookTest #test05 stamp: 'JDR 6/13/2022 03:06:53'!
test05

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	sale2 _ cashier checkout: cart2 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self deny: (sale1 transactionID) = (sale2 transactionID).
	!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:07:08'!
test05TransactionIDOfDifferentCheckoutsShouldBeDifferent

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	sale2 _ cashier checkout: cart2 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self deny: (sale1 transactionID) = (sale2 transactionID).
	! !

!methodRemoval: SalesBookTest #test05TransactionIDOfTwoDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 03:07:08'!
test05TransactionIDOfTwoDifferentCheckoutsShouldBeDifferent

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	sale2 _ cashier checkout: cart2 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self deny: (sale1 transactionID) = (sale2 transactionID).
	!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:07:46' prior: 50474626!
test06

	| salesBook cashier merchantProcessor cart1 cart2 sale1 expectedSaleOfClient |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	expectedSaleOfClient _ OrderedCollection with: sale1.
	
	self assert: expectedSaleOfClient equals: (salesBook getSalesBy: testingUtils1 clientID1).
	! !

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:07:49'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:08:03' prior: 50492597!
test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils1 book amount: 1.	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self assert: (salesBook hasRegistered: sale).
	self deny: salesBook isEmpty .
	! !

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:08:04'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:08:16' prior: 50492979!
test03ClientIDOfACheckedOutSaleShouldBeBuyerID

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils1 book amount: 1.	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.	
	
	self assert: testingUtils1 clientID1 equals: sale clientID.
	! !

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:08:16'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:08:34' prior: 50493193!
test04ContentOfACheckedOutSaleShouldBeSaleContent

	| salesBook cart cashier merchantProcessor sale saleContents |
	
	cart _ Cart with: testingUtils1 catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils1 book amount: 1.
	saleContents _ cart content.	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self assert: saleContents  equals: sale content.
	! !

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SalesBookTest #test06 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SalesBookTest #test07 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:08:34'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:09:02' prior: 50493533!
test06

	| salesBook cashier merchantProcessor cart1 cart2 sale1 expectedSaleOfClient |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
		
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	expectedSaleOfClient _ OrderedCollection with: sale1.
	
	self assert: expectedSaleOfClient equals: (salesBook getSalesBy: testingUtils1 clientID1).
	! !
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:12:24'!
test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID

	| salesBook cashier merchantProcessor cart1 cart2 sale1 expectedSaleOfClient |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
		
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	expectedSaleOfClient _ OrderedCollection with: sale1.
	
	self assert: expectedSaleOfClient equals: (salesBook getSalesBy: testingUtils1 clientID1).
	! !

!methodRemoval: SalesBookTest #test06 stamp: 'JDR 6/13/2022 03:12:24'!
test06

	| salesBook cashier merchantProcessor cart1 cart2 sale1 expectedSaleOfClient |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
		
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	expectedSaleOfClient _ OrderedCollection with: sale1.
	
	self assert: expectedSaleOfClient equals: (salesBook getSalesBy: testingUtils1 clientID1).
	!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:12:34'!
test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils1 book amount: 1.	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self assert: (salesBook hasRegistered: sale).
	self deny: salesBook isEmpty .
	! !

!methodRemoval: SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook stamp: 'JDR 6/13/2022 03:12:34'!
test02CheckoutOfACartWithACashierShouldRegisterPurchaseOnSalesBook

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils1 book amount: 1.	
	sale _ cashier checkout: cart with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	self assert: (salesBook hasRegistered: sale).
	self deny: salesBook isEmpty .
	!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:14:39'!
test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 expectedSaleOfClient1 expectedSaleOfClient2 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2.
	
	expectedSaleOfClient1 _ OrderedCollection with: sale1.
	expectedSaleOfClient2 _ OrderedCollection with: sale2.
	
	self assert: expectedSaleOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).
	self assert: expectedSaleOfClient2 equals: (salesBook getSalesBy: testingUtils clientID2).
	! !

!methodRemoval: SalesBookTest #test07 stamp: 'JDR 6/13/2022 03:14:39'!
test07

	| salesBook cashier testingUtils merchantProcessor cart1 cart2 sale1 sale2 expectedSaleOfClient1 expectedSaleOfClient2 |
	testingUtils _ TestingUtils new.	
	
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2.
	
	expectedSaleOfClient1 _ OrderedCollection with: sale1.
	expectedSaleOfClient2 _ OrderedCollection with: sale2.
	
	self assert: expectedSaleOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).
	self assert: expectedSaleOfClient2 equals: (salesBook getSalesBy: testingUtils clientID2).
	!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:15:29' prior: 50494368!
test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 expectedSaleOfClient1 expectedSaleOfClient2 |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID2.
		
	expectedSaleOfClient1 _ OrderedCollection with: sale1.
	expectedSaleOfClient2 _ OrderedCollection with: sale2.
	
	self assert: expectedSaleOfClient1 equals: (salesBook getSalesBy: testingUtils1 clientID1).
	self assert: expectedSaleOfClient2 equals: (salesBook getSalesBy: testingUtils1 clientID2).
	! !

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:15:30'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:15:31'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:17:00' prior: 50474692!
test08

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 expectedSalesOfClient1 |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	expectedSalesOfClient1 _ OrderedCollection with: sale1 with: sale2.
	
	self assert: expectedSalesOfClient1 equals: (salesBook getSalesBy: testingUtils1 clientID1).
	! !

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SalesBookTest #test08 stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:17:01'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:17:02'!
PASSED!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:18:21'!
test08MultipleSalesFromASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 expectedSalesOfClient1 |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	expectedSalesOfClient1 _ OrderedCollection with: sale1 with: sale2.
	
	self assert: expectedSalesOfClient1 equals: (salesBook getSalesBy: testingUtils1 clientID1).
	! !

!methodRemoval: SalesBookTest #test08 stamp: 'JDR 6/13/2022 03:18:21'!
test08

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 expectedSalesOfClient1 |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	expectedSalesOfClient1 _ OrderedCollection with: sale1 with: sale2.
	
	self assert: expectedSalesOfClient1 equals: (salesBook getSalesBy: testingUtils1 clientID1).
	!
!SalesBookTest methodsFor: 'testing' stamp: 'JDR 6/13/2022 03:19:02'!
test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 expectedSalesOfClient1 |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	expectedSalesOfClient1 _ OrderedCollection with: sale1 with: sale2.
	
	self assert: expectedSalesOfClient1 equals: (salesBook getSalesBy: testingUtils1 clientID1).
	! !

!methodRemoval: SalesBookTest #test08MultipleSalesFromASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'JDR 6/13/2022 03:19:02'!
test08MultipleSalesFromASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 expectedSalesOfClient1 |
		
	cart1 _ Cart with: testingUtils1 catalog.
	cart2 _ Cart with: testingUtils1 catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils1 stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils1 book amount: 1.
	cart2 add: testingUtils1 book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils1 validCreditCard on: testingUtils1 validCheckoutMonthOfYear for: testingUtils1 clientID1.
	
	expectedSalesOfClient1 _ OrderedCollection with: sale1 with: sale2.
	
	self assert: expectedSalesOfClient1 equals: (salesBook getSalesBy: testingUtils1 clientID1).
	!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:23:34'!
PASSED!
!SystemFacade class methodsFor: 'error descriptions' stamp: 'JDR 6/13/2022 03:24:07'!
cannotAddToAnInvalidCartIdErrorDescription
	^'cant add to an invalid cartID'! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:24:07' prior: 50487767!
test22

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription equals: anError messageText ].		
	
	! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:24:07' prior: 50488201!
add: aBook amount: anAmount to: aCartID

	| cartSession |
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cannotAddToAnInvalidCartIdErrorDescription].
	self assertRegisteredProduct: aBook.	
	
	cartSession isExpiredOn: (timePass now) do: [ self error: CartSession cannotAddToAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePass now.
	cartSession cart add: aBook amount: anAmount 
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:24:07' prior: 50485565!
test07

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!methodRemoval: SystemFacade class #cantAddToAnInvalidCartIdErrorDescription stamp: 'JDR 6/13/2022 03:24:07'!
cantAddToAnInvalidCartIdErrorDescription
	^'cant add to an invalid cartID'!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:24:09'!
PASSED!
!SystemFacade class methodsFor: 'error descriptions' stamp: 'JDR 6/13/2022 03:24:23'!
cannotCheckoutAnEmptyCartErrorDescription
	
	^ 'cant checkout an empty cart'! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:24:23' prior: 50489948!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cantCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cannotCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	cartSession isExpiredOn: timePass now do: [ self error: CartSession cannotCheckoutAnExpiredCartErrorDescription ].
	sale _ cashier checkout: cart with: aCreditCard on: timePass nowAsMonthOfYear for: cartSession clientID .
	
	cartSessions remove: cartSession.
	
	^sale transactionID.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:24:23' prior: 50486193!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cannotCheckoutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !

!methodRemoval: SystemFacade class #cantCheckoutAnEmptyCartErrorDescription stamp: 'JDR 6/13/2022 03:24:23'!
cantCheckoutAnEmptyCartErrorDescription
	
	^ 'cant checkout an empty cart'!
!SystemFacade class methodsFor: 'error descriptions' stamp: 'JDR 6/13/2022 03:24:33'!
cannotCheckoutWithAnInvalidCartIDErrorDescription
	
	^'cant checkout to an invalid cartID'! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:24:33' prior: 50495393!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cannotCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cannotCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessorSimulator.
	
	cartSession isExpiredOn: timePass now do: [ self error: CartSession cannotCheckoutAnExpiredCartErrorDescription ].
	sale _ cashier checkout: cart with: aCreditCard on: timePass nowAsMonthOfYear for: cartSession clientID .
	
	cartSessions remove: cartSession.
	
	^sale transactionID.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:24:33' prior: 50485933!
test11

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	
	self should: [systemFacade checkout: testingUtils invalidCartID with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cannotCheckoutWithAnInvalidCartIDErrorDescription  equals: anError messageText] .
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:24:33' prior: 50495127!
test22

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cantListAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotCheckoutWithAnInvalidCartIDErrorDescription equals: anError messageText ].		
	
	! !

!methodRemoval: SystemFacade class #cantCheckoutWithAnInvalidCartIDErrorDescription stamp: 'JDR 6/13/2022 03:24:33'!
cantCheckoutWithAnInvalidCartIDErrorDescription
	
	^'cant checkout to an invalid cartID'!
!SystemFacade class methodsFor: 'error descriptions' stamp: 'JDR 6/13/2022 03:24:42'!
cannotListAnInvalidCartIdErrorDescription
	
	^'cant list an invalid cartID'! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:24:42' prior: 50486254!
test08

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: testingUtils invalidCartID ]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotListAnInvalidCartIdErrorDescription equals: anError messageText ].
! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:24:42' prior: 50488748!
listCart: aCartID 
	
	| cartSession |	
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cannotListAnInvalidCartIdErrorDescription ].
	cartSession isExpiredOn: timePass now do: [ self error: CartSession cannotListAnExpiredCartErrorDescription ].
	cartSession updateLastInteraction: timePass now.
	^ cartSession cart content.! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:24:42' prior: 50495518!
test22

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotListAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotCheckoutWithAnInvalidCartIDErrorDescription equals: anError messageText ].		
	
	! !

!methodRemoval: SystemFacade class #cantListAnInvalidCartIdErrorDescription stamp: 'JDR 6/13/2022 03:24:42'!
cantListAnInvalidCartIdErrorDescription
	
	^'cant list an invalid cartID'!

!classDefinition: #SalesBookTest category: 'TusLibros' stamp: 'JDR 6/13/2022 03:28:22'!
TestCase subclass: #SalesBookTest
	instanceVariableNames: 'testingUtils'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:28:22' prior: 50494446!
test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 expectedSaleOfClient1 expectedSaleOfClient2 |
		
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2.
		
	expectedSaleOfClient1 _ OrderedCollection with: sale1.
	expectedSaleOfClient2 _ OrderedCollection with: sale2.
	
	self assert: expectedSaleOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).
	self assert: expectedSaleOfClient2 equals: (salesBook getSalesBy: testingUtils clientID2).
	! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:28:22' prior: 50493889!
test03ClientIDOfACheckedOutSaleShouldBeBuyerID

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.	
	
	self assert: testingUtils clientID1 equals: sale clientID.
	! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:28:22' prior: 50494267!
test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID

	| salesBook cashier merchantProcessor cart1 cart2 sale1 expectedSaleOfClient |
		
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
		
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	expectedSaleOfClient _ OrderedCollection with: sale1.
	
	self assert: expectedSaleOfClient equals: (salesBook getSalesBy: testingUtils clientID1).
	! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:28:22' prior: 50494895!
test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 expectedSalesOfClient1 |
		
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	expectedSalesOfClient1 _ OrderedCollection with: sale1 with: sale2.
	
	self assert: expectedSalesOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).
	! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:28:22' prior: 50494321!
test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self assert: (salesBook hasRegistered: sale).
	self deny: salesBook isEmpty .
	! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:28:22' prior: 50492389 overrides: 16961394!
setUp

	testingUtils _ TestingUtils new.	! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:28:22' prior: 50493472!
test05TransactionIDOfDifferentCheckoutsShouldBeDifferent

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 |
		
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils book amount: 1.
	cart2 add: testingUtils book amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self deny: (sale1 transactionID) = (sale2 transactionID).
	! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'JDR 6/13/2022 03:28:22' prior: 50494064!
test04ContentOfACheckedOutSaleShouldBeSaleContent

	| salesBook cart cashier merchantProcessor sale saleContents |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	saleContents _ cart content.	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self assert: saleContents  equals: sale content.
	! !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 03:30:32'!
test01CreatingACartForAnUnregisteredClientShouldRaiseAnError

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!methodRemoval: SystemFacadeTest #test01 stamp: 'JDR 6/13/2022 03:30:32'!
test01

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	self should: [ systemFacade createCartForUser: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 !
!SystemFacadeTest methodsFor: 'testing - authentication' stamp: 'JDR 6/13/2022 03:31:51'!
test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 ! !

!methodRemoval: SystemFacadeTest #test02 stamp: 'JDR 6/13/2022 03:31:51'!
test02

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	self should: [ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	
	 !
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 03:34:31'!
test03ListCartOfAnEmptyCartShouldBeEmpty

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !

!methodRemoval: SystemFacadeTest #test03 stamp: 'JDR 6/13/2022 03:34:31'!
test03

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 03:34:40'!
test03ListCartOfACreatedCartShouldBeEmpty

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.! !

!methodRemoval: SystemFacadeTest #test03ListCartOfAnEmptyCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:34:40'!
test03ListCartOfAnEmptyCartShouldBeEmpty

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self assert: (systemFacade listCart: cartID) isEmpty.!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 03:35:25' prior: 50486048!
test04

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: cartID1 = cartID2! !

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:35:25'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartForAnUnregisteredClientShouldRaiseAnError stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test03ListCartOfACreatedCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:35:26'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - create cart' stamp: 'JDR 6/13/2022 03:37:54'!
test04CartIDsOfDifferentCartsShouldBeDifferent

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: cartID1 = cartID2! !

!methodRemoval: SystemFacadeTest #test04 stamp: 'JDR 6/13/2022 03:37:54'!
test04

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: cartID1 = cartID2!
!SystemFacadeTest methodsFor: 'testing - create cart' stamp: 'JDR 6/13/2022 03:38:54'!
test04CreatingCartsForDifferentClientsShouldAssignDifferentCartIds

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: cartID1 = cartID2! !

!methodRemoval: SystemFacadeTest #test04CartIDsOfDifferentCartsShouldBeDifferent stamp: 'JDR 6/13/2022 03:38:54'!
test04CartIDsOfDifferentCartsShouldBeDifferent

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: cartID1 = cartID2!
!SystemFacadeTest methodsFor: 'testing - create cart' stamp: 'JDR 6/13/2022 03:39:01'!
test04CreatingCartsForDifferentClientsShouldAssignDifferentCartIDs

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: cartID1 = cartID2! !

!methodRemoval: SystemFacadeTest #test04CreatingCartsForDifferentClientsShouldAssignDifferentCartIds stamp: 'JDR 6/13/2022 03:39:01'!
test04CreatingCartsForDifferentClientsShouldAssignDifferentCartIds

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: cartID1 = cartID2!
!SystemFacadeTest methodsFor: 'testing - create cart' stamp: 'JDR 6/13/2022 03:39:22'!
test04CreatingMultipleCartsShouldAssignThemDifferentCartIDs

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: cartID1 = cartID2! !

!methodRemoval: SystemFacadeTest #test04CreatingCartsForDifferentClientsShouldAssignDifferentCartIDs stamp: 'JDR 6/13/2022 03:39:22'!
test04CreatingCartsForDifferentClientsShouldAssignDifferentCartIDs

	| cartID1 cartID2 merchantProcessor salesBook systemAuthenticator systemFacade timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2. 
		
	self deny: cartID1 = cartID2!
!SystemFacadeTest methodsFor: 'testing - list cart' stamp: 'JDR 6/13/2022 03:40:08'!
test08ListCartOfAnInvalidCartIDShouldRaiseAnError

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: testingUtils invalidCartID ]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotListAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!methodRemoval: SystemFacadeTest #test08 stamp: 'JDR 6/13/2022 03:40:08'!
test08

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade listCart: testingUtils invalidCartID ]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotListAnInvalidCartIdErrorDescription equals: anError messageText ].
!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/13/2022 03:40:42'!
test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.! !

!methodRemoval: SystemFacadeTest #test05 stamp: 'JDR 6/13/2022 03:40:42'!
test05

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/13/2022 03:42:04'!
test06ListCartOfDifferentCartsShouldMatchTheirCartContent

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !

!methodRemoval: SystemFacadeTest #test06 stamp: 'JDR 6/13/2022 03:42:04'!
test06

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/13/2022 03:42:17'!
test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !

!methodRemoval: SystemFacadeTest #test06ListCartOfDifferentCartsShouldMatchTheirCartContent stamp: 'JDR 6/13/2022 03:42:17'!
test06ListCartOfDifferentCartsShouldMatchTheirCartContent

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils book2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/13/2022 03:44:28' prior: 50495195!
test07

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
			
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:44:28'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartForAnUnregisteredClientShouldRaiseAnError stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test03ListCartOfACreatedCartShouldBeEmpty stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test04CreatingMultipleCartsShouldAssignThemDifferentCartIDs stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test08ListCartOfAnInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!

!testRun: #SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:44:29'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/13/2022 03:44:45'!
test07AddingAnItemToAInvalidCartIDShouldRaiseAnError

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
			
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !

!methodRemoval: SystemFacadeTest #test07 stamp: 'JDR 6/13/2022 03:44:45'!
test07

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
			
	self should: [systemFacade add: testingUtils book amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
!
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'JDR 6/13/2022 03:45:18'!
test09AddingToCartABookNotInCatalogShouldRaiseAnError

	| systemFacade systemAuthenticator cartID merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils unregisteredBook amount: 1 to: cartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddBooksNotInCatalogErrorDescription equals: anError messageText ].
! !

!methodRemoval: SystemFacadeTest #test09 stamp: 'JDR 6/13/2022 03:45:18'!
test09

	| systemFacade systemAuthenticator cartID merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils unregisteredBook amount: 1 to: cartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddBooksNotInCatalogErrorDescription equals: anError messageText ].
!
!SystemFacadeTest methodsFor: 'testing - checkout' stamp: 'JDR 6/13/2022 03:46:59'!
test10CheckoutOfAnEmptyCartShouldRaiseAnError

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cannotCheckoutAnEmptyCartErrorDescription  equals: anError messageText] .
	! !

!methodRemoval: SystemFacadeTest #test10 stamp: 'JDR 6/13/2022 03:46:59'!
test10

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	self should: [systemFacade checkout: cartID1 with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cannotCheckoutAnEmptyCartErrorDescription  equals: anError messageText] .
	!
!SystemFacadeTest methodsFor: 'testing - checkout' stamp: 'JDR 6/13/2022 03:47:17'!
test11CheckoutOfAnInvalidCartIDShouldRaiseAnError

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	
	self should: [systemFacade checkout: testingUtils invalidCartID with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cannotCheckoutWithAnInvalidCartIDErrorDescription  equals: anError messageText] .
	! !

!methodRemoval: SystemFacadeTest #test11 stamp: 'JDR 6/13/2022 03:47:17'!
test11

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	
	self should: [systemFacade checkout: testingUtils invalidCartID with: (testingUtils validCreditCard)] 
		raise: Error - MessageNotUnderstood  
		withExceptionDo: [:anError | self assert: SystemFacade cannotCheckoutWithAnInvalidCartIDErrorDescription  equals: anError messageText] .
	!
!SystemFacadeTest methodsFor: 'testing - checkout' stamp: 'JDR 6/13/2022 03:48:03'!
test12TransactionIDsForDifferentCheckoutsShouldBeDifferent

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 transactionID1 transactionID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.
		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	transactionID2 _ systemFacade checkout: cartID2 with: testingUtils validCreditCard	.
	
	self deny: transactionID1 = transactionID2
	
	
	 
	! !

!methodRemoval: SystemFacadeTest #test12 stamp: 'JDR 6/13/2022 03:48:03'!
test12

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 transactionID1 transactionID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.
		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	transactionID2 _ systemFacade checkout: cartID2 with: testingUtils validCreditCard	.
	
	self deny: transactionID1 = transactionID2
	
	
	 
	!
!SystemFacadeTest methodsFor: 'testing - cart expiration' stamp: 'JDR 6/13/2022 03:50:12'!
test18ListCartAfter30MinutesOfInactivityShouldRaiseAnError

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 30 * minute .	
	
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotListAnExpiredCartErrorDescription equals: anError messageText ]! !

!methodRemoval: SystemFacadeTest #test18 stamp: 'JDR 6/13/2022 03:50:12'!
test18

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 30 * minute .	
	
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotListAnExpiredCartErrorDescription equals: anError messageText ]!
!SystemFacadeTest methodsFor: 'testing - cart expiration' stamp: 'JDR 6/13/2022 03:51:02'!
test19ListCartShouldRefreshInactivityCounter

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 10* minute.		
	systemFacade listCart: cartID.
	
	timePassSimulator minutesPassed: 25* minute.	
	systemFacade listCart: cartID.
	! !

!methodRemoval: SystemFacadeTest #test19 stamp: 'JDR 6/13/2022 03:51:02'!
test19

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 10* minute.		
	systemFacade listCart: cartID.
	
	timePassSimulator minutesPassed: 25* minute.	
	systemFacade listCart: cartID.
	!
!SystemFacadeTest methodsFor: 'testing - cart expiration' stamp: 'JDR 6/13/2022 03:51:30'!
test19ListCartShouldRefreshLastCartInteraction

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 10* minute.		
	systemFacade listCart: cartID.
	
	timePassSimulator minutesPassed: 25* minute.	
	systemFacade listCart: cartID.
	! !

!methodRemoval: SystemFacadeTest #test19ListCartShouldRefreshInactivityCounter stamp: 'JDR 6/13/2022 03:51:30'!
test19ListCartShouldRefreshInactivityCounter

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 10* minute.		
	systemFacade listCart: cartID.
	
	timePassSimulator minutesPassed: 25* minute.	
	systemFacade listCart: cartID.
	!
!SystemFacadeTest methodsFor: 'testing - cart expiration' stamp: 'JDR 6/13/2022 03:52:09'!
test20AddingToCartAfter30MinutesOfInactivityShouldRaiseANError

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 10* minute.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 25* minute.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 30* minute.
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID.]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotAddToAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !

!methodRemoval: SystemFacadeTest #test20 stamp: 'JDR 6/13/2022 03:52:09'!
test20

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 10* minute.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 25* minute.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 30* minute.
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID.]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotAddToAnExpiredCartErrorDescription equals: anError messageText ]
	
	!
!SystemFacadeTest methodsFor: 'testing - cart expiration' stamp: 'JDR 6/13/2022 03:52:14'!
test20AddingToCartAfter30MinutesOfInactivityShouldRaiseAnError

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 10* minute.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 25* minute.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 30* minute.
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID.]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotAddToAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !

!methodRemoval: SystemFacadeTest #test20AddingToCartAfter30MinutesOfInactivityShouldRaiseANError stamp: 'JDR 6/13/2022 03:52:14'!
test20AddingToCartAfter30MinutesOfInactivityShouldRaiseANError

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 10* minute.		
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 25* minute.	
	systemFacade add: testingUtils book amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 30* minute.
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID.]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotAddToAnExpiredCartErrorDescription equals: anError messageText ]
	
	!
!SystemFacadeTest methodsFor: 'testing - cart expiration' stamp: 'JDR 6/13/2022 03:52:39'!
test21CheckoutOfACartAfter30MinutesOfInactivityShouldRaiseAnError

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	
	timePassSimulator minutesPassed: 30 * minute.
	
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotCheckoutAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !

!methodRemoval: SystemFacadeTest #test21 stamp: 'JDR 6/13/2022 03:52:39'!
test21

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	
	timePassSimulator minutesPassed: 30 * minute.
	
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotCheckoutAnExpiredCartErrorDescription equals: anError messageText ]
	
	!
!SystemFacadeTest methodsFor: 'testing - cart expiration' stamp: 'JDR 6/13/2022 03:53:37'!
test22CheckoutOfACartShouldRemoveCartIDFromSystem

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotListAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotCheckoutWithAnInvalidCartIDErrorDescription equals: anError messageText ].		
	
	! !

!methodRemoval: SystemFacadeTest #test22 stamp: 'JDR 6/13/2022 03:53:37'!
test22

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils book amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotListAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade add: testingUtils book amount: 1 to: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotCheckoutWithAnInvalidCartIDErrorDescription equals: anError messageText ].		
	
	!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 03:56:26'!
test16ListPurchasesForAnUnauthenticatedClientShouldRaiseAnError

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	self should: [ systemFacade listPurchasesOf: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	 
	! !

!methodRemoval: SystemFacadeTest #test16 stamp: 'JDR 6/13/2022 03:56:26'!
test16

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	self should: [ systemFacade listPurchasesOf: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	 
	!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 03:56:44' prior: 50485666!
test17

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils book.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils book.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils book2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils book2.	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID2 withPassword: testingUtils password2.
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	! !
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 03:58:16'!
test13ListPurchasesOfAClientWithAPurchaseShouldBe

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !

!methodRemoval: SystemFacadeTest #test13 stamp: 'JDR 6/13/2022 03:58:16'!
test13

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 03:58:43'!
test13ListPurchasesOfAClientWithAPurchaseShouldBeThatPurchase

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !

!methodRemoval: SystemFacadeTest #test13ListPurchasesOfAClientWithAPurchaseShouldBe stamp: 'JDR 6/13/2022 03:58:43'!
test13ListPurchasesOfAClientWithAPurchaseShouldBe

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 04:00:23'!
test14ListPurchasesOfAClientShouldUnifyClientsDifferentPurchasesOfAGivenItem

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase cartID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.	
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag new.
	expectedPurchase add: testingUtils book withOccurrences: 2.
	expectedPurchase add: testingUtils book2 withOccurrences: 1.
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !

!methodRemoval: SystemFacadeTest #test14 stamp: 'JDR 6/13/2022 04:00:23'!
test14

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase cartID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.	
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag new.
	expectedPurchase add: testingUtils book withOccurrences: 2.
	expectedPurchase add: testingUtils book2 withOccurrences: 1.
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 04:00:38'!
test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase cartID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.	
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag new.
	expectedPurchase add: testingUtils book withOccurrences: 2.
	expectedPurchase add: testingUtils book2 withOccurrences: 1.
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !

!methodRemoval: SystemFacadeTest #test14ListPurchasesOfAClientShouldUnifyClientsDifferentPurchasesOfAGivenItem stamp: 'JDR 6/13/2022 04:00:38'!
test14ListPurchasesOfAClientShouldUnifyClientsDifferentPurchasesOfAGivenItem

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase cartID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.	
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag new.
	expectedPurchase add: testingUtils book withOccurrences: 2.
	expectedPurchase add: testingUtils book2 withOccurrences: 1.
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 04:00:46'!
test16ListPurchasesOfAnUnauthenticatedClientShouldRaiseAnError

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	self should: [ systemFacade listPurchasesOf: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	 
	! !

!methodRemoval: SystemFacadeTest #test16ListPurchasesForAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:00:46'!
test16ListPurchasesForAnUnauthenticatedClientShouldRaiseAnError

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.

	self should: [ systemFacade listPurchasesOf: testingUtils invalidClientID withPassword: testingUtils invalidPassword . ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade invalidCredentialsErrorDescription equals: anError messageText ]
	 
	!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 04:01:45' prior: 50486285!
test15

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase expectedTotalAmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	expectedTotalAmount _ testingUtils catalog at: testingUtils book..
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	self assert: expectedTotalAmount equals: purchase value.
	 
	! !

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartForAnUnregisteredClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test03ListCartOfACreatedCartShouldBeEmpty stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test04CreatingMultipleCartsShouldAssignThemDifferentCartIDs stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test07AddingAnItemToAInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test08ListCartOfAnInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test09AddingToCartABookNotInCatalogShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test10CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test11CheckoutOfAnInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test12TransactionIDsForDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test13ListPurchasesOfAClientWithAPurchaseShouldBeThatPurchase stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test16ListPurchasesOfAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test18ListCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test19ListCartShouldRefreshLastCartInteraction stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test20AddingToCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test21CheckoutOfACartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!

!testRun: #SystemFacadeTest #test22CheckoutOfACartShouldRemoveCartIDFromSystem stamp: 'JDR 6/13/2022 04:01:47'!
PASSED!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 04:02:18'!
test13ListPurchasesOfAClientWithAPurchaseShouldReturnThatPurchase

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !

!methodRemoval: SystemFacadeTest #test13ListPurchasesOfAClientWithAPurchaseShouldBeThatPurchase stamp: 'JDR 6/13/2022 04:02:18'!
test13ListPurchasesOfAClientWithAPurchaseShouldBeThatPurchase

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 04:02:59'!
test15ListPurchasesOfAClientShouldReturnTotalAmountOfThosePurchases

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase expectedTotalAmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	expectedTotalAmount _ testingUtils catalog at: testingUtils book..
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	self assert: expectedTotalAmount equals: purchase value.
	 
	! !

!methodRemoval: SystemFacadeTest #test15 stamp: 'JDR 6/13/2022 04:02:59'!
test15

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase expectedTotalAmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils book.
	expectedTotalAmount _ testingUtils catalog at: testingUtils book..
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	self assert: expectedTotalAmount equals: purchase value.
	 
	!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 04:04:51'!
test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmount

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils book.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils book.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils book2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils book2.	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID2 withPassword: testingUtils password2.
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	! !

!methodRemoval: SystemFacadeTest #test17 stamp: 'JDR 6/13/2022 04:04:52'!
test17

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils book.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils book.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils book2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils book2.	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID2 withPassword: testingUtils password2.
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	!
!SystemFacadeTest methodsFor: 'testing - list purchases' stamp: 'JDR 6/13/2022 04:05:01'!
test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmountCorrectly

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils book.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils book.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils book2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils book2.	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID2 withPassword: testingUtils password2.
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	! !

!methodRemoval: SystemFacadeTest #test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmount stamp: 'JDR 6/13/2022 04:05:01'!
test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmount

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils book.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils book.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils book2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils book2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils book2.	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID2 withPassword: testingUtils password2.
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	!

!methodRemoval: CreditCardTest #test03CreditCardDateMustBeAMonthOfYear stamp: 'JDR 6/13/2022 04:07:32'!
test03CreditCardDateMustBeAMonthOfYear
	
	| testingUtils |
	testingUtils _ TestingUtils new.
	
	self should: [CreditCard ownedBy: testingUtils validCardName with: testingUtils validCardNumber expiratingOn: testingUtils invalidExpirationDate] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [:anError | self assert: CreditCard invalidExpirationDateErrorDescription equals: anError messageText ]. !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartForAnUnregisteredClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test03ListCartOfACreatedCartShouldBeEmpty stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test04CreatingMultipleCartsShouldAssignThemDifferentCartIDs stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test07AddingAnItemToAInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test08ListCartOfAnInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test09AddingToCartABookNotInCatalogShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test10CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test11CheckoutOfAnInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test12TransactionIDsForDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test13ListPurchasesOfAClientWithAPurchaseShouldReturnThatPurchase stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test15ListPurchasesOfAClientShouldReturnTotalAmountOfThosePurchases stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test16ListPurchasesOfAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmountCorrectly stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test18ListCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test19ListCartShouldRefreshLastCartInteraction stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test20AddingToCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test21CheckoutOfACartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!

!testRun: #SystemFacadeTest #test22CheckoutOfACartShouldRemoveCartIDFromSystem stamp: 'JDR 6/13/2022 04:07:44'!
PASSED!
!CreditCard class methodsFor: 'instance creation' stamp: 'JDR 6/13/2022 04:08:01' prior: 50475506!
ownedBy: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear 

	self assertNameIsValid: aName.	
	
	self assertCardNumberIsValid: aCardNumber.

	^self new initializeFor: aName with: aCardNumber expiratingOn: anExpirationMonthOfYear ! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartForAnUnregisteredClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test03ListCartOfACreatedCartShouldBeEmpty stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test04CreatingMultipleCartsShouldAssignThemDifferentCartIDs stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test07AddingAnItemToAInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test08ListCartOfAnInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test09AddingToCartABookNotInCatalogShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test10CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test11CheckoutOfAnInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test12TransactionIDsForDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test13ListPurchasesOfAClientWithAPurchaseShouldReturnThatPurchase stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test15ListPurchasesOfAClientShouldReturnTotalAmountOfThosePurchases stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test16ListPurchasesOfAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmountCorrectly stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test18ListCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test19ListCartShouldRefreshLastCartInteraction stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test20AddingToCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test21CheckoutOfACartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!testRun: #SystemFacadeTest #test22CheckoutOfACartShouldRemoveCartIDFromSystem stamp: 'JDR 6/13/2022 04:08:01'!
PASSED!

!methodRemoval: CreditCard class #invalidExpirationDateErrorDescription stamp: 'JDR 6/13/2022 04:08:08'!
invalidExpirationDateErrorDescription

	^'Expiration date must be a month and a year'!

!methodRemoval: CreditCard class #assertExpirationDateIsValid: stamp: 'JDR 6/13/2022 04:08:13'!
assertExpirationDateIsValid: anExpirationMonthOfYear

	^ (anExpirationMonthOfYear isKindOf: GregorianMonthOfYear) ifFalse: [self error: CreditCard invalidExpirationDateErrorDescription ]!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartForAnUnregisteredClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test03ListCartOfACreatedCartShouldBeEmpty stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test04CreatingMultipleCartsShouldAssignThemDifferentCartIDs stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test07AddingAnItemToAInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test08ListCartOfAnInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test09AddingToCartABookNotInCatalogShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test10CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test11CheckoutOfAnInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test12TransactionIDsForDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test13ListPurchasesOfAClientWithAPurchaseShouldReturnThatPurchase stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test15ListPurchasesOfAClientShouldReturnTotalAmountOfThosePurchases stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test16ListPurchasesOfAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmountCorrectly stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test18ListCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test19ListCartShouldRefreshLastCartInteraction stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test20AddingToCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test21CheckoutOfACartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!

!testRun: #SystemFacadeTest #test22CheckoutOfACartShouldRemoveCartIDFromSystem stamp: 'JDR 6/13/2022 04:08:15'!
PASSED!
!CreditCard class methodsFor: 'assertions' stamp: 'JDR 6/13/2022 04:09:04' prior: 50475551!
assertNameIsValid: aName

	^ (aName withoutSeparators isEmpty) ifTrue: [self error: CreditCard invalidNameErrorDescription ]! !
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/13/2022 04:09:26' prior: 50476056!
invalidCardName

	^ '                '! !
!TestingUtils methodsFor: 'credit card' stamp: 'JDR 6/13/2022 04:11:03' prior: 50499669!
invalidCardName

	^ '        640      '! !
!CreditCard class methodsFor: 'assertions' stamp: 'JDR 6/13/2022 04:12:46' prior: 50499662!
assertNameIsValid: aName

	(aName withoutSeparators isEmpty)
		ifTrue: [self error: CreditCard invalidNameErrorDescription ]
		ifFalse: [self assertOnlyLetters: aName]! !
!CreditCard class methodsFor: 'assertions' stamp: 'JDR 6/13/2022 04:14:40'!
assertOnlyLetters: aName

	^aName allSatisfy: [ :aCharacter | aCharacter isLetter ] ! !
!CreditCard class methodsFor: 'assertions' stamp: 'JDR 6/13/2022 04:16:34' prior: 50499679!
assertNameIsValid: aName

	((aName withoutSeparators isEmpty not) and: [self assertOnlyLetters: aName]) 		ifFalse: [self error: CreditCard invalidNameErrorDescription ]
		! !

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartForAnUnregisteredClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test03ListCartOfACreatedCartShouldBeEmpty stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test04CreatingMultipleCartsShouldAssignThemDifferentCartIDs stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test07AddingAnItemToAInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test08ListCartOfAnInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test09AddingToCartABookNotInCatalogShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test10CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test11CheckoutOfAnInvalidCartIDShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test12TransactionIDsForDifferentCheckoutsShouldBeDifferent stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test13ListPurchasesOfAClientWithAPurchaseShouldReturnThatPurchase stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test15ListPurchasesOfAClientShouldReturnTotalAmountOfThosePurchases stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test16ListPurchasesOfAnUnauthenticatedClientShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmountCorrectly stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test18ListCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test19ListCartShouldRefreshLastCartInteraction stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test20AddingToCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test21CheckoutOfACartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

!testRun: #SystemFacadeTest #test22CheckoutOfACartShouldRemoveCartIDFromSystem stamp: 'JDR 6/13/2022 04:16:38'!
PASSED!

----QUIT----(13 June 2022 04:18:59) CuisUniversity-5096.image priorSource: 4557982!

----STARTUP---- (13 June 2022 11:15:35) as /home/agus/Documents/ing1 2022/tusLibros-it3final/CuisUniversity-5096.image!


----End fileIn of /home/agus/Documents/ing1 2022/tusLibros-it3final/TusLibros-5.st----!
!Cashier methodsFor: 'checking out' stamp: 'AF 6/13/2022 11:36:44'!
assertIsNotEmpty: aCart

	
	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].! !
!Cashier methodsFor: 'checking out' stamp: 'AF 6/13/2022 11:36:50' prior: 50476576!
assertIsNotEmpty: aCart

	(aCart isEmpty) ifTrue:[self error: Cashier cannotCheckoutEmptyCartErrorDescription].! !
!Cashier methodsFor: 'checking out' stamp: 'AF 6/13/2022 11:37:42'!
assert: aCreditCard isNotExpiredOn: aDate
	
	(aCreditCard isExpiredOn: aDate) ifTrue: [self error: Cashier expiredCardErrorDescription]. ! !
!Cashier methodsFor: 'checking out' stamp: 'AF 6/13/2022 11:39:07' prior: 50475709!
checkout: aCart with: aCreditCard on: aDate for: aClientID 

	| sale finalPrice |
	self assertIsNotEmpty: aCart.
	self assert: aCreditCard isNotExpiredOn: aDate. 
	
	finalPrice _ self finalPrice: aCart subtotal.
	merchantProcessorSimulator debit: finalPrice from: aCreditCard on: aDate.
	sale _ salesBook addSaleWith: aCart content pricing: finalPrice for: aClientID.	
	
	aCart clearContent.
	
	^sale! !
!CashierTest methodsFor: 'nil' stamp: 'AF 6/13/2022 11:39:20'!
debit: finalPrice from: aCreditCard on: aDate.

	! !

!classDefinition: #CashierTest category: 'TusLibros' stamp: 'AF 6/13/2022 11:39:54'!
TestCase subclass: #CashierTest
	instanceVariableNames: 'testingUtils debitBehavior'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 11:39:53' prior: 50476612!
debit: finalPrice from: aCreditCard on: aDate.

	^debitBehavior value: finalPrice value: aCreditCard value: aDate! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:40:35' prior: 50474224 overrides: 16961394!
setUp

	testingUtils _ TestingUtils new.
	debitBehavior  _ [:aFinalPrice :aCreditCart :aDate| ]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:40:54' prior: 50474300!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	
	

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:41:56' prior: 50476638!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	
	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		].

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:42:57' prior: 50476667!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	
	

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:48:00' prior: 50474328!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		(testingUtils stolenCreditCardRegister includes: aCreditCard) ifTrue: [ self error: Cashier stolenCreditCardErrorDescription]
	].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:48:14' prior: 50476727!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		(testingUtils stolenCreditCardRegister includes: aCreditCard) ifTrue: [ self error: Cashier stolenCreditCardErrorDescription]
	].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: MerchantProcessorSimulator stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:48:25' prior: 50476762!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		(testingUtils stolenCreditCardRegister includes: aCreditCard) ifTrue: [ self error: Cashier stolenCreditCardErrorDescription]
	].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 11:48:31'!
ERROR!
!Cashier class methodsFor: 'error descriptions' stamp: 'AF 6/13/2022 11:48:39'!
stolenCreditCardErrorDescription
	self shouldBeImplemented.! !
!Cashier class methodsFor: 'error descriptions' stamp: 'AF 6/13/2022 11:49:46' prior: 50476834!
stolenCreditCardErrorDescription
	
	^'cannot debit from a stolen credit card'! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 11:49:48'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 11:49:48'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 11:49:48'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 11:49:48'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 11:49:48'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:51:40'!
test06
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		(testingUtils stolenCreditCardRegister includes: aCreditCard) ifTrue: [ self error: Cashier stolenCreditCardErrorDescription]
	].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:52:37'!
test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | self error: Cashier cannotDebitFromAFundlessCreditCard ].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:52:54' prior: 50476894!
test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | self error: Cashier cannotDebitFromAFundlessCreditCard ].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotDebitFromAFundlessCreditCard equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 11:53:00'!
ERROR!
!Cashier class methodsFor: 'error descriptions - merchant processor' stamp: 'AF 6/13/2022 11:53:05'!
cannotDebitFromAFundlessCreditCard
	self shouldBeImplemented.! !
!Cashier class methodsFor: 'error descriptions - merchant processor' stamp: 'AF 6/13/2022 11:53:39' prior: 50476959!
cannotDebitFromAFundlessCreditCard
	
	^'Cant debit from a fundless credit card'! !

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 11:53:40'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 11:53:40'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 11:53:40'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 11:53:40'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 11:53:40'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 11:53:40'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF 6/13/2022 11:53:40'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 11:53:40'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:54:26' prior: 50476797!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		(testingUtils stolenCreditCardRegister includes: aCreditCard) ifTrue: [ self error: Cashier stolenCreditCardErrorDescription]
	].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:55:22' prior: 50476862!
test06
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		(testingUtils stolenCreditCardRegister includes: aCreditCard) ifTrue: [ self error: Cashier stolenCreditCardErrorDescription]
	].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 11:56:42' prior: 50476698!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase merchantProcessor |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ CatchOutMerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:10:11'!
test07
	
	| cart cashier salesBook merchantProcessor sale expectedAmmount expectedCreditCard |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	expectedAmmount _ 100.
	expectedCreditCard _ testingUtils validCreditCard.
	debitBehavior _ [ :aFinalPrice :aCreditCard :aDate | | debitedCreditCard | 
		expectedAmmount := aFinalPrice.
		debitedCreditCard := aCreditCard 
	].
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:10:37' prior: 50477086!
test07
	
	| cart cashier salesBook merchantProcessor sale expectedAmmount expectedCreditCard |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	expectedAmmount _ 100.
	expectedCreditCard _ testingUtils validCreditCard.
	debitBehavior _ [ :aFinalPrice :aCreditCard :aDate |  
		expectedAmmount := aFinalPrice.
		expectedCreditCard := aCreditCard 
	].
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:10:48' prior: 50477116!
test07
	
	| cart cashier salesBook merchantProcessor sale expectedAmmount expectedCreditCard |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.

	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	expectedAmmount _ 100.
	expectedCreditCard _ testingUtils validCreditCard.
	debitBehavior _ [ :aFinalPrice :aCreditCard :aDate |  
		expectedAmmount := aFinalPrice.
		expectedCreditCard := aCreditCard 
	].
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:10:54' prior: 50477146!
test07
	
	| cart cashier salesBook sale expectedAmmount expectedCreditCard |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.

	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	expectedAmmount _ 100.
	expectedCreditCard _ testingUtils validCreditCard.
	debitBehavior _ [ :aFinalPrice :aCreditCard :aDate |  
		expectedAmmount := aFinalPrice.
		expectedCreditCard := aCreditCard 
	].
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:13:53' prior: 50477173!
test07
	
	| cart cashier salesBook sale debitedAmount debitedCreditCard debitedDate |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.

	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	debitedAmount _ 100.
	debitedCreditCard _ testingUtils validCreditCard.
	debitBehavior _ [ :aFinalPrice :aCreditCard :aDate |  
		debitedAmount _ aFinalPrice.
		debitedCreditCard _ aCreditCard.
		debitedDate _ aDate.
	].
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: debitedAmount equals: sale total.	
	self assert: debitedCreditCard equals: testingUtils validCreditCard.
	self assert: debitedDate equals: testingUtils validCheckoutMonthOfYear.! !

!testRun: #CashierTest #test07 stamp: 'AF 6/13/2022 12:13:58'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:13:58'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:13:58'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:13:58'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:13:58'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:13:58'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF 6/13/2022 12:13:58'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:13:58'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF 6/13/2022 12:13:58'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:18:14' prior: 50477058!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new..
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	debitBehavior _[:a :b :c | self error: 'should not be debiting']
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:18:18'!
ERROR!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:18:28' prior: 50477256!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new..
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	debitBehavior _[:a :b :c | self error: 'should not be debiting'].
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:18:28'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:18:28'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:18:28'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:18:28'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:18:28'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:18:28'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF 6/13/2022 12:18:28'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:18:28'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF 6/13/2022 12:18:28'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:19:44' prior: 50477286!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new..
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	self shouldNotDebitOnThisTest.
	debitBehavior _[:aFinalPrice :aCreditCart :aDate | self error: 'should not be debiting'].
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:19:50' prior: 50477342!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new..
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	self shouldNotDebitOnThisTest.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.
	

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:19:50'!
ERROR!
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:19:55'!
shouldNotDebitOnThisTest
	self shouldBeImplemented.! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:19:59' prior: 50477400!
shouldNotDebitOnThisTest
	
	debitBehavior _[:aFinalPrice :aCreditCart :aDate | self error: 'should not be debiting'].! !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:20:01'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:20:01'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:20:01'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:20:01'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:20:01'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:20:01'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF 6/13/2022 12:20:01'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:20:01'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF 6/13/2022 12:20:01'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:21:06' prior: 50474252!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier salesBook sale |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:21:10'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:21:10'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:21:10'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:21:10'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:21:10'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:21:10'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF 6/13/2022 12:21:10'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:21:10'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF 6/13/2022 12:21:10'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:21:25' prior: 50474228!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier salesBook |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	self shouldNotDebitOnThisTest.
	self should: [cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:21:25'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:21:25'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:21:25'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:21:25'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:21:25'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:21:25'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF 6/13/2022 12:21:25'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:21:25'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF 6/13/2022 12:21:25'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:21:30' prior: 50477490!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier salesBook |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	self shouldNotDebitOnThisTest.
	
	self should: [cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:21:30'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:21:30'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:21:30'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:21:30'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:21:30'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:21:30'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF 6/13/2022 12:21:30'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:21:30'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF 6/13/2022 12:21:30'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:22:04'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:22:04'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:22:04'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:22:04'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:22:04'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:22:04'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF 6/13/2022 12:22:04'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:22:04'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF 6/13/2022 12:22:04'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:22:30' prior: 50477441!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier salesBook sale |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:22:36' prior: 50477621!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier salesBook sale |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:22:36'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:22:36'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:22:36'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:22:36'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:22:36'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:22:36'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF 6/13/2022 12:22:36'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:22:36'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF 6/13/2022 12:22:36'!
PASSED!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:23:08' prior: 50477541!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier salesBook |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	self halt.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	self shouldNotDebitOnThisTest.
	
	self should: [cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:23:13' prior: 50477641!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier salesBook sale |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	self halt
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:23:20'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:23:20'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:23:20'!
PASSED!

!testRun: #CashierTest #test06 stamp: 'AF 6/13/2022 12:23:20'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:23:20'!
PASSED!

!testRun: #CashierTest #test07 stamp: 'AF 6/13/2022 12:23:20'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:23:40'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:23:50'!
ERROR!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:24:05' prior: 50477712!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier salesBook sale |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:24:11' prior: 50477690!
test01CheckoutOfAnEmptyCartShouldRaiseAnError

	| cart cashier salesBook |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	self shouldNotDebitOnThisTest.
	
	self should: [cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotCheckoutEmptyCartErrorDescription equals: anError messageText.
			self assert: salesBook isEmpty ].! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:24:50'!
test08
	
	| cart cashier salesBook sale debitedAmount debitedCreditCard debitedDate |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.

	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	debitedAmount _ 100.
	debitedCreditCard _ testingUtils validCreditCard.
	debitBehavior _ [ :aFinalPrice :aCreditCard :aDate |  
		debitedAmount _ aFinalPrice.
		debitedCreditCard _ aCreditCard.
		debitedDate _ aDate.
	].
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: debitedAmount equals: sale total.	
	self assert: debitedCreditCard equals: testingUtils validCreditCard.
	self assert: debitedDate equals: testingUtils validCheckoutMonthOfYear.! !

!methodRemoval: CashierTest #test07 stamp: 'AF 6/13/2022 12:24:54'!
test07
	
	| cart cashier salesBook sale debitedAmount debitedCreditCard debitedDate |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.

	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	debitedAmount _ 100.
	debitedCreditCard _ testingUtils validCreditCard.
	debitBehavior _ [ :aFinalPrice :aCreditCard :aDate |  
		debitedAmount _ aFinalPrice.
		debitedCreditCard _ aCreditCard.
		debitedDate _ aDate.
	].
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: debitedAmount equals: sale total.	
	self assert: debitedCreditCard equals: testingUtils validCreditCard.
	self assert: debitedDate equals: testingUtils validCheckoutMonthOfYear.!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:24:58'!
test07
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		(testingUtils stolenCreditCardRegister includes: aCreditCard) ifTrue: [ self error: Cashier stolenCreditCardErrorDescription]
	].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!methodRemoval: CashierTest #test06 stamp: 'AF 6/13/2022 12:25:01'!
test06
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		(testingUtils stolenCreditCardRegister includes: aCreditCard) ifTrue: [ self error: Cashier stolenCreditCardErrorDescription]
	].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]!
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:25:43' prior: 50476998!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		(testingUtils stolenCreditCardRegister includes: aCreditCard) ifTrue: [ self error: Cashier stolenCreditCardErrorDescription]
	].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !

!methodRemoval: CashierTest #test07 stamp: 'AF 6/13/2022 12:25:45'!
test07
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils book amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		(testingUtils stolenCreditCardRegister includes: aCreditCard) ifTrue: [ self error: Cashier stolenCreditCardErrorDescription]
	].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]!
!CatchOutMerchantProcessorSimulator class methodsFor: 'instance creation' stamp: 'AF 6/13/2022 12:26:36'!
withaaa: aStolenCardRegister 
	
	^self new initializeWith: aStolenCardRegister ! !

!methodRemoval: CatchOutMerchantProcessorSimulator class #with: stamp: 'AF 6/13/2022 12:26:42'!
with: aStolenCardRegister 
	
	^self new initializeWith: aStolenCardRegister !

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:26:49'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:26:49'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:26:49'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:26:49'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:26:49'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:26:49'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:26:49'!
PASSED!

!testRun: #CashierTest #test08 stamp: 'AF 6/13/2022 12:26:49'!
PASSED!

!classRemoval: #CatchOutMerchantProcessorSimulator stamp: 'AF 6/13/2022 12:26:54'!
Object subclass: #CatchOutMerchantProcessorSimulator
	instanceVariableNames: 'stolenCardRegister'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:26:56'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:26:56'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:26:56'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:26:56'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:26:56'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:26:56'!
PASSED!

!testRun: #CashierTest #test08 stamp: 'AF 6/13/2022 12:26:56'!
PASSED!
!MerchantProcessorSimulator methodsFor: 'debiting' stamp: 'AF 6/13/2022 12:28:43' prior: 50475948!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	"self assertCreditCardIsAValidObject: aCreditCard.
	self assert: aCreditCard isNotExpiredOn: aMonthOfYear.
	self assertCreditCardIsNotStolen: aCreditCard."! !

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:43'!
FAILURE!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:43'!
FAILURE!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:43'!
FAILURE!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:43'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CashierTest #test08 stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
FAILURE!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
FAILURE!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
FAILURE!

!testRun: #MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartForAnUnregisteredClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test03ListCartOfACreatedCartShouldBeEmpty stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test04CreatingMultipleCartsShouldAssignThemDifferentCartIDs stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test07AddingAnItemToAInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test08ListCartOfAnInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test09AddingToCartABookNotInCatalogShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test10CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test11CheckoutOfAnInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test12TransactionIDsForDifferentCheckoutsShouldBeDifferent stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test13ListPurchasesOfAClientWithAPurchaseShouldReturnThatPurchase stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test15ListPurchasesOfAClientShouldReturnTotalAmountOfThosePurchases stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test16ListPurchasesOfAnUnauthenticatedClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmountCorrectly stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test18ListCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test19ListCartShouldRefreshLastCartInteraction stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test20AddingToCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test21CheckoutOfACartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:28:48'!
PASSED!

!testRun: #SystemFacadeTest #test22CheckoutOfACartShouldRemoveCartIDFromSystem stamp: 'AF 6/13/2022 12:28:48'!
PASSED!
!MerchantProcessorSimulator methodsFor: 'debiting' stamp: 'AF 6/13/2022 12:29:13' prior: 50478042!
debit: anAmount from: aCreditCard on: aMonthOfYear 

	self assertCreditCardIsAValidObject: aCreditCard.
	self assert: aCreditCard isNotExpiredOn: aMonthOfYear.
	self assertCreditCardIsNotStolen: aCreditCard.! !
!CashierTest methodsFor: 'testing' stamp: 'AF 6/13/2022 12:29:59'!
test07CashierChargesCreditCardUsingMerchantProcessor
	
	| cart cashier salesBook sale debitedAmount debitedCreditCard debitedDate |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.

	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	debitedAmount _ 100.
	debitedCreditCard _ testingUtils validCreditCard.
	debitBehavior _ [ :aFinalPrice :aCreditCard :aDate |  
		debitedAmount _ aFinalPrice.
		debitedCreditCard _ aCreditCard.
		debitedDate _ aDate.
	].
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: debitedAmount equals: sale total.	
	self assert: debitedCreditCard equals: testingUtils validCreditCard.
	self assert: debitedDate equals: testingUtils validCheckoutMonthOfYear.! !

!methodRemoval: CashierTest #test08 stamp: 'AF 6/13/2022 12:29:59'!
test08
	
	| cart cashier salesBook sale debitedAmount debitedCreditCard debitedDate |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.

	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	debitedAmount _ 100.
	debitedCreditCard _ testingUtils validCreditCard.
	debitBehavior _ [ :aFinalPrice :aCreditCard :aDate |  
		debitedAmount _ aFinalPrice.
		debitedCreditCard _ aCreditCard.
		debitedDate _ aDate.
	].
	
	cart add: testingUtils book amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: debitedAmount equals: sale total.	
	self assert: debitedCreditCard equals: testingUtils validCreditCard.
	self assert: debitedDate equals: testingUtils validCheckoutMonthOfYear.!

!methodRemoval: MerchantProcessorSimulatorTest #test04DebitFromAFundlessCreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:33:33'!
test04DebitFromAFundlessCreditCardShouldRaiseAnError

	"| merchantProcessor amount testingUtils |
	testingUtils _ TestingUtils new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.
	amount _ 100.
	
	self should: [ merchantProcessor debit: amount from: testingUtils fundlessCreditCard on: testingUtils validCheckoutMonthOfYear ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: MerchantProcessorSimulator fundlessCreditCardErrorDescription equals: anError messageText .]"
	
	!

!classDefinition: #SystemFacade category: 'TusLibros' stamp: 'AF 6/13/2022 12:34:59'!
Object subclass: #SystemFacade
	instanceVariableNames: 'systemAuthenticator currentCartId catalog salesBook merchantProcessor cartSessions timePass'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:34:59' prior: 50476185!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessorSimulator measuringTimeWith: aTimePass 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessor := aMerchantProcessorSimulator.
	timePass := aTimePass.! !
!SystemFacade methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:34:59' prior: 50476217!
checkout: aCartID with: aCreditCard 
	
	| cart cashier sale cartSession |
	cartSession _ self getCartSessionBy: aCartID ifAbsent: [self error: SystemFacade cannotCheckoutWithAnInvalidCartIDErrorDescription].
	cart _ cartSession cart.
	
	cart isEmpty ifTrue: [self error: SystemFacade cannotCheckoutAnEmptyCartErrorDescription].
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cartSession isExpiredOn: timePass now do: [ self error: CartSession cannotCheckoutAnExpiredCartErrorDescription ].
	sale _ cashier checkout: cart with: aCreditCard on: timePass nowAsMonthOfYear for: cartSession clientID .
	
	cartSessions remove: cartSession.
	
	^sale transactionID.! !
!SystemFacade methodsFor: 'initialization' stamp: 'AF 6/13/2022 12:35:08' prior: 50478360!
initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessor measuringTimeWith: aTimePass 
	
	currentCartId _ 1.
	cartSessions _ OrderedCollection new.
	systemAuthenticator := aSystemAuthenticator.
	catalog := aCatalog.
	salesBook := aSalesBook.
	merchantProcessor := aMerchantProcessor.
	timePass := aTimePass.! !
!SystemFacade class methodsFor: 'instance creation' stamp: 'AF 6/13/2022 12:35:16' prior: 50476320!
authenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessor measuringTimeWith: aTimePass 
	
	^self new initializeAuthenticatingWith: aSystemAuthenticator with: aCatalog registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessor measuringTimeWith: aTimePass ! !
!Cashier class methodsFor: 'instance creation' stamp: 'AF 6/13/2022 12:35:30' prior: 50475748!
registeringSalesOn: aSalesBook debitingFrom: aMerchantProcessor 
	
	^self new initializeRegisteringSalesOn: aSalesBook debitingFrom: aMerchantProcessor ! !
!Cashier methodsFor: 'initialization' stamp: 'AF 6/13/2022 12:35:40' prior: 50475732!
initializeRegisteringSalesOn: aSalesBook debitingFrom: aMerchantProcessor 
	
	salesBook := aSalesBook.
	merchantProcessorSimulator := aMerchantProcessor.! !

!classDefinition: #Cashier category: 'TusLibros' stamp: 'AF 6/13/2022 12:35:47'!
Object subclass: #Cashier
	instanceVariableNames: 'salesBook merchantProcessor'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!Cashier methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:35:47' prior: 50478439!
initializeRegisteringSalesOn: aSalesBook debitingFrom: aMerchantProcessor 
	
	salesBook := aSalesBook.
	merchantProcessor := aMerchantProcessor.! !
!Cashier methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:35:47' prior: 50476597!
checkout: aCart with: aCreditCard on: aDate for: aClientID 

	| sale finalPrice |
	self assertIsNotEmpty: aCart.
	self assert: aCreditCard isNotExpiredOn: aDate. 
	
	finalPrice _ self finalPrice: aCart subtotal.
	merchantProcessor debit: finalPrice from: aCreditCard on: aDate.
	sale _ salesBook addSaleWith: aCart content pricing: finalPrice for: aClientID.	
	
	aCart clearContent.
	
	^sale! !

!classDefinition: #SalesBook category: 'TusLibros' stamp: 'AF 6/13/2022 12:37:22'!
Object subclass: #SalesBook
	instanceVariableNames: 'sales currentSaleID'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:37:22' prior: 50476064!
getNextSaleID
	
	| saleID |
	saleID _ currentSaleID.
	currentSaleID _ currentSaleID + 1	.
	^saleID! !
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:37:22' prior: 50476088 overrides: 16920235!
initialize

	sales _ OrderedCollection new.
	currentSaleID _ 1.! !
!SalesBook methodsFor: 'adding - private' stamp: 'AF 6/13/2022 12:38:13'!
getCurrentSaleID
	
	| saleID |
	saleID _ currentSaleID.
	currentSaleID _ currentSaleID + 1	.
	^saleID! !
!SalesBook methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:38:13' prior: 50476069!
addSaleWith: aSaleContents pricing: aFinalPrice for: aClientID 
	
	| sale saleID |
	saleID _ self getCurrentSaleID.
	sale _ Sale with: aSaleContents pricing: aFinalPrice for: aClientID identifyingBy: saleID.
	sales add: sale.
	
	^sale.! !

!methodRemoval: SalesBook #getNextSaleID stamp: 'AF 6/13/2022 12:38:13'!
getNextSaleID
	
	| saleID |
	saleID _ currentSaleID.
	currentSaleID _ currentSaleID + 1	.
	^saleID!
!TestingUtils methodsFor: 'book' stamp: 'AF 6/13/2022 12:39:25'!
bookISBN2

	^2! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:25' prior: 50475201!
test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils book amount: 1 to: cartID1.
	systemFacade add: testingUtils bookISBN2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils book.
	expectedCartContentsForCart2 _ Bag with: testingUtils bookISBN2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:25' prior: 50474275!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice salesBook merchantProcessor sale |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils book amount: 3.
	cart add: testingUtils bookISBN2 amount: 1.
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: sale total .
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:25' prior: 50474760!
test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase cartID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID2.	
	systemFacade add: testingUtils bookISBN2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag new.
	expectedPurchase add: testingUtils book withOccurrences: 2.
	expectedPurchase add: testingUtils bookISBN2 withOccurrences: 1.
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:25' prior: 50474883!
test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmountCorrectly

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils book amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils book.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils book.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils bookISBN2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils bookISBN2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils bookISBN2.	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID2 withPassword: testingUtils password2.
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:25' prior: 50476477!
catalog
	
	| catalog |
	catalog _ Dictionary new.
	catalog at: self book put: 100.
	catalog at: self bookISBN2 put: 50.
	^catalog! !

!methodRemoval: TestingUtils #book2 stamp: 'AF 6/13/2022 12:39:25'!
book2

	^2!
!TestingUtils methodsFor: 'book' stamp: 'AF 6/13/2022 12:39:44'!
bookISBN

	^1! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474126!
test08CanConsultCartTotalPrice
	
	| cart bookPrice testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	cart add: testingUtils bookISBN amount: 3.
	
	bookPrice _ testingUtils catalog at: testingUtils bookISBN.
	
	self assert: 3 * bookPrice equals: cart subtotal.

	! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474609!
test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID

	| salesBook cashier merchantProcessor cart1 cart2 sale1 expectedSaleOfClient |
		
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
		
	cart1 add: testingUtils bookISBN amount: 1.
	cart2 add: testingUtils bookISBN amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	expectedSaleOfClient _ OrderedCollection with: sale1.
	
	self assert: expectedSaleOfClient equals: (salesBook getSalesBy: testingUtils clientID1).
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50477371!
test04CheckoutWithAnExpiredCardShouldRaiseAnError
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new..
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	self shouldNotDebitOnThisTest.
	
	cart add: testingUtils bookISBN amount: 1.
	purchase _ cart content.
	

	self should: [ cashier checkout: cart with: testingUtils expiredCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier expiredCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474675!
test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 expectedSalesOfClient1 |
		
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils bookISBN amount: 1.
	cart2 add: testingUtils bookISBN amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	expectedSalesOfClient1 _ OrderedCollection with: sale1 with: sale2.
	
	self assert: expectedSalesOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474950!
test07AddingAnItemToAInvalidCartIDShouldRaiseAnError

	| systemFacade systemAuthenticator merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
			
	self should: [systemFacade add: testingUtils bookISBN amount: 1 to: testingUtils invalidCartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474723!
test13ListPurchasesOfAClientWithAPurchaseShouldReturnThatPurchase

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils bookISBN.
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50478567!
test03CheckoutOfACartEqualsCartSubtotal
	
	| cart cashier expectedPrice salesBook merchantProcessor sale |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils bookISBN amount: 3.
	cart add: testingUtils bookISBN2 amount: 1.
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	expectedPrice _ 350.
	
	self assert: expectedPrice equals: sale total .
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50475403!
test12TransactionIDsForDifferentCheckoutsShouldBeDifferent

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 transactionID1 transactionID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID1.
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID2.
		
	transactionID1 _ systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	transactionID2 _ systemFacade checkout: cartID2 with: testingUtils validCreditCard	.
	
	self deny: transactionID1 = transactionID2
	
	
	 
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50478270!
test07CashierChargesCreditCardUsingMerchantProcessor
	
	| cart cashier salesBook sale debitedAmount debitedCreditCard debitedDate |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.

	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	debitedAmount _ 100.
	debitedCreditCard _ testingUtils validCreditCard.
	debitBehavior _ [ :aFinalPrice :aCreditCard :aDate |  
		debitedAmount _ aFinalPrice.
		debitedCreditCard _ aCreditCard.
		debitedDate _ aDate.
	].
	
	cart add: testingUtils bookISBN amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: debitedAmount equals: sale total.	
	self assert: debitedCreditCard equals: testingUtils validCreditCard.
	self assert: debitedDate equals: testingUtils validCheckoutMonthOfYear.! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474558!
test04ContentOfACheckedOutSaleShouldBeSaleContent

	| salesBook cart cashier merchantProcessor sale saleContents |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils bookISBN amount: 1.
	saleContents _ cart content.	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self assert: saleContents  equals: sale content.
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50477758!
test02CheckoutOfACartWithOneBookShouldMatchBookPrice
	
	| cart cashier salesBook sale |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	cart add: testingUtils bookISBN amount: 1.
	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
		
	self assert: 100 equals: sale total.	
	self assert: cart isEmpty.
	self assert: (salesBook hasRegistered: sale).! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50478523!
test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent

	| systemFacade systemAuthenticator cartID1 cartID2 expectedCartContentsForCart1 expectedCartContentsForCart2 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID1.
	systemFacade add: testingUtils bookISBN2 amount: 1 to: cartID2.
	
	expectedCartContentsForCart1 _ Bag with: testingUtils bookISBN.
	expectedCartContentsForCart2 _ Bag with: testingUtils bookISBN2.
		
	self assert: expectedCartContentsForCart1 equals: (systemFacade listCart: cartID1).
	self assert: expectedCartContentsForCart2 equals: (systemFacade listCart: cartID2).! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474515!
test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils bookISBN amount: 1.	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self assert: (salesBook hasRegistered: sale).
	self deny: salesBook isEmpty .
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50478593!
test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase cartID2 timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID2.	
	systemFacade add: testingUtils bookISBN2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag new.
	expectedPurchase add: testingUtils bookISBN withOccurrences: 2.
	expectedPurchase add: testingUtils bookISBN2 withOccurrences: 1.
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	
	 
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474810!
test15ListPurchasesOfAClientShouldReturnTotalAmountOfThosePurchases

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 expectedPurchase purchase expectedTotalAmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	expectedPurchase _ Bag with: testingUtils bookISBN.
	expectedTotalAmount _ testingUtils catalog at: testingUtils bookISBN..
	
	purchase _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	
	self assert: expectedPurchase equals: purchase key.
	self assert: expectedTotalAmount equals: purchase value.
	 
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50475013!
test20AddingToCartAfter30MinutesOfInactivityShouldRaiseAnError

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	
	timePassSimulator minutesPassed: 10* minute.		
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 25* minute.	
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID.
	
	timePassSimulator minutesPassed: 30* minute.
	self should: [ systemFacade add: testingUtils bookISBN amount: 1 to: cartID.]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotAddToAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474176!
test05OnlyCanAddToCartAPositiveAmountOfABook

	| cart book invalidAmount testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	book _ testingUtils bookISBN.			
	invalidAmount _ 0.
	
	self 
		should: [ cart add: book amount: invalidAmount ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50475444!
test21CheckoutOfACartAfter30MinutesOfInactivityShouldRaiseAnError

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID.	
	
	timePassSimulator minutesPassed: 30 * minute.
	
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: CartSession cannotCheckoutAnExpiredCartErrorDescription equals: anError messageText ]
	
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474194!
test07OnlyCanAddToCartAnIntegerAmountOfABook

	| cart book invalidAmount testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	book _ testingUtils bookISBN.			
	invalidAmount _ 1.1.
	
	self 
		should: [ cart add: book amount: invalidAmount ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart invalidBookAmountErrorDescription .
			self assert: cart isEmpty.
		]
	

	! !
!TestingUtils methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50478711!
catalog
	
	| catalog |
	catalog _ Dictionary new.
	catalog at: self bookISBN put: 100.
	catalog at: self bookISBN2 put: 50.
	^catalog! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474637!
test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 expectedSaleOfClient1 expectedSaleOfClient2 |
		
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils bookISBN amount: 1.
	cart2 add: testingUtils bookISBN amount: 1.	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1. 
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID2.
		
	expectedSaleOfClient1 _ OrderedCollection with: sale1.
	expectedSaleOfClient2 _ OrderedCollection with: sale2.
	
	self assert: expectedSaleOfClient1 equals: (salesBook getSalesBy: testingUtils clientID1).
	self assert: expectedSaleOfClient2 equals: (salesBook getSalesBy: testingUtils clientID2).
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50475481!
test22CheckoutOfACartShouldRemoveCartIDFromSystem

	| systemFacade cartID systemAuthenticator merchantProcessor salesBook timePassSimulator |

	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.	
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID.	
	systemFacade checkout: cartID with: (testingUtils validCreditCard).
		
	self should: [ systemFacade listCart: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotListAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade add: testingUtils bookISBN amount: 1 to: cartID ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddToAnInvalidCartIdErrorDescription equals: anError messageText ].
		
	self should: [ systemFacade checkout: cartID with: (testingUtils validCreditCard) ]
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotCheckoutWithAnInvalidCartIDErrorDescription equals: anError messageText ].		
	
	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50477913!
test05CheckoutWithAStolenCardShouldRaiseAnError
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils bookISBN amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | 
		(testingUtils stolenCreditCardRegister includes: aCreditCard) ifTrue: [ self error: Cashier stolenCreditCardErrorDescription]
	].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier stolenCreditCardErrorDescription equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474580!
test05TransactionIDOfDifferentCheckoutsShouldBeDifferent

	| salesBook cashier merchantProcessor cart1 cart2 sale1 sale2 |
		
	cart1 _ Cart with: testingUtils catalog.
	cart2 _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart1 add: testingUtils bookISBN amount: 1.
	cart2 add: testingUtils bookISBN amount: 1.
	
	sale1 _ cashier checkout: cart1 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	sale2 _ cashier checkout: cart2 with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.
	
	self deny: (sale1 transactionID) = (sale2 transactionID).
	! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474113!
test06CanConsultCartContents

	| cart book expectedCartContent testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	book _ testingUtils bookISBN.
	
	cart add: book amount: 1.
	expectedCartContent _ Bag with: book.
	
	self assert: expectedCartContent equals: cart content
	
	
	
					
	

	

	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50475172!
test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty

	| systemFacade systemAuthenticator cartID1 merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1. 
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID1.
		
	self deny: (systemFacade listCart: cartID1) isEmpty.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474138!
test02ACartShouldNotBeEmptyAfterAddingBookToCart

	| cart book testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	book _ testingUtils bookISBN.
	
	cart add: book amount: 1.
	
	self deny: cart isEmpty.! !
!CartTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474148!
test03CanAddToCartAnAmountOfACertainBook

	| cart book amount testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	book _ testingUtils bookISBN.
	amount _ 3.
	
	cart add: book amount: amount.
	
	self assert: amount equals: (cart occurrencesOf: book)
	
	
	
					
	

	

	! !
!CashierTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50476926!
test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit
	
	| cart cashier salesBook purchase |
	
	cart _ Cart with: testingUtils catalog.
	salesBook _ SalesBook new.
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: self.
	
	cart add: testingUtils bookISBN amount: 1.
	purchase _ cart content.

	debitBehavior _  [ :aFinalPrice :aCreditCard :aDate | self error: Cashier cannotDebitFromAFundlessCreditCard ].

	self should: [ cashier checkout: cart with: testingUtils stolenCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | 
			self assert: Cashier cannotDebitFromAFundlessCreditCard equals: anError messageText .
			self deny: cart isEmpty.
			self deny: (salesBook hasRegistered: purchase).
		]! !
!SalesBookTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50474537!
test03ClientIDOfACheckedOutSaleShouldBeBuyerID

	| salesBook cart cashier merchantProcessor sale |
	
	cart _ Cart with: testingUtils catalog.	
	salesBook _ SalesBook new.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister .
	cashier _ Cashier registeringSalesOn: salesBook debitingFrom: merchantProcessor.
	
	cart add: testingUtils bookISBN amount: 1.	
	sale _ cashier checkout: cart with: testingUtils validCreditCard on: testingUtils validCheckoutMonthOfYear for: testingUtils clientID1.	
	
	self assert: testingUtils clientID1 equals: sale clientID.
	! !
!SystemFacadeTest methodsFor: 'as yet unclassified' stamp: 'AF 6/13/2022 12:39:44' prior: 50478644!
test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmountCorrectly

	| systemFacade systemAuthenticator merchantProcessor salesBook cartID1 cartID2 client1Purchases client1expectedPurchase client1expectedTotalAmmount client2Purchases client2expectedPurchase client2expectedTotalAmmount timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID1 _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
	systemFacade add: testingUtils bookISBN amount: 1 to: cartID1.		
	systemFacade checkout: cartID1 with: testingUtils validCreditCard.
	
	client1expectedPurchase _ Bag with: testingUtils bookISBN.
	client1expectedTotalAmmount _ testingUtils catalog at: testingUtils bookISBN.
	
	cartID2 _ systemFacade createCartForUser: testingUtils clientID2 withPassword: testingUtils password2.
	systemFacade add: testingUtils bookISBN2 amount: 1 to: cartID2.		
	systemFacade checkout: cartID2 with: testingUtils validCreditCard.
	
	client2expectedPurchase _ Bag with: testingUtils bookISBN2.
	client2expectedTotalAmmount _ testingUtils catalog at: testingUtils bookISBN2.	
	
	client1Purchases _ systemFacade listPurchasesOf: testingUtils clientID1 withPassword: testingUtils password1.
	client2Purchases _ systemFacade listPurchasesOf: testingUtils clientID2 withPassword: testingUtils password2.
	
	self assert: client1expectedPurchase equals: client1Purchases key.
	self assert: client1expectedTotalAmmount equals: client1Purchases value.
	
	self assert: client2expectedPurchase equals: client2Purchases key.
	self assert: client2expectedTotalAmmount equals: client2Purchases value.
	 
	! !

!methodRemoval: TestingUtils #book stamp: 'AF 6/13/2022 12:39:44'!
book

	^1!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CashierTest #test07CashierChargesCreditCardUsingMerchantProcessor stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartForAnUnregisteredClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test03ListCartOfACreatedCartShouldBeEmpty stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test04CreatingMultipleCartsShouldAssignThemDifferentCartIDs stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test07AddingAnItemToAInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test08ListCartOfAnInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test09AddingToCartABookNotInCatalogShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test10CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test11CheckoutOfAnInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test12TransactionIDsForDifferentCheckoutsShouldBeDifferent stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test13ListPurchasesOfAClientWithAPurchaseShouldReturnThatPurchase stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test15ListPurchasesOfAClientShouldReturnTotalAmountOfThosePurchases stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test16ListPurchasesOfAnUnauthenticatedClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmountCorrectly stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test18ListCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test19ListCartShouldRefreshLastCartInteraction stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test20AddingToCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test21CheckoutOfACartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:39:47'!
PASSED!

!testRun: #SystemFacadeTest #test22CheckoutOfACartShouldRemoveCartIDFromSystem stamp: 'AF 6/13/2022 12:39:47'!
PASSED!
!TestingUtils methodsFor: 'book' stamp: 'AF 6/13/2022 12:40:03'!
unregisteredBookISBN
	^0! !

!methodRemoval: TestingUtils #unregisteredBook stamp: 'AF 6/13/2022 12:40:03'!
unregisteredBook
	^0!
!CartTest methodsFor: 'test - exceptions' stamp: 'AF 6/13/2022 12:40:54' prior: 50474160!
test04OnlyCanAddToCartBooksInCatalog

	| cart testingUtils |
	testingUtils _ TestingUtils new.
	cart _ Cart with: testingUtils catalog.
	
	self 
		should: [ cart add: testingUtils unregisteredBookISBN amount: 1 ] 
		raise: Error - MessageNotUnderstood 
		withExceptionDo: [ :anError |
			self assert: anError messageText equals: Cart cannotAddBooksNotInCatalogErrorDescription.
			self assert: cart isEmpty.
		]
	

	! !
!SystemFacadeTest methodsFor: 'testing - add' stamp: 'AF 6/13/2022 12:40:58' prior: 50474980!
test09AddingToCartABookNotInCatalogShouldRaiseAnError

	| systemFacade systemAuthenticator cartID merchantProcessor salesBook timePassSimulator |
	
	systemAuthenticator _ SystemAuthenticator with: testingUtils userRegister.
	merchantProcessor _ MerchantProcessorSimulator with: testingUtils stolenCreditCardRegister.	
	salesBook _ SalesBook new.
	timePassSimulator _ TimePassSimulator startingOn: dateTime.
	systemFacade _ SystemFacade authenticatingWith: systemAuthenticator with: catalog registeringSalesOn: salesBook debitingFrom: merchantProcessor measuringTimeWith: timePassSimulator.
	
	cartID _ systemFacade createCartForUser: testingUtils clientID1 withPassword: testingUtils password1.
		
	self should: [systemFacade add: testingUtils unregisteredBookISBN amount: 1 to: cartID]
		raise:  Error - MessageNotUnderstood 
		withExceptionDo: [ :anError | self assert: SystemFacade cannotAddBooksNotInCatalogErrorDescription equals: anError messageText ].
! !

!testRun: #SystemFacadeTest #test09AddingToCartABookNotInCatalogShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartForAnUnregisteredClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test03ListCartOfACreatedCartShouldBeEmpty stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test04CreatingMultipleCartsShouldAssignThemDifferentCartIDs stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test07AddingAnItemToAInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test08ListCartOfAnInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test09AddingToCartABookNotInCatalogShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test10CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test11CheckoutOfAnInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test12TransactionIDsForDifferentCheckoutsShouldBeDifferent stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test13ListPurchasesOfAClientWithAPurchaseShouldReturnThatPurchase stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test15ListPurchasesOfAClientShouldReturnTotalAmountOfThosePurchases stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test16ListPurchasesOfAnUnauthenticatedClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmountCorrectly stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test18ListCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test19ListCartShouldRefreshLastCartInteraction stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test20AddingToCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test21CheckoutOfACartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #SystemFacadeTest #test22CheckoutOfACartShouldRemoveCartIDFromSystem stamp: 'AF 6/13/2022 12:41:03'!
PASSED!

!testRun: #CartTest #test01ANewCartShouldBeEmpty stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CartTest #test02ACartShouldNotBeEmptyAfterAddingBookToCart stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CartTest #test03CanAddToCartAnAmountOfACertainBook stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CartTest #test04OnlyCanAddToCartBooksInCatalog stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CartTest #test05OnlyCanAddToCartAPositiveAmountOfABook stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CartTest #test06CanConsultCartContents stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CartTest #test07OnlyCanAddToCartAnIntegerAmountOfABook stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CartTest #test08CanConsultCartTotalPrice stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CashierTest #test01CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CashierTest #test02CheckoutOfACartWithOneBookShouldMatchBookPrice stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CashierTest #test03CheckoutOfACartEqualsCartSubtotal stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CashierTest #test04CheckoutWithAnExpiredCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CashierTest #test05CheckoutWithAStolenCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CashierTest #test06CashierDoesNotSaleWhenTheCreditCardHasNoCredit stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CashierTest #test07CashierChargesCreditCardUsingMerchantProcessor stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test01DebitFromAnythingButACreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test02DebitFromAnExpiredCreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #MerchantProcessorSimulatorTest #test03DebitFromAStolenCreditCardShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SalesBookTest #test01ANewSalesBookShouldBeEmpty stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SalesBookTest #test02CheckoutOfACartWithACashierShouldRegisterSaleOnSalesBook stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SalesBookTest #test03ClientIDOfACheckedOutSaleShouldBeBuyerID stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SalesBookTest #test04ContentOfACheckedOutSaleShouldBeSaleContent stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SalesBookTest #test05TransactionIDOfDifferentCheckoutsShouldBeDifferent stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SalesBookTest #test06ASaleShouldBeRegisteredOnSalesBookUnderItsBuyerID stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SalesBookTest #test07SalesOfDifferentClientsShouldBeDistinguishedOnSalesBook stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SalesBookTest #test08MultipleSalesOfASingleClientShouldBeRegisteredOnSalesBookUnderTheSameBuyerID stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test01CreatingACartForAnUnregisteredClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test02CreatingACartForAnUnauthenticatedClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test03ListCartOfACreatedCartShouldBeEmpty stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test04CreatingMultipleCartsShouldAssignThemDifferentCartIDs stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test05ListCartOfACartAfterAddingAnItemShouldNotBeEmpty stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test06ListCartOfDifferentCartsShouldMatchTheirExpectedContent stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test07AddingAnItemToAInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test08ListCartOfAnInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test09AddingToCartABookNotInCatalogShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test10CheckoutOfAnEmptyCartShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test11CheckoutOfAnInvalidCartIDShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test12TransactionIDsForDifferentCheckoutsShouldBeDifferent stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test13ListPurchasesOfAClientWithAPurchaseShouldReturnThatPurchase stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test14ListPurchasesOfAClientShouldUnifyDifferentPurchasesOfAGivenItem stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test15ListPurchasesOfAClientShouldReturnTotalAmountOfThosePurchases stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test16ListPurchasesOfAnUnauthenticatedClientShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test17ListPurchasesOfDifferentClientsShouldReturnClientsPurchasesAndTotalAmountCorrectly stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test18ListCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test19ListCartShouldRefreshLastCartInteraction stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test20AddingToCartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test21CheckoutOfACartAfter30MinutesOfInactivityShouldRaiseAnError stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!testRun: #SystemFacadeTest #test22CheckoutOfACartShouldRemoveCartIDFromSystem stamp: 'AF 6/13/2022 12:41:05'!
PASSED!

!methodRemoval: TestingUtils #creditCardFundRegister stamp: 'AF 6/13/2022 12:41:32'!
creditCardFundRegister

	| dictionary |
	dictionary _ Dictionary new.
	dictionary at: self validCardNumber put: 100000.
	dictionary at: self stolenCreditCardNumber put: 100000.
	dictionary at: self expiredCreditCardNumber put: 100000.
	dictionary at: self fundlessCardNumber put: 0.
	^dictionary!

!methodRemoval: TestingUtils #fundlessCardNumber stamp: 'AF 6/13/2022 12:41:40'!
fundlessCardNumber 

	^'3333333333333333'!

!methodRemoval: TestingUtils #fundlessCreditCard stamp: 'AF 6/13/2022 12:41:54'!
fundlessCreditCard
	
	^CreditCard ownedBy: 'Jorge Sin Fondos' with: self fundlessCardNumber expiratingOn: self validCheckoutMonthOfYear !
!CreditCard class methodsFor: 'assertions' stamp: 'AF 6/13/2022 12:43:06' prior: 50475894!
assertNameIsValid: aName

	((aName withoutSeparators isEmpty not) and: [self assertOnlyLetters: (aName withoutSeparators)]) 		ifFalse: [self error: CreditCard invalidNameErrorDescription ]
		! !

!testRun: #CreditCardTest #test01CreditCardNumberMustBeLength16 stamp: 'AF 6/13/2022 12:43:07'!
PASSED!

!testRun: #CreditCardTest #test02CreditCardNameMustBeAValidName stamp: 'AF 6/13/2022 12:43:07'!
PASSED!

!classDefinition: #TimePassSimulator category: 'TusLibros' stamp: 'AF 6/13/2022 12:45:20'!
Object subclass: #TimePassSimulator
	instanceVariableNames: 'now'
	classVariableNames: ''
	poolDictionaries: ''
	category: 'TusLibros'!